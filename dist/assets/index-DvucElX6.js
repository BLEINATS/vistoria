(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function yb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function ij(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var t=a.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(a).forEach(function(r){var o=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return a[r]}})}),n}var ch={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function oj(){if(ny)return so;ny=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:u}}return so.Fragment=t,so.jsx=n,so.jsxs=n,so}var ry;function lj(){return ry||(ry=1,ch.exports=oj()),ch.exports}var l=lj(),uh={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function cj(){if(iy)return we;iy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function v(_){return _===null||typeof _!="object"?null:(_=x&&_[x]||_["@@iterator"],typeof _=="function"?_:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function T(_,O,X){this.props=_,this.context=O,this.refs=E,this.updater=X||j}T.prototype.isReactComponent={},T.prototype.setState=function(_,O){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,O,"setState")},T.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function A(){}A.prototype=T.prototype;function C(_,O,X){this.props=_,this.context=O,this.refs=E,this.updater=X||j}var N=C.prototype=new A;N.constructor=C,S(N,T.prototype),N.isPureReactComponent=!0;var P=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function F(_,O,X,se,te,le){return X=le.ref,{$$typeof:a,type:_,key:O,ref:X!==void 0?X:null,props:le}}function W(_,O){return F(_.type,O,void 0,void 0,void 0,_.props)}function J(_){return typeof _=="object"&&_!==null&&_.$$typeof===a}function H(_){var O={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(X){return O[X]})}var Z=/\/+/g;function Y(_,O){return typeof _=="object"&&_!==null&&_.key!=null?H(""+_.key):O.toString(36)}function re(){}function ue(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(re,re):(_.status="pending",_.then(function(O){_.status==="pending"&&(_.status="fulfilled",_.value=O)},function(O){_.status==="pending"&&(_.status="rejected",_.reason=O)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function ne(_,O,X,se,te){var le=typeof _;(le==="undefined"||le==="boolean")&&(_=null);var he=!1;if(_===null)he=!0;else switch(le){case"bigint":case"string":case"number":he=!0;break;case"object":switch(_.$$typeof){case a:case t:he=!0;break;case y:return he=_._init,ne(he(_._payload),O,X,se,te)}}if(he)return te=te(_),he=se===""?"."+Y(_,0):se,P(te)?(X="",he!=null&&(X=he.replace(Z,"$&/")+"/"),ne(te,O,X,"",function(We){return We})):te!=null&&(J(te)&&(te=W(te,X+(te.key==null||_&&_.key===te.key?"":(""+te.key).replace(Z,"$&/")+"/")+he)),O.push(te)),1;he=0;var Be=se===""?".":se+":";if(P(_))for(var xe=0;xe<_.length;xe++)se=_[xe],le=Be+Y(se,xe),he+=ne(se,O,X,le,te);else if(xe=v(_),typeof xe=="function")for(_=xe.call(_),xe=0;!(se=_.next()).done;)se=se.value,le=Be+Y(se,xe++),he+=ne(se,O,X,le,te);else if(le==="object"){if(typeof _.then=="function")return ne(ue(_),O,X,se,te);throw O=String(_),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return he}function U(_,O,X){if(_==null)return _;var se=[],te=0;return ne(_,se,"","",function(le){return O.call(X,le,te++)}),se}function G(_){if(_._status===-1){var O=_._result;O=O(),O.then(function(X){(_._status===0||_._status===-1)&&(_._status=1,_._result=X)},function(X){(_._status===0||_._status===-1)&&(_._status=2,_._result=X)}),_._status===-1&&(_._status=0,_._result=O)}if(_._status===1)return _._result.default;throw _._result}var I=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function K(){}return we.Children={map:U,forEach:function(_,O,X){U(_,function(){O.apply(this,arguments)},X)},count:function(_){var O=0;return U(_,function(){O++}),O},toArray:function(_){return U(_,function(O){return O})||[]},only:function(_){if(!J(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},we.Component=T,we.Fragment=n,we.Profiler=o,we.PureComponent=C,we.StrictMode=r,we.Suspense=m,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,we.__COMPILER_RUNTIME={__proto__:null,c:function(_){return D.H.useMemoCache(_)}},we.cache=function(_){return function(){return _.apply(null,arguments)}},we.cloneElement=function(_,O,X){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var se=S({},_.props),te=_.key,le=void 0;if(O!=null)for(he in O.ref!==void 0&&(le=void 0),O.key!==void 0&&(te=""+O.key),O)!z.call(O,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&O.ref===void 0||(se[he]=O[he]);var he=arguments.length-2;if(he===1)se.children=X;else if(1<he){for(var Be=Array(he),xe=0;xe<he;xe++)Be[xe]=arguments[xe+2];se.children=Be}return F(_.type,te,void 0,void 0,le,se)},we.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},we.createElement=function(_,O,X){var se,te={},le=null;if(O!=null)for(se in O.key!==void 0&&(le=""+O.key),O)z.call(O,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(te[se]=O[se]);var he=arguments.length-2;if(he===1)te.children=X;else if(1<he){for(var Be=Array(he),xe=0;xe<he;xe++)Be[xe]=arguments[xe+2];te.children=Be}if(_&&_.defaultProps)for(se in he=_.defaultProps,he)te[se]===void 0&&(te[se]=he[se]);return F(_,le,void 0,void 0,null,te)},we.createRef=function(){return{current:null}},we.forwardRef=function(_){return{$$typeof:f,render:_}},we.isValidElement=J,we.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:G}},we.memo=function(_,O){return{$$typeof:g,type:_,compare:O===void 0?null:O}},we.startTransition=function(_){var O=D.T,X={};D.T=X;try{var se=_(),te=D.S;te!==null&&te(X,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(K,I)}catch(le){I(le)}finally{D.T=O}},we.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},we.use=function(_){return D.H.use(_)},we.useActionState=function(_,O,X){return D.H.useActionState(_,O,X)},we.useCallback=function(_,O){return D.H.useCallback(_,O)},we.useContext=function(_){return D.H.useContext(_)},we.useDebugValue=function(){},we.useDeferredValue=function(_,O){return D.H.useDeferredValue(_,O)},we.useEffect=function(_,O,X){var se=D.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(_,O)},we.useId=function(){return D.H.useId()},we.useImperativeHandle=function(_,O,X){return D.H.useImperativeHandle(_,O,X)},we.useInsertionEffect=function(_,O){return D.H.useInsertionEffect(_,O)},we.useLayoutEffect=function(_,O){return D.H.useLayoutEffect(_,O)},we.useMemo=function(_,O){return D.H.useMemo(_,O)},we.useOptimistic=function(_,O){return D.H.useOptimistic(_,O)},we.useReducer=function(_,O,X){return D.H.useReducer(_,O,X)},we.useRef=function(_){return D.H.useRef(_)},we.useState=function(_){return D.H.useState(_)},we.useSyncExternalStore=function(_,O,X){return D.H.useSyncExternalStore(_,O,X)},we.useTransition=function(){return D.H.useTransition()},we.version="19.1.0",we}var oy;function Ef(){return oy||(oy=1,uh.exports=cj()),uh.exports}var w=Ef();const uj=yb(w);var dh={exports:{}},no={},hh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function dj(){return ly||(ly=1,function(a){function t(U,G){var I=U.length;U.push(G);e:for(;0<I;){var K=I-1>>>1,_=U[K];if(0<o(_,G))U[K]=G,U[I]=_,I=K;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],I=U.pop();if(I!==G){U[0]=I;e:for(var K=0,_=U.length,O=_>>>1;K<O;){var X=2*(K+1)-1,se=U[X],te=X+1,le=U[te];if(0>o(se,I))te<_&&0>o(le,se)?(U[K]=le,U[te]=I,K=te):(U[K]=se,U[X]=I,K=X);else if(te<_&&0>o(le,I))U[K]=le,U[te]=I,K=te;else break e}}return G}function o(U,G){var I=U.sortIndex-G.sortIndex;return I!==0?I:U.id-G.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();a.unstable_now=function(){return d.now()-f}}var m=[],g=[],y=1,x=null,v=3,j=!1,S=!1,E=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var G=n(g);G!==null;){if(G.callback===null)r(g);else if(G.startTime<=U)r(g),G.sortIndex=G.expirationTime,t(m,G);else break;G=n(g)}}function D(U){if(E=!1,P(U),!S)if(n(m)!==null)S=!0,z||(z=!0,Y());else{var G=n(g);G!==null&&ne(D,G.startTime-U)}}var z=!1,F=-1,W=5,J=-1;function H(){return T?!0:!(a.unstable_now()-J<W)}function Z(){if(T=!1,z){var U=a.unstable_now();J=U;var G=!0;try{e:{S=!1,E&&(E=!1,C(F),F=-1),j=!0;var I=v;try{t:{for(P(U),x=n(m);x!==null&&!(x.expirationTime>U&&H());){var K=x.callback;if(typeof K=="function"){x.callback=null,v=x.priorityLevel;var _=K(x.expirationTime<=U);if(U=a.unstable_now(),typeof _=="function"){x.callback=_,P(U),G=!0;break t}x===n(m)&&r(m),P(U)}else r(m);x=n(m)}if(x!==null)G=!0;else{var O=n(g);O!==null&&ne(D,O.startTime-U),G=!1}}break e}finally{x=null,v=I,j=!1}G=void 0}}finally{G?Y():z=!1}}}var Y;if(typeof N=="function")Y=function(){N(Z)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ue=re.port2;re.port1.onmessage=Z,Y=function(){ue.postMessage(null)}}else Y=function(){A(Z,0)};function ne(U,G){F=A(function(){U(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(U){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var I=v;v=G;try{return U()}finally{v=I}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=v;v=U;try{return G()}finally{v=I}},a.unstable_scheduleCallback=function(U,G,I){var K=a.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?K+I:K):I=K,U){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=I+_,U={id:y++,callback:G,priorityLevel:U,startTime:I,expirationTime:_,sortIndex:-1},I>K?(U.sortIndex=I,t(g,U),n(m)===null&&U===n(g)&&(E?(C(F),F=-1):E=!0,ne(D,I-K))):(U.sortIndex=_,t(m,U),S||j||(S=!0,z||(z=!0,Y()))),U},a.unstable_shouldYield=H,a.unstable_wrapCallback=function(U){var G=v;return function(){var I=v;v=G;try{return U.apply(this,arguments)}finally{v=I}}}}(fh)),fh}var cy;function hj(){return cy||(cy=1,hh.exports=dj()),hh.exports}var mh={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function fj(){if(uy)return Et;uy=1;var a=Ef();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:m,containerInfo:g,implementation:y}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Et.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,y)},Et.flushSync=function(m){var g=d.T,y=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=g,r.p=y,r.d.f()}},Et.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},Et.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Et.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,x=f(y,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:j}):y==="script"&&r.d.X(m,{crossOrigin:x,integrity:v,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Et.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},Et.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,x=f(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Et.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},Et.requestFormReset=function(m){r.d.r(m)},Et.unstable_batchedUpdates=function(m,g){return m(g)},Et.useFormState=function(m,g,y){return d.H.useFormState(m,g,y)},Et.useFormStatus=function(){return d.H.useHostTransitionStatus()},Et.version="19.1.0",Et}var dy;function mj(){if(dy)return mh.exports;dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),mh.exports=fj(),mh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function gj(){if(hy)return no;hy=1;var a=hj(),t=Ef(),n=mj();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function d(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(r(188))}function m(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var i=e,c=s;;){var h=i.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===i)return f(h),e;if(p===c)return f(h),s;p=p.sibling}throw Error(r(188))}if(i.return!==c.return)i=h,c=p;else{for(var b=!1,k=h.child;k;){if(k===i){b=!0,i=h,c=p;break}if(k===c){b=!0,c=h,i=p;break}k=k.sibling}if(!b){for(k=p.child;k;){if(k===i){b=!0,i=p,c=h;break}if(k===c){b=!0,c=p,i=h;break}k=k.sibling}if(!b)throw Error(r(189))}}if(i.alternate!==c)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case z:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case N:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case P:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return s=e.displayName||null,s!==null?s:ue(e.type)||"Memo";case W:s=e._payload,e=e._init;try{return ue(e(s))}catch{}}return null}var ne=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},K=[],_=-1;function O(e){return{current:e}}function X(e){0>_||(e.current=K[_],K[_]=null,_--)}function se(e,s){_++,K[_]=e.current,e.current=s}var te=O(null),le=O(null),he=O(null),Be=O(null);function xe(e,s){switch(se(he,s),se(le,e),se(te,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Dp(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Dp(s),e=Mp(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(te),se(te,e)}function We(){X(te),X(le),X(he)}function ua(e){e.memoizedState!==null&&se(Be,e);var s=te.current,i=Mp(s,e.type);s!==i&&(se(le,e),se(te,i))}function Un(e){le.current===e&&(X(te),X(le)),Be.current===e&&(X(Be),Zi._currentValue=I)}var Ia=Object.prototype.hasOwnProperty,Zs=a.unstable_scheduleCallback,ii=a.unstable_cancelCallback,$o=a.unstable_shouldYield,oi=a.unstable_requestPaint,qt=a.unstable_now,Zc=a.unstable_getCurrentPriorityLevel,qo=a.unstable_ImmediatePriority,zn=a.unstable_UserBlockingPriority,Js=a.unstable_NormalPriority,Jc=a.unstable_LowPriority,Io=a.unstable_IdlePriority,eu=a.log,tu=a.unstable_setDisableYieldValue,en=null,Rt=null;function ka(e){if(typeof eu=="function"&&tu(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(en,e)}catch{}}var Nt=Math.clz32?Math.clz32:Go,au=Math.log,Ho=Math.LN2;function Go(e){return e>>>=0,e===0?32:31-(au(e)/Ho|0)|0}var tn=256,ie=4194304;function be(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function je(e,s,i){var c=e.pendingLanes;if(c===0)return 0;var h=0,p=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var k=c&134217727;return k!==0?(c=k&~p,c!==0?h=be(c):(b&=k,b!==0?h=be(b):i||(i=k&~e,i!==0&&(h=be(i))))):(k=c&~p,k!==0?h=be(k):b!==0?h=be(b):i||(i=c&~e,i!==0&&(h=be(i)))),h===0?0:s!==0&&s!==h&&(s&p)===0&&(p=h&-h,i=s&-s,p>=i||p===32&&(i&4194048)!==0)?s:h}function Ze(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function He(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lt(){var e=tn;return tn<<=1,(tn&4194048)===0&&(tn=256),e}function Ha(){var e=ie;return ie<<=1,(ie&62914560)===0&&(ie=4194304),e}function bt(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function ps(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function an(e,s,i,c,h,p){var b=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var k=e.entanglements,R=e.expirationTimes,B=e.hiddenUpdates;for(i=b&~i;0<i;){var Q=31-Nt(i),ae=1<<Q;k[Q]=0,R[Q]=-1;var $=B[Q];if($!==null)for(B[Q]=null,Q=0;Q<$.length;Q++){var q=$[Q];q!==null&&(q.lane&=-536870913)}i&=~ae}c!==0&&sn(e,c,0),p!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=p&~(b&~s))}function sn(e,s,i){e.pendingLanes|=s,e.suspendedLanes&=~s;var c=31-Nt(s);e.entangledLanes|=s,e.entanglements[c]=e.entanglements[c]|1073741824|i&4194090}function Fo(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var c=31-Nt(i),h=1<<c;h&s|e[c]&s&&(e[c]|=s),i&=~h}}function Vn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function li(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Zp(e.type))}function Yo(e,s){var i=G.p;try{return G.p=e,s()}finally{G.p=i}}var da=Math.random().toString(36).slice(2),ct="__reactFiber$"+da,vt="__reactProps$"+da,Ga="__reactContainer$"+da,$n="__reactEvents$"+da,Xo="__reactListeners$"+da,Ko="__reactHandles$"+da,ci="__reactResources$"+da,ys="__reactMarker$"+da;function qn(e){delete e[ct],delete e[vt],delete e[$n],delete e[Xo],delete e[Ko]}function Fa(e){var s=e[ct];if(s)return s;for(var i=e.parentNode;i;){if(s=i[Ga]||i[ct]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=Up(e);e!==null;){if(i=e[ct])return i;e=Up(e)}return s}e=i,i=e.parentNode}return null}function Ya(e){if(e=e[ct]||e[Ga]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function De(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function wt(e){var s=e[ci];return s||(s=e[ci]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Xe(e){e[ys]=!0}var _a=new Set,Sa={};function Na(e,s){Ta(e,s),Ta(e+"Capture",s)}function Ta(e,s){for(Sa[e]=s,e=0;e<s.length;e++)_a.add(s[e])}var ui=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),km={},_m={};function J1(e){return Ia.call(_m,e)?!0:Ia.call(km,e)?!1:ui.test(e)?_m[e]=!0:(km[e]=!0,!1)}function Qo(e,s,i){if(J1(s))if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+i)}}function Wo(e,s,i){if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+i)}}function Xa(e,s,i,c){if(c===null)e.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(s,i,""+c)}}var su,Sm;function In(e){if(su===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);su=s&&s[1]||"",Sm=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+su+e+Sm}var nu=!1;function ru(e,s){if(!e||nu)return"";nu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(q){var $=q}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(q){$=q}e.call(ae.prototype)}}else{try{throw Error()}catch(q){$=q}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(q){if(q&&$&&typeof q.stack=="string")return[q.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],k=p[1];if(b&&k){var R=b.split(`
`),B=k.split(`
`);for(h=c=0;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(c===R.length||h===B.length)for(c=R.length-1,h=B.length-1;1<=c&&0<=h&&R[c]!==B[h];)h--;for(;1<=c&&0<=h;c--,h--)if(R[c]!==B[h]){if(c!==1||h!==1)do if(c--,h--,0>h||R[c]!==B[h]){var Q=`
`+R[c].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=c&&0<=h);break}}}finally{nu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?In(i):""}function ew(e){switch(e.tag){case 26:case 27:case 5:return In(e.type);case 16:return In("Lazy");case 13:return In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return ru(e.type,!1);case 11:return ru(e.type.render,!1);case 1:return ru(e.type,!0);case 31:return In("Activity");default:return""}}function Nm(e){try{var s="";do s+=ew(e),e=e.return;while(e);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tm(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tw(e){var s=Tm(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),c=""+e[s];if(!e.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,p=i.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){c=""+b,p.call(this,b)}}),Object.defineProperty(e,s,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Zo(e){e._valueTracker||(e._valueTracker=tw(e))}function Em(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return e&&(c=Tm(e)?e.checked?"true":"false":e.value),e=c,e!==i?(s.setValue(e),!0):!1}function Jo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var aw=/[\n"\\]/g;function Wt(e){return e.replace(aw,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function iu(e,s,i,c,h,p,b,k){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),s!=null?b==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Qt(s)):e.value!==""+Qt(s)&&(e.value=""+Qt(s)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),s!=null?ou(e,b,Qt(s)):i!=null?ou(e,b,Qt(i)):c!=null&&e.removeAttribute("value"),h==null&&p!=null&&(e.defaultChecked=!!p),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.name=""+Qt(k):e.removeAttribute("name")}function Am(e,s,i,c,h,p,b,k){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),s!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;i=i!=null?""+Qt(i):"",s=s!=null?""+Qt(s):i,k||s===e.value||(e.value=s),e.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=k?e.checked:!!c,e.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function ou(e,s,i){s==="number"&&Jo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Hn(e,s,i,c){if(e=e.options,s){s={};for(var h=0;h<i.length;h++)s["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=s.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&c&&(e[i].defaultSelected=!0)}else{for(i=""+Qt(i),s=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function Cm(e,s,i){if(s!=null&&(s=""+Qt(s),s!==e.value&&(e.value=s),i==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=i!=null?""+Qt(i):""}function Rm(e,s,i,c){if(s==null){if(c!=null){if(i!=null)throw Error(r(92));if(ne(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),s=i}i=Qt(s),e.defaultValue=i,c=e.textContent,c===i&&c!==""&&c!==null&&(e.value=c)}function Gn(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var sw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dm(e,s,i){var c=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":c?e.setProperty(s,i):typeof i!="number"||i===0||sw.has(s)?s==="float"?e.cssFloat=i:e[s]=(""+i).trim():e[s]=i+"px"}function Mm(e,s,i){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&i[h]!==c&&Dm(e,h,c)}else for(var p in s)s.hasOwnProperty(p)&&Dm(e,p,s[p])}function lu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(e){return rw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var cu=null;function uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fn=null,Yn=null;function Om(e){var s=Ya(e);if(s&&(e=s.stateNode)){var i=e[vt]||null;e:switch(e=s.stateNode,s.type){case"input":if(iu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Wt(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==e&&c.form===e.form){var h=c[vt]||null;if(!h)throw Error(r(90));iu(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<i.length;s++)c=i[s],c.form===e.form&&Em(c)}break e;case"textarea":Cm(e,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&Hn(e,!!i.multiple,s,!1)}}}var du=!1;function Pm(e,s,i){if(du)return e(s,i);du=!0;try{var c=e(s);return c}finally{if(du=!1,(Fn!==null||Yn!==null)&&(Vl(),Fn&&(s=Fn,e=Yn,Yn=Fn=null,Om(s),e)))for(s=0;s<e.length;s++)Om(e[s])}}function di(e,s){var i=e.stateNode;if(i===null)return null;var c=i[vt]||null;if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,s,typeof i));return i}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=!1;if(Ka)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){hu=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{hu=!1}var xs=null,fu=null,tl=null;function Lm(){if(tl)return tl;var e,s=fu,i=s.length,c,h="value"in xs?xs.value:xs.textContent,p=h.length;for(e=0;e<i&&s[e]===h[e];e++);var b=i-e;for(c=1;c<=b&&s[i-c]===h[p-c];c++);return tl=h.slice(e,1<c?1-c:void 0)}function al(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function sl(){return!0}function Um(){return!1}function Lt(e){function s(i,c,h,p,b){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(i=e[k],this[k]=i?i(p):p[k]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?sl:Um,this.isPropagationStopped=Um,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),s}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Lt(nn),fi=y({},nn,{view:0,detail:0}),iw=Lt(fi),mu,gu,mi,rl=y({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(mu=e.screenX-mi.screenX,gu=e.screenY-mi.screenY):gu=mu=0,mi=e),mu)},movementY:function(e){return"movementY"in e?e.movementY:gu}}),zm=Lt(rl),ow=y({},rl,{dataTransfer:0}),lw=Lt(ow),cw=y({},fi,{relatedTarget:0}),pu=Lt(cw),uw=y({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),dw=Lt(uw),hw=y({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fw=Lt(hw),mw=y({},nn,{data:0}),Vm=Lt(mw),gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xw(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=yw[e])?!!s[e]:!1}function yu(){return xw}var bw=y({},fi,{key:function(e){if(e.key){var s=gw[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vw=Lt(bw),ww=y({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bm=Lt(ww),jw=y({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),kw=Lt(jw),_w=y({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sw=Lt(_w),Nw=y({},rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tw=Lt(Nw),Ew=y({},nn,{newState:0,oldState:0}),Aw=Lt(Ew),Cw=[9,13,27,32],xu=Ka&&"CompositionEvent"in window,gi=null;Ka&&"documentMode"in document&&(gi=document.documentMode);var Rw=Ka&&"TextEvent"in window&&!gi,$m=Ka&&(!xu||gi&&8<gi&&11>=gi),qm=" ",Im=!1;function Hm(e,s){switch(e){case"keyup":return Cw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function Dw(e,s){switch(e){case"compositionend":return Gm(s);case"keypress":return s.which!==32?null:(Im=!0,qm);case"textInput":return e=s.data,e===qm&&Im?null:e;default:return null}}function Mw(e,s){if(Xn)return e==="compositionend"||!xu&&Hm(e,s)?(e=Lm(),tl=fu=xs=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $m&&s.locale!=="ko"?null:s.data;default:return null}}var Ow={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Ow[e.type]:s==="textarea"}function Ym(e,s,i,c){Fn?Yn?Yn.push(c):Yn=[c]:Fn=c,s=Gl(s,"onChange"),0<s.length&&(i=new nl("onChange","change",null,i,c),e.push({event:i,listeners:s}))}var pi=null,yi=null;function Pw(e){Tp(e,0)}function il(e){var s=De(e);if(Em(s))return e}function Xm(e,s){if(e==="change")return s}var Km=!1;if(Ka){var bu;if(Ka){var vu="oninput"in document;if(!vu){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),vu=typeof Qm.oninput=="function"}bu=vu}else bu=!1;Km=bu&&(!document.documentMode||9<document.documentMode)}function Wm(){pi&&(pi.detachEvent("onpropertychange",Zm),yi=pi=null)}function Zm(e){if(e.propertyName==="value"&&il(yi)){var s=[];Ym(s,yi,e,uu(e)),Pm(Pw,s)}}function Lw(e,s,i){e==="focusin"?(Wm(),pi=s,yi=i,pi.attachEvent("onpropertychange",Zm)):e==="focusout"&&Wm()}function Uw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return il(yi)}function zw(e,s){if(e==="click")return il(s)}function Vw(e,s){if(e==="input"||e==="change")return il(s)}function Bw(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var It=typeof Object.is=="function"?Object.is:Bw;function xi(e,s){if(It(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!Ia.call(s,h)||!It(e[h],s[h]))return!1}return!0}function Jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function e0(e,s){var i=Jm(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=s&&c>=s)return{node:i,offset:s-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Jm(i)}}function t0(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?t0(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function a0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Jo(e.document);s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Jo(e.document)}return s}function wu(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var $w=Ka&&"documentMode"in document&&11>=document.documentMode,Kn=null,ju=null,bi=null,ku=!1;function s0(e,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ku||Kn==null||Kn!==Jo(c)||(c=Kn,"selectionStart"in c&&wu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bi&&xi(bi,c)||(bi=c,c=Gl(ju,"onSelect"),0<c.length&&(s=new nl("onSelect","select",null,s,i),e.push({event:s,listeners:c}),s.target=Kn)))}function rn(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var Qn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},_u={},n0={};Ka&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function on(e){if(_u[e])return _u[e];if(!Qn[e])return e;var s=Qn[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in n0)return _u[e]=s[i];return e}var r0=on("animationend"),i0=on("animationiteration"),o0=on("animationstart"),qw=on("transitionrun"),Iw=on("transitionstart"),Hw=on("transitioncancel"),l0=on("transitionend"),c0=new Map,Su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Su.push("scrollEnd");function ha(e,s){c0.set(e,s),Na(s,[e])}var u0=new WeakMap;function Zt(e,s){if(typeof e=="object"&&e!==null){var i=u0.get(e);return i!==void 0?i:(s={value:e,source:s,stack:Nm(s)},u0.set(e,s),s)}return{value:e,source:s,stack:Nm(s)}}var Jt=[],Wn=0,Nu=0;function ol(){for(var e=Wn,s=Nu=Wn=0;s<e;){var i=Jt[s];Jt[s++]=null;var c=Jt[s];Jt[s++]=null;var h=Jt[s];Jt[s++]=null;var p=Jt[s];if(Jt[s++]=null,c!==null&&h!==null){var b=c.pending;b===null?h.next=h:(h.next=b.next,b.next=h),c.pending=h}p!==0&&d0(i,h,p)}}function ll(e,s,i,c){Jt[Wn++]=e,Jt[Wn++]=s,Jt[Wn++]=i,Jt[Wn++]=c,Nu|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Tu(e,s,i,c){return ll(e,s,i,c),cl(e)}function Zn(e,s){return ll(e,null,null,s),cl(e)}function d0(e,s,i){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i);for(var h=!1,p=e.return;p!==null;)p.childLanes|=i,c=p.alternate,c!==null&&(c.childLanes|=i),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(h=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,h&&s!==null&&(h=31-Nt(i),e=p.hiddenUpdates,c=e[h],c===null?e[h]=[s]:c.push(s),s.lane=i|536870912),p):null}function cl(e){if(50<Hi)throw Hi=0,Md=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Jn={};function Gw(e,s,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,s,i,c){return new Gw(e,s,i,c)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qa(e,s){var i=e.alternate;return i===null?(i=Ht(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function h0(e,s){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,s=i.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function ul(e,s,i,c,h,p){var b=0;if(c=e,typeof e=="function")Eu(e)&&(b=1);else if(typeof e=="string")b=Y2(e,i,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=Ht(31,i,s,h),e.elementType=J,e.lanes=p,e;case S:return ln(i.children,h,p,s);case E:b=8,h|=24;break;case T:return e=Ht(12,i,s,h|2),e.elementType=T,e.lanes=p,e;case D:return e=Ht(13,i,s,h),e.elementType=D,e.lanes=p,e;case z:return e=Ht(19,i,s,h),e.elementType=z,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case N:b=10;break e;case C:b=9;break e;case P:b=11;break e;case F:b=14;break e;case W:b=16,c=null;break e}b=29,i=Error(r(130,e===null?"null":typeof e,"")),c=null}return s=Ht(b,i,s,h),s.elementType=e,s.type=c,s.lanes=p,s}function ln(e,s,i,c){return e=Ht(7,e,c,s),e.lanes=i,e}function Au(e,s,i){return e=Ht(6,e,null,s),e.lanes=i,e}function Cu(e,s,i){return s=Ht(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var er=[],tr=0,dl=null,hl=0,ea=[],ta=0,cn=null,Wa=1,Za="";function un(e,s){er[tr++]=hl,er[tr++]=dl,dl=e,hl=s}function f0(e,s,i){ea[ta++]=Wa,ea[ta++]=Za,ea[ta++]=cn,cn=e;var c=Wa;e=Za;var h=32-Nt(c)-1;c&=~(1<<h),i+=1;var p=32-Nt(s)+h;if(30<p){var b=h-h%5;p=(c&(1<<b)-1).toString(32),c>>=b,h-=b,Wa=1<<32-Nt(s)+h|i<<h|c,Za=p+e}else Wa=1<<p|i<<h|c,Za=e}function Ru(e){e.return!==null&&(un(e,1),f0(e,1,0))}function Du(e){for(;e===dl;)dl=er[--tr],er[tr]=null,hl=er[--tr],er[tr]=null;for(;e===cn;)cn=ea[--ta],ea[ta]=null,Za=ea[--ta],ea[ta]=null,Wa=ea[--ta],ea[ta]=null}var Dt=null,Je=null,Ce=!1,dn=null,Ea=!1,Mu=Error(r(519));function hn(e){var s=Error(r(418,""));throw ji(Zt(s,e)),Mu}function m0(e){var s=e.stateNode,i=e.type,c=e.memoizedProps;switch(s[ct]=e,s[vt]=c,i){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(i=0;i<Fi.length;i++)Ne(Fi[i],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":Ne("invalid",s),Am(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Zo(s);break;case"select":Ne("invalid",s);break;case"textarea":Ne("invalid",s),Rm(s,c.value,c.defaultValue,c.children),Zo(s)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||c.suppressHydrationWarning===!0||Rp(s.textContent,i)?(c.popover!=null&&(Ne("beforetoggle",s),Ne("toggle",s)),c.onScroll!=null&&Ne("scroll",s),c.onScrollEnd!=null&&Ne("scrollend",s),c.onClick!=null&&(s.onclick=Fl),s=!0):s=!1,s||hn(e)}function g0(e){for(Dt=e.return;Dt;)switch(Dt.tag){case 5:case 13:Ea=!1;return;case 27:case 3:Ea=!0;return;default:Dt=Dt.return}}function vi(e){if(e!==Dt)return!1;if(!Ce)return g0(e),Ce=!0,!1;var s=e.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Kd(e.type,e.memoizedProps)),i=!i),i&&Je&&hn(e),g0(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(s===0){Je=ma(e.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++;e=e.nextSibling}Je=null}}else s===27?(s=Je,Os(e.type)?(e=Jd,Jd=null,Je=e):Je=s):Je=Dt?ma(e.stateNode.nextSibling):null;return!0}function wi(){Je=Dt=null,Ce=!1}function p0(){var e=dn;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),dn=null),e}function ji(e){dn===null?dn=[e]:dn.push(e)}var Ou=O(null),fn=null,Ja=null;function bs(e,s,i){se(Ou,s._currentValue),s._currentValue=i}function es(e){e._currentValue=Ou.current,X(Ou)}function Pu(e,s,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),e===i)break;e=e.return}}function Lu(e,s,i,c){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var p=h.dependencies;if(p!==null){var b=h.child;p=p.firstContext;e:for(;p!==null;){var k=p;p=h;for(var R=0;R<s.length;R++)if(k.context===s[R]){p.lanes|=i,k=p.alternate,k!==null&&(k.lanes|=i),Pu(p.return,i,e),c||(b=null);break e}p=k.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(r(341));b.lanes|=i,p=b.alternate,p!==null&&(p.lanes|=i),Pu(b,i,e),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===e){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function ki(e,s,i,c){e=null;for(var h=s,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var k=h.type;It(h.pendingProps.value,b.value)||(e!==null?e.push(k):e=[k])}}else if(h===Be.current){if(b=h.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Zi):e=[Zi])}h=h.return}e!==null&&Lu(s,e,i,c),s.flags|=262144}function fl(e){for(e=e.firstContext;e!==null;){if(!It(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mn(e){fn=e,Ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return y0(fn,e)}function ml(e,s){return fn===null&&mn(e),y0(e,s)}function y0(e,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},Ja===null){if(e===null)throw Error(r(308));Ja=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Ja=Ja.next=s;return i}var Fw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(i,c){e.push(c)}};this.abort=function(){s.aborted=!0,e.forEach(function(i){return i()})}},Yw=a.unstable_scheduleCallback,Xw=a.unstable_NormalPriority,ut={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new Fw,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&Yw(Xw,function(){e.controller.abort()})}var Si=null,zu=0,ar=0,sr=null;function Kw(e,s){if(Si===null){var i=Si=[];zu=0,ar=Bd(),sr={status:"pending",value:void 0,then:function(c){i.push(c)}}}return zu++,s.then(x0,x0),s}function x0(){if(--zu===0&&Si!==null){sr!==null&&(sr.status="fulfilled");var e=Si;Si=null,ar=0,sr=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Qw(e,s){var i=[],c={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<i.length;h++)(0,i[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),c}var b0=U.S;U.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Kw(e,s),b0!==null&&b0(e,s)};var gn=O(null);function Vu(){var e=gn.current;return e!==null?e:$e.pooledCache}function gl(e,s){s===null?se(gn,gn.current):se(gn,s.pool)}function v0(){var e=Vu();return e===null?null:{parent:ut._currentValue,pool:e}}var Ni=Error(r(460)),w0=Error(r(474)),pl=Error(r(542)),Bu={then:function(){}};function j0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yl(){}function k0(e,s,i){switch(i=e[i],i===void 0?e.push(s):i!==s&&(s.then(yl,yl),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,S0(e),e;default:if(typeof s.status=="string")s.then(yl,yl);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,S0(e),e}throw Ti=s,Ni}}var Ti=null;function _0(){if(Ti===null)throw Error(r(459));var e=Ti;return Ti=null,e}function S0(e){if(e===Ni||e===pl)throw Error(r(483))}var vs=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qu(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function js(e,s,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Me&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=cl(e),d0(e,null,i),s}return ll(e,c,s,i),cl(e)}function Ei(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var c=s.lanes;c&=e.pendingLanes,i|=c,s.lanes=i,Fo(e,i)}}function Iu(e,s){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?h=p=b:p=p.next=b,i=i.next}while(i!==null);p===null?h=p=s:p=p.next=s}else h=p=s;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}var Hu=!1;function Ai(){if(Hu){var e=sr;if(e!==null)throw e}}function Ci(e,s,i,c){Hu=!1;var h=e.updateQueue;vs=!1;var p=h.firstBaseUpdate,b=h.lastBaseUpdate,k=h.shared.pending;if(k!==null){h.shared.pending=null;var R=k,B=R.next;R.next=null,b===null?p=B:b.next=B,b=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,k=Q.lastBaseUpdate,k!==b&&(k===null?Q.firstBaseUpdate=B:k.next=B,Q.lastBaseUpdate=R))}if(p!==null){var ae=h.baseState;b=0,Q=B=R=null,k=p;do{var $=k.lane&-536870913,q=$!==k.lane;if(q?(Ee&$)===$:(c&$)===$){$!==0&&$===ar&&(Hu=!0),Q!==null&&(Q=Q.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var pe=e,me=k;$=s;var ze=i;switch(me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ae=pe.call(ze,ae,$);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,$=typeof pe=="function"?pe.call(ze,ae,$):pe,$==null)break e;ae=y({},ae,$);break e;case 2:vs=!0}}$=k.callback,$!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[$]:q.push($))}else q={lane:$,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Q===null?(B=Q=q,R=ae):Q=Q.next=q,b|=$;if(k=k.next,k===null){if(k=h.shared.pending,k===null)break;q=k,k=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(R=ae),h.baseState=R,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,p===null&&(h.shared.lanes=0),Cs|=b,e.lanes=b,e.memoizedState=ae}}function N0(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function T0(e,s){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)N0(i[e],s)}var nr=O(null),xl=O(0);function E0(e,s){e=os,se(xl,e),se(nr,s),os=e|s.baseLanes}function Gu(){se(xl,os),se(nr,nr.current)}function Fu(){os=xl.current,X(nr),X(xl)}var ks=0,ke=null,Le=null,rt=null,bl=!1,rr=!1,pn=!1,vl=0,Ri=0,ir=null,Ww=0;function at(){throw Error(r(321))}function Yu(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!It(e[i],s[i]))return!1;return!0}function Xu(e,s,i,c,h,p){return ks=p,ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=e===null||e.memoizedState===null?dg:hg,pn=!1,p=i(c,h),pn=!1,rr&&(p=C0(s,i,c,h)),A0(e),p}function A0(e){U.H=Nl;var s=Le!==null&&Le.next!==null;if(ks=0,rt=Le=ke=null,bl=!1,Ri=0,ir=null,s)throw Error(r(300));e===null||mt||(e=e.dependencies,e!==null&&fl(e)&&(mt=!0))}function C0(e,s,i,c){ke=e;var h=0;do{if(rr&&(ir=null),Ri=0,rr=!1,25<=h)throw Error(r(301));if(h+=1,rt=Le=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=n2,p=s(i,c)}while(rr);return p}function Zw(){var e=U.H,s=e.useState()[0];return s=typeof s.then=="function"?Di(s):s,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ke.flags|=1024),s}function Ku(){var e=vl!==0;return vl=0,e}function Qu(e,s,i){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~i}function Wu(e){if(bl){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}bl=!1}ks=0,rt=Le=ke=null,rr=!1,Ri=vl=0,ir=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?ke.memoizedState=rt=e:rt=rt.next=e,rt}function it(){if(Le===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var s=rt===null?ke.memoizedState:rt.next;if(s!==null)rt=s,Le=e;else{if(e===null)throw ke.alternate===null?Error(r(467)):Error(r(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},rt===null?ke.memoizedState=rt=e:rt=rt.next=e}return rt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Di(e){var s=Ri;return Ri+=1,ir===null&&(ir=[]),e=k0(ir,e,s),s=ke,(rt===null?s.memoizedState:rt.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?dg:hg),e}function wl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Di(e);if(e.$$typeof===N)return Tt(e)}throw Error(r(438,String(e)))}function Ju(e){var s=null,i=ke.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=Zu(),ke.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(e),c=0;c<e;c++)i[c]=H;return s.index++,i}function ts(e,s){return typeof s=="function"?s(e):s}function jl(e){var s=it();return ed(s,Le,e)}function ed(e,s,i){var c=e.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var h=e.baseQueue,p=c.pending;if(p!==null){if(h!==null){var b=h.next;h.next=p.next,p.next=b}s.baseQueue=h=p,c.pending=null}if(p=e.baseState,h===null)e.memoizedState=p;else{s=h.next;var k=b=null,R=null,B=s,Q=!1;do{var ae=B.lane&-536870913;if(ae!==B.lane?(Ee&ae)===ae:(ks&ae)===ae){var $=B.revertLane;if($===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ae===ar&&(Q=!0);else if((ks&$)===$){B=B.next,$===ar&&(Q=!0);continue}else ae={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(k=R=ae,b=p):R=R.next=ae,ke.lanes|=$,Cs|=$;ae=B.action,pn&&i(p,ae),p=B.hasEagerState?B.eagerState:i(p,ae)}else $={lane:ae,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(k=R=$,b=p):R=R.next=$,ke.lanes|=ae,Cs|=ae;B=B.next}while(B!==null&&B!==s);if(R===null?b=p:R.next=k,!It(p,e.memoizedState)&&(mt=!0,Q&&(i=sr,i!==null)))throw i;e.memoizedState=p,e.baseState=b,e.baseQueue=R,c.lastRenderedState=p}return h===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function td(e){var s=it(),i=s.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var c=i.dispatch,h=i.pending,p=s.memoizedState;if(h!==null){i.pending=null;var b=h=h.next;do p=e(p,b.action),b=b.next;while(b!==h);It(p,s.memoizedState)||(mt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),i.lastRenderedState=p}return[p,c]}function R0(e,s,i){var c=ke,h=it(),p=Ce;if(p){if(i===void 0)throw Error(r(407));i=i()}else i=s();var b=!It((Le||h).memoizedState,i);b&&(h.memoizedState=i,mt=!0),h=h.queue;var k=O0.bind(null,c,h,e);if(Mi(2048,8,k,[e]),h.getSnapshot!==s||b||rt!==null&&rt.memoizedState.tag&1){if(c.flags|=2048,or(9,kl(),M0.bind(null,c,h,i,s),null),$e===null)throw Error(r(349));p||(ks&124)!==0||D0(c,s,i)}return i}function D0(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=ke.updateQueue,s===null?(s=Zu(),ke.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function M0(e,s,i,c){s.value=i,s.getSnapshot=c,P0(s)&&L0(e)}function O0(e,s,i){return i(function(){P0(s)&&L0(e)})}function P0(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!It(e,i)}catch{return!0}}function L0(e){var s=Zn(e,2);s!==null&&Kt(s,e,2)}function ad(e){var s=Ut();if(typeof e=="function"){var i=e;if(e=i(),pn){ka(!0);try{i()}finally{ka(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},s}function U0(e,s,i,c){return e.baseState=i,ed(e,Le,typeof c=="function"?c:ts)}function Jw(e,s,i,c,h){if(Sl(e))throw Error(r(485));if(e=s.action,e!==null){var p={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};U.T!==null?i(!0):p.isTransition=!1,c(p),i=s.pending,i===null?(p.next=s.pending=p,z0(s,p)):(p.next=i.next,s.pending=i.next=p)}}function z0(e,s){var i=s.action,c=s.payload,h=e.state;if(s.isTransition){var p=U.T,b={};U.T=b;try{var k=i(h,c),R=U.S;R!==null&&R(b,k),V0(e,s,k)}catch(B){sd(e,s,B)}finally{U.T=p}}else try{p=i(h,c),V0(e,s,p)}catch(B){sd(e,s,B)}}function V0(e,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){B0(e,s,c)},function(c){return sd(e,s,c)}):B0(e,s,i)}function B0(e,s,i){s.status="fulfilled",s.value=i,$0(s),e.state=i,s=e.pending,s!==null&&(i=s.next,i===s?e.pending=null:(i=i.next,s.next=i,z0(e,i)))}function sd(e,s,i){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=i,$0(s),s=s.next;while(s!==c)}e.action=null}function $0(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function q0(e,s){return s}function I0(e,s){if(Ce){var i=$e.formState;if(i!==null){e:{var c=ke;if(Ce){if(Je){t:{for(var h=Je,p=Ea;h.nodeType!==8;){if(!p){h=null;break t}if(h=ma(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Je=ma(h.nextSibling),c=h.data==="F!";break e}}hn(c)}c=!1}c&&(s=i[0])}}return i=Ut(),i.memoizedState=i.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q0,lastRenderedState:s},i.queue=c,i=lg.bind(null,ke,c),c.dispatch=i,c=ad(!1),p=ld.bind(null,ke,!1,c.queue),c=Ut(),h={state:s,dispatch:null,action:e,pending:null},c.queue=h,i=Jw.bind(null,ke,h,p,i),h.dispatch=i,c.memoizedState=e,[s,i,!1]}function H0(e){var s=it();return G0(s,Le,e)}function G0(e,s,i){if(s=ed(e,s,q0)[0],e=jl(ts)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Di(s)}catch(b){throw b===Ni?pl:b}else c=s;s=it();var h=s.queue,p=h.dispatch;return i!==s.memoizedState&&(ke.flags|=2048,or(9,kl(),e2.bind(null,h,i),null)),[c,p,e]}function e2(e,s){e.action=s}function F0(e){var s=it(),i=Le;if(i!==null)return G0(s,i,e);it(),s=s.memoizedState,i=it();var c=i.queue.dispatch;return i.memoizedState=e,[s,c,!1]}function or(e,s,i,c){return e={tag:e,create:i,deps:c,inst:s,next:null},s=ke.updateQueue,s===null&&(s=Zu(),ke.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,s.lastEffect=e),e}function kl(){return{destroy:void 0,resource:void 0}}function Y0(){return it().memoizedState}function _l(e,s,i,c){var h=Ut();c=c===void 0?null:c,ke.flags|=e,h.memoizedState=or(1|s,kl(),i,c)}function Mi(e,s,i,c){var h=it();c=c===void 0?null:c;var p=h.memoizedState.inst;Le!==null&&c!==null&&Yu(c,Le.memoizedState.deps)?h.memoizedState=or(s,p,i,c):(ke.flags|=e,h.memoizedState=or(1|s,p,i,c))}function X0(e,s){_l(8390656,8,e,s)}function K0(e,s){Mi(2048,8,e,s)}function Q0(e,s){return Mi(4,2,e,s)}function W0(e,s){return Mi(4,4,e,s)}function Z0(e,s){if(typeof s=="function"){e=e();var i=s(e);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function J0(e,s,i){i=i!=null?i.concat([e]):null,Mi(4,4,Z0.bind(null,s,e),i)}function nd(){}function eg(e,s){var i=it();s=s===void 0?null:s;var c=i.memoizedState;return s!==null&&Yu(s,c[1])?c[0]:(i.memoizedState=[e,s],e)}function tg(e,s){var i=it();s=s===void 0?null:s;var c=i.memoizedState;if(s!==null&&Yu(s,c[1]))return c[0];if(c=e(),pn){ka(!0);try{e()}finally{ka(!1)}}return i.memoizedState=[c,s],c}function rd(e,s,i){return i===void 0||(ks&1073741824)!==0?e.memoizedState=s:(e.memoizedState=i,e=np(),ke.lanes|=e,Cs|=e,i)}function ag(e,s,i,c){return It(i,s)?i:nr.current!==null?(e=rd(e,i,c),It(e,s)||(mt=!0),e):(ks&42)===0?(mt=!0,e.memoizedState=i):(e=np(),ke.lanes|=e,Cs|=e,s)}function sg(e,s,i,c,h){var p=G.p;G.p=p!==0&&8>p?p:8;var b=U.T,k={};U.T=k,ld(e,!1,s,i);try{var R=h(),B=U.S;if(B!==null&&B(k,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=Qw(R,c);Oi(e,s,Q,Xt(e))}else Oi(e,s,c,Xt(e))}catch(ae){Oi(e,s,{then:function(){},status:"rejected",reason:ae},Xt())}finally{G.p=p,U.T=b}}function t2(){}function id(e,s,i,c){if(e.tag!==5)throw Error(r(476));var h=ng(e).queue;sg(e,h,s,I,i===null?t2:function(){return rg(e),i(c)})}function ng(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:I},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:i},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function rg(e){var s=ng(e).next.queue;Oi(e,s,{},Xt())}function od(){return Tt(Zi)}function ig(){return it().memoizedState}function og(){return it().memoizedState}function a2(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var i=Xt();e=ws(i);var c=js(s,e,i);c!==null&&(Kt(c,s,i),Ei(c,s,i)),s={cache:Uu()},e.payload=s;return}s=s.return}}function s2(e,s,i){var c=Xt();i={lane:c,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Sl(e)?cg(s,i):(i=Tu(e,s,i,c),i!==null&&(Kt(i,e,c),ug(i,s,c)))}function lg(e,s,i){var c=Xt();Oi(e,s,i,c)}function Oi(e,s,i,c){var h={lane:c,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Sl(e))cg(s,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var b=s.lastRenderedState,k=p(b,i);if(h.hasEagerState=!0,h.eagerState=k,It(k,b))return ll(e,s,h,0),$e===null&&ol(),!1}catch{}finally{}if(i=Tu(e,s,h,c),i!==null)return Kt(i,e,c),ug(i,s,c),!0}return!1}function ld(e,s,i,c){if(c={lane:2,revertLane:Bd(),action:c,hasEagerState:!1,eagerState:null,next:null},Sl(e)){if(s)throw Error(r(479))}else s=Tu(e,i,c,2),s!==null&&Kt(s,e,2)}function Sl(e){var s=e.alternate;return e===ke||s!==null&&s===ke}function cg(e,s){rr=bl=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function ug(e,s,i){if((i&4194048)!==0){var c=s.lanes;c&=e.pendingLanes,i|=c,s.lanes=i,Fo(e,i)}}var Nl={readContext:Tt,use:wl,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at},dg={readContext:Tt,use:wl,useCallback:function(e,s){return Ut().memoizedState=[e,s===void 0?null:s],e},useContext:Tt,useEffect:X0,useImperativeHandle:function(e,s,i){i=i!=null?i.concat([e]):null,_l(4194308,4,Z0.bind(null,s,e),i)},useLayoutEffect:function(e,s){return _l(4194308,4,e,s)},useInsertionEffect:function(e,s){_l(4,2,e,s)},useMemo:function(e,s){var i=Ut();s=s===void 0?null:s;var c=e();if(pn){ka(!0);try{e()}finally{ka(!1)}}return i.memoizedState=[c,s],c},useReducer:function(e,s,i){var c=Ut();if(i!==void 0){var h=i(s);if(pn){ka(!0);try{i(s)}finally{ka(!1)}}}else h=s;return c.memoizedState=c.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},c.queue=e,e=e.dispatch=s2.bind(null,ke,e),[c.memoizedState,e]},useRef:function(e){var s=Ut();return e={current:e},s.memoizedState=e},useState:function(e){e=ad(e);var s=e.queue,i=lg.bind(null,ke,s);return s.dispatch=i,[e.memoizedState,i]},useDebugValue:nd,useDeferredValue:function(e,s){var i=Ut();return rd(i,e,s)},useTransition:function(){var e=ad(!1);return e=sg.bind(null,ke,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,i){var c=ke,h=Ut();if(Ce){if(i===void 0)throw Error(r(407));i=i()}else{if(i=s(),$e===null)throw Error(r(349));(Ee&124)!==0||D0(c,s,i)}h.memoizedState=i;var p={value:i,getSnapshot:s};return h.queue=p,X0(O0.bind(null,c,p,e),[e]),c.flags|=2048,or(9,kl(),M0.bind(null,c,p,i,s),null),i},useId:function(){var e=Ut(),s=$e.identifierPrefix;if(Ce){var i=Za,c=Wa;i=(c&~(1<<32-Nt(c)-1)).toString(32)+i,s="«"+s+"R"+i,i=vl++,0<i&&(s+="H"+i.toString(32)),s+="»"}else i=Ww++,s="«"+s+"r"+i.toString(32)+"»";return e.memoizedState=s},useHostTransitionStatus:od,useFormState:I0,useActionState:I0,useOptimistic:function(e){var s=Ut();s.memoizedState=s.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=ld.bind(null,ke,!0,i),i.dispatch=s,[e,s]},useMemoCache:Ju,useCacheRefresh:function(){return Ut().memoizedState=a2.bind(null,ke)}},hg={readContext:Tt,use:wl,useCallback:eg,useContext:Tt,useEffect:K0,useImperativeHandle:J0,useInsertionEffect:Q0,useLayoutEffect:W0,useMemo:tg,useReducer:jl,useRef:Y0,useState:function(){return jl(ts)},useDebugValue:nd,useDeferredValue:function(e,s){var i=it();return ag(i,Le.memoizedState,e,s)},useTransition:function(){var e=jl(ts)[0],s=it().memoizedState;return[typeof e=="boolean"?e:Di(e),s]},useSyncExternalStore:R0,useId:ig,useHostTransitionStatus:od,useFormState:H0,useActionState:H0,useOptimistic:function(e,s){var i=it();return U0(i,Le,e,s)},useMemoCache:Ju,useCacheRefresh:og},n2={readContext:Tt,use:wl,useCallback:eg,useContext:Tt,useEffect:K0,useImperativeHandle:J0,useInsertionEffect:Q0,useLayoutEffect:W0,useMemo:tg,useReducer:td,useRef:Y0,useState:function(){return td(ts)},useDebugValue:nd,useDeferredValue:function(e,s){var i=it();return Le===null?rd(i,e,s):ag(i,Le.memoizedState,e,s)},useTransition:function(){var e=td(ts)[0],s=it().memoizedState;return[typeof e=="boolean"?e:Di(e),s]},useSyncExternalStore:R0,useId:ig,useHostTransitionStatus:od,useFormState:F0,useActionState:F0,useOptimistic:function(e,s){var i=it();return Le!==null?U0(i,Le,e,s):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:og},lr=null,Pi=0;function Tl(e){var s=Pi;return Pi+=1,lr===null&&(lr=[]),k0(lr,e,s)}function Li(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function El(e,s){throw s.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function fg(e){var s=e._init;return s(e._payload)}function mg(e){function s(L,M){if(e){var V=L.deletions;V===null?(L.deletions=[M],L.flags|=16):V.push(M)}}function i(L,M){if(!e)return null;for(;M!==null;)s(L,M),M=M.sibling;return null}function c(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Qa(L,M),L.index=0,L.sibling=null,L}function p(L,M,V){return L.index=V,e?(V=L.alternate,V!==null?(V=V.index,V<M?(L.flags|=67108866,M):V):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function b(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function k(L,M,V,ee){return M===null||M.tag!==6?(M=Au(V,L.mode,ee),M.return=L,M):(M=h(M,V),M.return=L,M)}function R(L,M,V,ee){var ce=V.type;return ce===S?Q(L,M,V.props.children,ee,V.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===W&&fg(ce)===M.type)?(M=h(M,V.props),Li(M,V),M.return=L,M):(M=ul(V.type,V.key,V.props,null,L.mode,ee),Li(M,V),M.return=L,M)}function B(L,M,V,ee){return M===null||M.tag!==4||M.stateNode.containerInfo!==V.containerInfo||M.stateNode.implementation!==V.implementation?(M=Cu(V,L.mode,ee),M.return=L,M):(M=h(M,V.children||[]),M.return=L,M)}function Q(L,M,V,ee,ce){return M===null||M.tag!==7?(M=ln(V,L.mode,ee,ce),M.return=L,M):(M=h(M,V),M.return=L,M)}function ae(L,M,V){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Au(""+M,L.mode,V),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case v:return V=ul(M.type,M.key,M.props,null,L.mode,V),Li(V,M),V.return=L,V;case j:return M=Cu(M,L.mode,V),M.return=L,M;case W:var ee=M._init;return M=ee(M._payload),ae(L,M,V)}if(ne(M)||Y(M))return M=ln(M,L.mode,V,null),M.return=L,M;if(typeof M.then=="function")return ae(L,Tl(M),V);if(M.$$typeof===N)return ae(L,ml(L,M),V);El(L,M)}return null}function $(L,M,V,ee){var ce=M!==null?M.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ce!==null?null:k(L,M,""+V,ee);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case v:return V.key===ce?R(L,M,V,ee):null;case j:return V.key===ce?B(L,M,V,ee):null;case W:return ce=V._init,V=ce(V._payload),$(L,M,V,ee)}if(ne(V)||Y(V))return ce!==null?null:Q(L,M,V,ee,null);if(typeof V.then=="function")return $(L,M,Tl(V),ee);if(V.$$typeof===N)return $(L,M,ml(L,V),ee);El(L,V)}return null}function q(L,M,V,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return L=L.get(V)||null,k(M,L,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return L=L.get(ee.key===null?V:ee.key)||null,R(M,L,ee,ce);case j:return L=L.get(ee.key===null?V:ee.key)||null,B(M,L,ee,ce);case W:var _e=ee._init;return ee=_e(ee._payload),q(L,M,V,ee,ce)}if(ne(ee)||Y(ee))return L=L.get(V)||null,Q(M,L,ee,ce,null);if(typeof ee.then=="function")return q(L,M,V,Tl(ee),ce);if(ee.$$typeof===N)return q(L,M,V,ml(M,ee),ce);El(M,ee)}return null}function pe(L,M,V,ee){for(var ce=null,_e=null,fe=M,ge=M=0,pt=null;fe!==null&&ge<V.length;ge++){fe.index>ge?(pt=fe,fe=null):pt=fe.sibling;var Ae=$(L,fe,V[ge],ee);if(Ae===null){fe===null&&(fe=pt);break}e&&fe&&Ae.alternate===null&&s(L,fe),M=p(Ae,M,ge),_e===null?ce=Ae:_e.sibling=Ae,_e=Ae,fe=pt}if(ge===V.length)return i(L,fe),Ce&&un(L,ge),ce;if(fe===null){for(;ge<V.length;ge++)fe=ae(L,V[ge],ee),fe!==null&&(M=p(fe,M,ge),_e===null?ce=fe:_e.sibling=fe,_e=fe);return Ce&&un(L,ge),ce}for(fe=c(fe);ge<V.length;ge++)pt=q(fe,L,ge,V[ge],ee),pt!==null&&(e&&pt.alternate!==null&&fe.delete(pt.key===null?ge:pt.key),M=p(pt,M,ge),_e===null?ce=pt:_e.sibling=pt,_e=pt);return e&&fe.forEach(function(Vs){return s(L,Vs)}),Ce&&un(L,ge),ce}function me(L,M,V,ee){if(V==null)throw Error(r(151));for(var ce=null,_e=null,fe=M,ge=M=0,pt=null,Ae=V.next();fe!==null&&!Ae.done;ge++,Ae=V.next()){fe.index>ge?(pt=fe,fe=null):pt=fe.sibling;var Vs=$(L,fe,Ae.value,ee);if(Vs===null){fe===null&&(fe=pt);break}e&&fe&&Vs.alternate===null&&s(L,fe),M=p(Vs,M,ge),_e===null?ce=Vs:_e.sibling=Vs,_e=Vs,fe=pt}if(Ae.done)return i(L,fe),Ce&&un(L,ge),ce;if(fe===null){for(;!Ae.done;ge++,Ae=V.next())Ae=ae(L,Ae.value,ee),Ae!==null&&(M=p(Ae,M,ge),_e===null?ce=Ae:_e.sibling=Ae,_e=Ae);return Ce&&un(L,ge),ce}for(fe=c(fe);!Ae.done;ge++,Ae=V.next())Ae=q(fe,L,ge,Ae.value,ee),Ae!==null&&(e&&Ae.alternate!==null&&fe.delete(Ae.key===null?ge:Ae.key),M=p(Ae,M,ge),_e===null?ce=Ae:_e.sibling=Ae,_e=Ae);return e&&fe.forEach(function(rj){return s(L,rj)}),Ce&&un(L,ge),ce}function ze(L,M,V,ee){if(typeof V=="object"&&V!==null&&V.type===S&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case v:e:{for(var ce=V.key;M!==null;){if(M.key===ce){if(ce=V.type,ce===S){if(M.tag===7){i(L,M.sibling),ee=h(M,V.props.children),ee.return=L,L=ee;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===W&&fg(ce)===M.type){i(L,M.sibling),ee=h(M,V.props),Li(ee,V),ee.return=L,L=ee;break e}i(L,M);break}else s(L,M);M=M.sibling}V.type===S?(ee=ln(V.props.children,L.mode,ee,V.key),ee.return=L,L=ee):(ee=ul(V.type,V.key,V.props,null,L.mode,ee),Li(ee,V),ee.return=L,L=ee)}return b(L);case j:e:{for(ce=V.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===V.containerInfo&&M.stateNode.implementation===V.implementation){i(L,M.sibling),ee=h(M,V.children||[]),ee.return=L,L=ee;break e}else{i(L,M);break}else s(L,M);M=M.sibling}ee=Cu(V,L.mode,ee),ee.return=L,L=ee}return b(L);case W:return ce=V._init,V=ce(V._payload),ze(L,M,V,ee)}if(ne(V))return pe(L,M,V,ee);if(Y(V)){if(ce=Y(V),typeof ce!="function")throw Error(r(150));return V=ce.call(V),me(L,M,V,ee)}if(typeof V.then=="function")return ze(L,M,Tl(V),ee);if(V.$$typeof===N)return ze(L,M,ml(L,V),ee);El(L,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,M!==null&&M.tag===6?(i(L,M.sibling),ee=h(M,V),ee.return=L,L=ee):(i(L,M),ee=Au(V,L.mode,ee),ee.return=L,L=ee),b(L)):i(L,M)}return function(L,M,V,ee){try{Pi=0;var ce=ze(L,M,V,ee);return lr=null,ce}catch(fe){if(fe===Ni||fe===pl)throw fe;var _e=Ht(29,fe,null,L.mode);return _e.lanes=ee,_e.return=L,_e}finally{}}}var cr=mg(!0),gg=mg(!1),aa=O(null),Aa=null;function _s(e){var s=e.alternate;se(dt,dt.current&1),se(aa,e),Aa===null&&(s===null||nr.current!==null||s.memoizedState!==null)&&(Aa=e)}function pg(e){if(e.tag===22){if(se(dt,dt.current),se(aa,e),Aa===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(Aa=e)}}else Ss()}function Ss(){se(dt,dt.current),se(aa,aa.current)}function as(e){X(aa),Aa===e&&(Aa=null),X(dt)}var dt=O(0);function Al(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Zd(i)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function cd(e,s,i,c){s=e.memoizedState,i=i(c,s),i=i==null?s:y({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ud={enqueueSetState:function(e,s,i){e=e._reactInternals;var c=Xt(),h=ws(c);h.payload=s,i!=null&&(h.callback=i),s=js(e,h,c),s!==null&&(Kt(s,e,c),Ei(s,e,c))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var c=Xt(),h=ws(c);h.tag=1,h.payload=s,i!=null&&(h.callback=i),s=js(e,h,c),s!==null&&(Kt(s,e,c),Ei(s,e,c))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=Xt(),c=ws(i);c.tag=2,s!=null&&(c.callback=s),s=js(e,c,i),s!==null&&(Kt(s,e,i),Ei(s,e,i))}};function yg(e,s,i,c,h,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,b):s.prototype&&s.prototype.isPureReactComponent?!xi(i,c)||!xi(h,p):!0}function xg(e,s,i,c){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==e&&ud.enqueueReplaceState(s,s.state,null)}function yn(e,s){var i=s;if("ref"in s){i={};for(var c in s)c!=="ref"&&(i[c]=s[c])}if(e=e.defaultProps){i===s&&(i=y({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}var Cl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function bg(e){Cl(e)}function vg(e){console.error(e)}function wg(e){Cl(e)}function Rl(e,s){try{var i=e.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function jg(e,s,i){try{var c=e.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(e,s,i){return i=ws(i),i.tag=3,i.payload={element:null},i.callback=function(){Rl(e,s)},i}function kg(e){return e=ws(e),e.tag=3,e}function _g(e,s,i,c){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=c.value;e.payload=function(){return h(p)},e.callback=function(){jg(s,i,c)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){jg(s,i,c),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function r2(e,s,i,c,h){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=i.alternate,s!==null&&ki(s,i,h,!0),i=aa.current,i!==null){switch(i.tag){case 13:return Aa===null?Pd():i.alternate===null&&et===0&&(et=3),i.flags&=-257,i.flags|=65536,i.lanes=h,c===Bu?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([c]):s.add(c),Ud(e,c,h)),!1;case 22:return i.flags|=65536,c===Bu?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([c]):i.add(c)),Ud(e,c,h)),!1}throw Error(r(435,i.tag))}return Ud(e,c,h),Pd(),!1}if(Ce)return s=aa.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==Mu&&(e=Error(r(422),{cause:c}),ji(Zt(e,i)))):(c!==Mu&&(s=Error(r(423),{cause:c}),ji(Zt(s,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,c=Zt(c,i),h=dd(e.stateNode,c,h),Iu(e,h),et!==4&&(et=2)),!1;var p=Error(r(520),{cause:c});if(p=Zt(p,i),Ii===null?Ii=[p]:Ii.push(p),et!==4&&(et=2),s===null)return!0;c=Zt(c,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=dd(i.stateNode,c,e),Iu(i,e),!1;case 1:if(s=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Rs===null||!Rs.has(p))))return i.flags|=65536,h&=-h,i.lanes|=h,h=kg(h),_g(h,e,i,c),Iu(i,h),!1}i=i.return}while(i!==null);return!1}var Sg=Error(r(461)),mt=!1;function jt(e,s,i,c){s.child=e===null?gg(s,null,i,c):cr(s,e.child,i,c)}function Ng(e,s,i,c,h){i=i.render;var p=s.ref;if("ref"in c){var b={};for(var k in c)k!=="ref"&&(b[k]=c[k])}else b=c;return mn(s),c=Xu(e,s,i,b,p,h),k=Ku(),e!==null&&!mt?(Qu(e,s,h),ss(e,s,h)):(Ce&&k&&Ru(s),s.flags|=1,jt(e,s,c,h),s.child)}function Tg(e,s,i,c,h){if(e===null){var p=i.type;return typeof p=="function"&&!Eu(p)&&p.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=p,Eg(e,s,p,c,h)):(e=ul(i.type,null,c,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(p=e.child,!bd(e,h)){var b=p.memoizedProps;if(i=i.compare,i=i!==null?i:xi,i(b,c)&&e.ref===s.ref)return ss(e,s,h)}return s.flags|=1,e=Qa(p,c),e.ref=s.ref,e.return=s,s.child=e}function Eg(e,s,i,c,h){if(e!==null){var p=e.memoizedProps;if(xi(p,c)&&e.ref===s.ref)if(mt=!1,s.pendingProps=c=p,bd(e,h))(e.flags&131072)!==0&&(mt=!0);else return s.lanes=e.lanes,ss(e,s,h)}return hd(e,s,i,c,h)}function Ag(e,s,i){var c=s.pendingProps,h=c.children,p=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=p!==null?p.baseLanes|i:i,e!==null){for(h=s.child=e.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;s.childLanes=p&~c}else s.childLanes=0,s.child=null;return Cg(e,s,c,i)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&gl(s,p!==null?p.cachePool:null),p!==null?E0(s,p):Gu(),pg(s);else return s.lanes=s.childLanes=536870912,Cg(e,s,p!==null?p.baseLanes|i:i,i)}else p!==null?(gl(s,p.cachePool),E0(s,p),Ss(),s.memoizedState=null):(e!==null&&gl(s,null),Gu(),Ss());return jt(e,s,h,i),s.child}function Cg(e,s,i,c){var h=Vu();return h=h===null?null:{parent:ut._currentValue,pool:h},s.memoizedState={baseLanes:i,cachePool:h},e!==null&&gl(s,null),Gu(),pg(s),e!==null&&ki(e,s,c,!0),null}function Dl(e,s){var i=s.ref;if(i===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(s.flags|=4194816)}}function hd(e,s,i,c,h){return mn(s),i=Xu(e,s,i,c,void 0,h),c=Ku(),e!==null&&!mt?(Qu(e,s,h),ss(e,s,h)):(Ce&&c&&Ru(s),s.flags|=1,jt(e,s,i,h),s.child)}function Rg(e,s,i,c,h,p){return mn(s),s.updateQueue=null,i=C0(s,c,i,h),A0(e),c=Ku(),e!==null&&!mt?(Qu(e,s,p),ss(e,s,p)):(Ce&&c&&Ru(s),s.flags|=1,jt(e,s,i,p),s.child)}function Dg(e,s,i,c,h){if(mn(s),s.stateNode===null){var p=Jn,b=i.contextType;typeof b=="object"&&b!==null&&(p=Tt(b)),p=new i(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ud,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},$u(s),b=i.contextType,p.context=typeof b=="object"&&b!==null?Tt(b):Jn,p.state=s.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(cd(s,i,b,c),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&ud.enqueueReplaceState(p,p.state,null),Ci(s,c,p,h),Ai(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(e===null){p=s.stateNode;var k=s.memoizedProps,R=yn(i,k);p.props=R;var B=p.context,Q=i.contextType;b=Jn,typeof Q=="object"&&Q!==null&&(b=Tt(Q));var ae=i.getDerivedStateFromProps;Q=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,Q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(k||B!==b)&&xg(s,p,c,b),vs=!1;var $=s.memoizedState;p.state=$,Ci(s,c,p,h),Ai(),B=s.memoizedState,k||$!==B||vs?(typeof ae=="function"&&(cd(s,i,ae,c),B=s.memoizedState),(R=vs||yg(s,i,R,c,$,B,b))?(Q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=B),p.props=c,p.state=B,p.context=b,c=R):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,qu(e,s),b=s.memoizedProps,Q=yn(i,b),p.props=Q,ae=s.pendingProps,$=p.context,B=i.contextType,R=Jn,typeof B=="object"&&B!==null&&(R=Tt(B)),k=i.getDerivedStateFromProps,(B=typeof k=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ae||$!==R)&&xg(s,p,c,R),vs=!1,$=s.memoizedState,p.state=$,Ci(s,c,p,h),Ai();var q=s.memoizedState;b!==ae||$!==q||vs||e!==null&&e.dependencies!==null&&fl(e.dependencies)?(typeof k=="function"&&(cd(s,i,k,c),q=s.memoizedState),(Q=vs||yg(s,i,Q,c,$,q,R)||e!==null&&e.dependencies!==null&&fl(e.dependencies))?(B||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,q,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,q,R)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=q),p.props=c,p.state=q,p.context=R,c=Q):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(s.flags|=1024),c=!1)}return p=c,Dl(e,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,e!==null&&c?(s.child=cr(s,e.child,null,h),s.child=cr(s,null,i,h)):jt(e,s,i,h),s.memoizedState=p.state,e=s.child):e=ss(e,s,h),e}function Mg(e,s,i,c){return wi(),s.flags|=256,jt(e,s,i,c),s.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(e){return{baseLanes:e,cachePool:v0()}}function gd(e,s,i){return e=e!==null?e.childLanes&~i:0,s&&(e|=sa),e}function Og(e,s,i){var c=s.pendingProps,h=!1,p=(s.flags&128)!==0,b;if((b=p)||(b=e!==null&&e.memoizedState===null?!1:(dt.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,e===null){if(Ce){if(h?_s(s):Ss(),Ce){var k=Je,R;if(R=k){e:{for(R=k,k=Ea;R.nodeType!==8;){if(!k){k=null;break e}if(R=ma(R.nextSibling),R===null){k=null;break e}}k=R}k!==null?(s.memoizedState={dehydrated:k,treeContext:cn!==null?{id:Wa,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},R=Ht(18,null,null,0),R.stateNode=k,R.return=s,s.child=R,Dt=s,Je=null,R=!0):R=!1}R||hn(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Zd(k)?s.lanes=32:s.lanes=536870912,null;as(s)}return k=c.children,c=c.fallback,h?(Ss(),h=s.mode,k=Ml({mode:"hidden",children:k},h),c=ln(c,h,i,null),k.return=s,c.return=s,k.sibling=c,s.child=k,h=s.child,h.memoizedState=md(i),h.childLanes=gd(e,b,i),s.memoizedState=fd,c):(_s(s),pd(s,k))}if(R=e.memoizedState,R!==null&&(k=R.dehydrated,k!==null)){if(p)s.flags&256?(_s(s),s.flags&=-257,s=yd(e,s,i)):s.memoizedState!==null?(Ss(),s.child=e.child,s.flags|=128,s=null):(Ss(),h=c.fallback,k=s.mode,c=Ml({mode:"visible",children:c.children},k),h=ln(h,k,i,null),h.flags|=2,c.return=s,h.return=s,c.sibling=h,s.child=c,cr(s,e.child,null,i),c=s.child,c.memoizedState=md(i),c.childLanes=gd(e,b,i),s.memoizedState=fd,s=h);else if(_s(s),Zd(k)){if(b=k.nextSibling&&k.nextSibling.dataset,b)var B=b.dgst;b=B,c=Error(r(419)),c.stack="",c.digest=b,ji({value:c,source:null,stack:null}),s=yd(e,s,i)}else if(mt||ki(e,s,i,!1),b=(i&e.childLanes)!==0,mt||b){if(b=$e,b!==null&&(c=i&-i,c=(c&42)!==0?1:Vn(c),c=(c&(b.suspendedLanes|i))!==0?0:c,c!==0&&c!==R.retryLane))throw R.retryLane=c,Zn(e,c),Kt(b,e,c),Sg;k.data==="$?"||Pd(),s=yd(e,s,i)}else k.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=R.treeContext,Je=ma(k.nextSibling),Dt=s,Ce=!0,dn=null,Ea=!1,e!==null&&(ea[ta++]=Wa,ea[ta++]=Za,ea[ta++]=cn,Wa=e.id,Za=e.overflow,cn=s),s=pd(s,c.children),s.flags|=4096);return s}return h?(Ss(),h=c.fallback,k=s.mode,R=e.child,B=R.sibling,c=Qa(R,{mode:"hidden",children:c.children}),c.subtreeFlags=R.subtreeFlags&65011712,B!==null?h=Qa(B,h):(h=ln(h,k,i,null),h.flags|=2),h.return=s,c.return=s,c.sibling=h,s.child=c,c=h,h=s.child,k=e.child.memoizedState,k===null?k=md(i):(R=k.cachePool,R!==null?(B=ut._currentValue,R=R.parent!==B?{parent:B,pool:B}:R):R=v0(),k={baseLanes:k.baseLanes|i,cachePool:R}),h.memoizedState=k,h.childLanes=gd(e,b,i),s.memoizedState=fd,c):(_s(s),i=e.child,e=i.sibling,i=Qa(i,{mode:"visible",children:c.children}),i.return=s,i.sibling=null,e!==null&&(b=s.deletions,b===null?(s.deletions=[e],s.flags|=16):b.push(e)),s.child=i,s.memoizedState=null,i)}function pd(e,s){return s=Ml({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Ml(e,s){return e=Ht(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function yd(e,s,i){return cr(s,e.child,null,i),e=pd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Pg(e,s,i){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s),Pu(e.return,s,i)}function xd(e,s,i,c,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=i,p.tailMode=h)}function Lg(e,s,i){var c=s.pendingProps,h=c.revealOrder,p=c.tail;if(jt(e,s,c.children,i),c=dt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pg(e,i,s);else if(e.tag===19)Pg(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(se(dt,c),h){case"forwards":for(i=s.child,h=null;i!==null;)e=i.alternate,e!==null&&Al(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=s.child,s.child=null):(h=i.sibling,i.sibling=null),xd(s,!1,h,i,p);break;case"backwards":for(i=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Al(e)===null){s.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}xd(s,!0,i,null,p);break;case"together":xd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ss(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),Cs|=s.lanes,(i&s.childLanes)===0)if(e!==null){if(ki(e,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,i=Qa(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=Qa(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function bd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&fl(e)))}function i2(e,s,i){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),bs(s,ut,e.memoizedState.cache),wi();break;case 27:case 5:ua(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:bs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(_s(s),s.flags|=128,null):(i&s.child.childLanes)!==0?Og(e,s,i):(_s(s),e=ss(e,s,i),e!==null?e.sibling:null);_s(s);break;case 19:var h=(e.flags&128)!==0;if(c=(i&s.childLanes)!==0,c||(ki(e,s,i,!1),c=(i&s.childLanes)!==0),h){if(c)return Lg(e,s,i);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(dt,dt.current),c)break;return null;case 22:case 23:return s.lanes=0,Ag(e,s,i);case 24:bs(s,ut,e.memoizedState.cache)}return ss(e,s,i)}function Ug(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps)mt=!0;else{if(!bd(e,i)&&(s.flags&128)===0)return mt=!1,i2(e,s,i);mt=(e.flags&131072)!==0}else mt=!1,Ce&&(s.flags&1048576)!==0&&f0(s,hl,s.index);switch(s.lanes=0,s.tag){case 16:e:{e=s.pendingProps;var c=s.elementType,h=c._init;if(c=h(c._payload),s.type=c,typeof c=="function")Eu(c)?(e=yn(c,e),s.tag=1,s=Dg(null,s,c,e,i)):(s.tag=0,s=hd(null,s,c,e,i));else{if(c!=null){if(h=c.$$typeof,h===P){s.tag=11,s=Ng(null,s,c,e,i);break e}else if(h===F){s.tag=14,s=Tg(null,s,c,e,i);break e}}throw s=ue(c)||c,Error(r(306,s,""))}}return s;case 0:return hd(e,s,s.type,s.pendingProps,i);case 1:return c=s.type,h=yn(c,s.pendingProps),Dg(e,s,c,h,i);case 3:e:{if(xe(s,s.stateNode.containerInfo),e===null)throw Error(r(387));c=s.pendingProps;var p=s.memoizedState;h=p.element,qu(e,s),Ci(s,c,null,i);var b=s.memoizedState;if(c=b.cache,bs(s,ut,c),c!==p.cache&&Lu(s,[ut],i,!0),Ai(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Mg(e,s,c,i);break e}else if(c!==h){h=Zt(Error(r(424)),s),ji(h),s=Mg(e,s,c,i);break e}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=ma(e.firstChild),Dt=s,Ce=!0,dn=null,Ea=!0,i=gg(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(wi(),c===h){s=ss(e,s,i);break e}jt(e,s,c,i)}s=s.child}return s;case 26:return Dl(e,s),e===null?(i=$p(s.type,null,s.pendingProps,null))?s.memoizedState=i:Ce||(i=s.type,e=s.pendingProps,c=Yl(he.current).createElement(i),c[ct]=s,c[vt]=e,_t(c,i,e),Xe(c),s.stateNode=c):s.memoizedState=$p(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return ua(s),e===null&&Ce&&(c=s.stateNode=zp(s.type,s.pendingProps,he.current),Dt=s,Ea=!0,h=Je,Os(s.type)?(Jd=h,Je=ma(c.firstChild)):Je=h),jt(e,s,s.pendingProps.children,i),Dl(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Ce&&((h=c=Je)&&(c=O2(c,s.type,s.pendingProps,Ea),c!==null?(s.stateNode=c,Dt=s,Je=ma(c.firstChild),Ea=!1,h=!0):h=!1),h||hn(s)),ua(s),h=s.type,p=s.pendingProps,b=e!==null?e.memoizedProps:null,c=p.children,Kd(h,p)?c=null:b!==null&&Kd(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=Xu(e,s,Zw,null,null,i),Zi._currentValue=h),Dl(e,s),jt(e,s,c,i),s.child;case 6:return e===null&&Ce&&((e=i=Je)&&(i=P2(i,s.pendingProps,Ea),i!==null?(s.stateNode=i,Dt=s,Je=null,e=!0):e=!1),e||hn(s)),null;case 13:return Og(e,s,i);case 4:return xe(s,s.stateNode.containerInfo),c=s.pendingProps,e===null?s.child=cr(s,null,c,i):jt(e,s,c,i),s.child;case 11:return Ng(e,s,s.type,s.pendingProps,i);case 7:return jt(e,s,s.pendingProps,i),s.child;case 8:return jt(e,s,s.pendingProps.children,i),s.child;case 12:return jt(e,s,s.pendingProps.children,i),s.child;case 10:return c=s.pendingProps,bs(s,s.type,c.value),jt(e,s,c.children,i),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,mn(s),h=Tt(h),c=c(h),s.flags|=1,jt(e,s,c,i),s.child;case 14:return Tg(e,s,s.type,s.pendingProps,i);case 15:return Eg(e,s,s.type,s.pendingProps,i);case 19:return Lg(e,s,i);case 31:return c=s.pendingProps,i=s.mode,c={mode:c.mode,children:c.children},e===null?(i=Ml(c,i),i.ref=s.ref,s.child=i,i.return=s,s=i):(i=Qa(e.child,c),i.ref=s.ref,s.child=i,i.return=s,s=i),s;case 22:return Ag(e,s,i);case 24:return mn(s),c=Tt(ut),e===null?(h=Vu(),h===null&&(h=$e,p=Uu(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=i),h=p),s.memoizedState={parent:c,cache:h},$u(s),bs(s,ut,h)):((e.lanes&i)!==0&&(qu(e,s),Ci(s,null,null,i),Ai()),h=e.memoizedState,p=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),bs(s,ut,c)):(c=p.cache,bs(s,ut,c),c!==h.cache&&Lu(s,[ut],i,!0))),jt(e,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ns(e){e.flags|=4}function zg(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fp(s)){if(s=aa.current,s!==null&&((Ee&4194048)===Ee?Aa!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||s!==Aa))throw Ti=Bu,w0;e.flags|=8192}}function Ol(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Ha():536870912,e.lanes|=s,fr|=s)}function Ui(e,s){if(!Ce)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ke(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(s)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=i,s}function o2(e,s,i){var c=s.pendingProps;switch(Du(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(s),null;case 1:return Ke(s),null;case 3:return i=s.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),es(ut),We(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(vi(s)?ns(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,p0())),Ke(s),null;case 26:return i=s.memoizedState,e===null?(ns(s),i!==null?(Ke(s),zg(s,i)):(Ke(s),s.flags&=-16777217)):i?i!==e.memoizedState?(ns(s),Ke(s),zg(s,i)):(Ke(s),s.flags&=-16777217):(e.memoizedProps!==c&&ns(s),Ke(s),s.flags&=-16777217),null;case 27:Un(s),i=he.current;var h=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==c&&ns(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Ke(s),null}e=te.current,vi(s)?m0(s):(e=zp(h,c,i),s.stateNode=e,ns(s))}return Ke(s),null;case 5:if(Un(s),i=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==c&&ns(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Ke(s),null}if(e=te.current,vi(s))m0(s);else{switch(h=Yl(he.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?h.createElement(i,{is:c.is}):h.createElement(i)}}e[ct]=s,e[vt]=c;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=e;e:switch(_t(e,i,c),i){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ns(s)}}return Ke(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==c&&ns(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(e=he.current,vi(s)){if(e=s.stateNode,i=s.memoizedProps,c=null,h=Dt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}e[ct]=s,e=!!(e.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Rp(e.nodeValue,i)),e||hn(s)}else e=Yl(e).createTextNode(c),e[ct]=s,s.stateNode=e}return Ke(s),null;case 13:if(c=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=vi(s),c!==null&&c.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ct]=s}else wi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ke(s),h=!1}else h=p0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(as(s),s):(as(s),null)}if(as(s),(s.flags&128)!==0)return s.lanes=i,s;if(i=c!==null,e=e!==null&&e.memoizedState!==null,i){c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048)}return i!==e&&i&&(s.child.flags|=8192),Ol(s,s.updateQueue),Ke(s),null;case 4:return We(),e===null&&Hd(s.stateNode.containerInfo),Ke(s),null;case 10:return es(s.type),Ke(s),null;case 19:if(X(dt),h=s.memoizedState,h===null)return Ke(s),null;if(c=(s.flags&128)!==0,p=h.rendering,p===null)if(c)Ui(h,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(p=Al(e),p!==null){for(s.flags|=128,Ui(h,!1),e=p.updateQueue,s.updateQueue=e,Ol(s,e),s.subtreeFlags=0,e=i,i=s.child;i!==null;)h0(i,e),i=i.sibling;return se(dt,dt.current&1|2),s.child}e=e.sibling}h.tail!==null&&qt()>Ul&&(s.flags|=128,c=!0,Ui(h,!1),s.lanes=4194304)}else{if(!c)if(e=Al(p),e!==null){if(s.flags|=128,c=!0,e=e.updateQueue,s.updateQueue=e,Ol(s,e),Ui(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Ce)return Ke(s),null}else 2*qt()-h.renderingStartTime>Ul&&i!==536870912&&(s.flags|=128,c=!0,Ui(h,!1),s.lanes=4194304);h.isBackwards?(p.sibling=s.child,s.child=p):(e=h.last,e!==null?e.sibling=p:s.child=p,h.last=p)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=qt(),s.sibling=null,e=dt.current,se(dt,c?e&1|2:e&1),s):(Ke(s),null);case 22:case 23:return as(s),Fu(),c=s.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(i&536870912)!==0&&(s.flags&128)===0&&(Ke(s),s.subtreeFlags&6&&(s.flags|=8192)):Ke(s),i=s.updateQueue,i!==null&&Ol(s,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==i&&(s.flags|=2048),e!==null&&X(gn),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),es(ut),Ke(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function l2(e,s){switch(Du(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return es(ut),We(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Un(s),null;case 13:if(as(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));wi()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return X(dt),null;case 4:return We(),null;case 10:return es(s.type),null;case 22:case 23:return as(s),Fu(),e!==null&&X(gn),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return es(ut),null;case 25:return null;default:return null}}function Vg(e,s){switch(Du(s),s.tag){case 3:es(ut),We();break;case 26:case 27:case 5:Un(s);break;case 4:We();break;case 13:as(s);break;case 19:X(dt);break;case 10:es(s.type);break;case 22:case 23:as(s),Fu(),e!==null&&X(gn);break;case 24:es(ut)}}function zi(e,s){try{var i=s.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var h=c.next;i=h;do{if((i.tag&e)===e){c=void 0;var p=i.create,b=i.inst;c=p(),b.destroy=c}i=i.next}while(i!==h)}}catch(k){Ve(s,s.return,k)}}function Ns(e,s,i){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&e)===e){var b=c.inst,k=b.destroy;if(k!==void 0){b.destroy=void 0,h=s;var R=i,B=k;try{B()}catch(Q){Ve(h,R,Q)}}}c=c.next}while(c!==p)}}catch(Q){Ve(s,s.return,Q)}}function Bg(e){var s=e.updateQueue;if(s!==null){var i=e.stateNode;try{T0(s,i)}catch(c){Ve(e,e.return,c)}}}function $g(e,s,i){i.props=yn(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(c){Ve(e,s,c)}}function Vi(e,s){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(h){Ve(e,s,h)}}function Ca(e,s){var i=e.ref,c=e.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(h){Ve(e,s,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Ve(e,s,h)}else i.current=null}function qg(e){var s=e.type,i=e.memoizedProps,c=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(h){Ve(e,e.return,h)}}function vd(e,s,i){try{var c=e.stateNode;A2(c,e.type,i,s),c[vt]=s}catch(h){Ve(e,e.return,h)}}function Ig(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function wd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jd(e,s,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(e),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Fl));else if(c!==4&&(c===27&&Os(e.type)&&(i=e.stateNode,s=null),e=e.child,e!==null))for(jd(e,s,i),e=e.sibling;e!==null;)jd(e,s,i),e=e.sibling}function Pl(e,s,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(c!==4&&(c===27&&Os(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Pl(e,s,i),e=e.sibling;e!==null;)Pl(e,s,i),e=e.sibling}function Hg(e){var s=e.stateNode,i=e.memoizedProps;try{for(var c=e.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);_t(s,c,i),s[ct]=e,s[vt]=i}catch(p){Ve(e,e.return,p)}}var rs=!1,st=!1,kd=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,gt=null;function c2(e,s){if(e=e.containerInfo,Yd=Jl,e=a0(e),wu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var b=0,k=-1,R=-1,B=0,Q=0,ae=e,$=null;t:for(;;){for(var q;ae!==i||h!==0&&ae.nodeType!==3||(k=b+h),ae!==p||c!==0&&ae.nodeType!==3||(R=b+c),ae.nodeType===3&&(b+=ae.nodeValue.length),(q=ae.firstChild)!==null;)$=ae,ae=q;for(;;){if(ae===e)break t;if($===i&&++B===h&&(k=b),$===p&&++Q===c&&(R=b),(q=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=q}i=k===-1||R===-1?null:{start:k,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xd={focusedElem:e,selectionRange:i},Jl=!1,gt=s;gt!==null;)if(s=gt,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,gt=e;else for(;gt!==null;){switch(s=gt,p=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,i=s,h=p.memoizedProps,p=p.memoizedState,c=i.stateNode;try{var pe=yn(i.type,h,i.elementType===i.type);e=c.getSnapshotBeforeUpdate(pe,p),c.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ve(i,i.return,me)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,i=e.nodeType,i===9)Wd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,gt=e;break}gt=s.return}}function Fg(e,s,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Ts(e,i),c&4&&zi(5,i);break;case 1:if(Ts(e,i),c&4)if(e=i.stateNode,s===null)try{e.componentDidMount()}catch(b){Ve(i,i.return,b)}else{var h=yn(i.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(h,s,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ve(i,i.return,b)}}c&64&&Bg(i),c&512&&Vi(i,i.return);break;case 3:if(Ts(e,i),c&64&&(e=i.updateQueue,e!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{T0(e,s)}catch(b){Ve(i,i.return,b)}}break;case 27:s===null&&c&4&&Hg(i);case 26:case 5:Ts(e,i),s===null&&c&4&&qg(i),c&512&&Vi(i,i.return);break;case 12:Ts(e,i);break;case 13:Ts(e,i),c&4&&Kg(e,i),c&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=x2.bind(null,i),L2(e,i))));break;case 22:if(c=i.memoizedState!==null||rs,!c){s=s!==null&&s.memoizedState!==null||st,h=rs;var p=st;rs=c,(st=s)&&!p?Es(e,i,(i.subtreeFlags&8772)!==0):Ts(e,i),rs=h,st=p}break;case 30:break;default:Ts(e,i)}}function Yg(e){var s=e.alternate;s!==null&&(e.alternate=null,Yg(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&qn(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,zt=!1;function is(e,s,i){for(i=i.child;i!==null;)Xg(e,s,i),i=i.sibling}function Xg(e,s,i){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(en,i)}catch{}switch(i.tag){case 26:st||Ca(i,s),is(e,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:st||Ca(i,s);var c=Ge,h=zt;Os(i.type)&&(Ge=i.stateNode,zt=!1),is(e,s,i),Xi(i.stateNode),Ge=c,zt=h;break;case 5:st||Ca(i,s);case 6:if(c=Ge,h=zt,Ge=null,is(e,s,i),Ge=c,zt=h,Ge!==null)if(zt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(i.stateNode)}catch(p){Ve(i,s,p)}else try{Ge.removeChild(i.stateNode)}catch(p){Ve(i,s,p)}break;case 18:Ge!==null&&(zt?(e=Ge,Lp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ao(e)):Lp(Ge,i.stateNode));break;case 4:c=Ge,h=zt,Ge=i.stateNode.containerInfo,zt=!0,is(e,s,i),Ge=c,zt=h;break;case 0:case 11:case 14:case 15:st||Ns(2,i,s),st||Ns(4,i,s),is(e,s,i);break;case 1:st||(Ca(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"&&$g(i,s,c)),is(e,s,i);break;case 21:is(e,s,i);break;case 22:st=(c=st)||i.memoizedState!==null,is(e,s,i),st=c;break;default:is(e,s,i)}}function Kg(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ao(e)}catch(i){Ve(s,s.return,i)}}function u2(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Gg),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Gg),s;default:throw Error(r(435,e.tag))}}function _d(e,s){var i=u2(e);s.forEach(function(c){var h=b2.bind(null,e,c);i.has(c)||(i.add(c),c.then(h,h))})}function Gt(e,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c],p=e,b=s,k=b;e:for(;k!==null;){switch(k.tag){case 27:if(Os(k.type)){Ge=k.stateNode,zt=!1;break e}break;case 5:Ge=k.stateNode,zt=!1;break e;case 3:case 4:Ge=k.stateNode.containerInfo,zt=!0;break e}k=k.return}if(Ge===null)throw Error(r(160));Xg(p,b,h),Ge=null,zt=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Qg(s,e),s=s.sibling}var fa=null;function Qg(e,s){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(s,e),Ft(e),c&4&&(Ns(3,e,e.return),zi(3,e),Ns(5,e,e.return));break;case 1:Gt(s,e),Ft(e),c&512&&(st||i===null||Ca(i,i.return)),c&64&&rs&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var h=fa;if(Gt(s,e),Ft(e),c&512&&(st||i===null||Ca(i,i.return)),c&4){var p=i!==null?i.memoizedState:null;if(c=e.memoizedState,i===null)if(c===null)if(e.stateNode===null){e:{c=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":p=h.getElementsByTagName("title")[0],(!p||p[ys]||p[ct]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(c),h.head.insertBefore(p,h.querySelector("head > title"))),_t(p,c,i),p[ct]=e,Xe(p),c=p;break e;case"link":var b=Hp("link","href",h).get(c+(i.href||""));if(b){for(var k=0;k<b.length;k++)if(p=b[k],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(k,1);break t}}p=h.createElement(c),_t(p,c,i),h.head.appendChild(p);break;case"meta":if(b=Hp("meta","content",h).get(c+(i.content||""))){for(k=0;k<b.length;k++)if(p=b[k],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(k,1);break t}}p=h.createElement(c),_t(p,c,i),h.head.appendChild(p);break;default:throw Error(r(468,c))}p[ct]=e,Xe(p),c=p}e.stateNode=c}else Gp(h,e.type,e.stateNode);else e.stateNode=Ip(h,c,e.memoizedProps);else p!==c?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,c===null?Gp(h,e.type,e.stateNode):Ip(h,c,e.memoizedProps)):c===null&&e.stateNode!==null&&vd(e,e.memoizedProps,i.memoizedProps)}break;case 27:Gt(s,e),Ft(e),c&512&&(st||i===null||Ca(i,i.return)),i!==null&&c&4&&vd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Gt(s,e),Ft(e),c&512&&(st||i===null||Ca(i,i.return)),e.flags&32){h=e.stateNode;try{Gn(h,"")}catch(q){Ve(e,e.return,q)}}c&4&&e.stateNode!=null&&(h=e.memoizedProps,vd(e,h,i!==null?i.memoizedProps:h)),c&1024&&(kd=!0);break;case 6:if(Gt(s,e),Ft(e),c&4){if(e.stateNode===null)throw Error(r(162));c=e.memoizedProps,i=e.stateNode;try{i.nodeValue=c}catch(q){Ve(e,e.return,q)}}break;case 3:if(Ql=null,h=fa,fa=Xl(s.containerInfo),Gt(s,e),fa=h,Ft(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{ao(s.containerInfo)}catch(q){Ve(e,e.return,q)}kd&&(kd=!1,Wg(e));break;case 4:c=fa,fa=Xl(e.stateNode.containerInfo),Gt(s,e),Ft(e),fa=c;break;case 12:Gt(s,e),Ft(e);break;case 13:Gt(s,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Cd=qt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,_d(e,c)));break;case 22:h=e.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,B=rs,Q=st;if(rs=B||h,st=Q||R,Gt(s,e),st=Q,rs=B,Ft(e),c&8192)e:for(s=e.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(i===null||R||rs||st||xn(e)),i=null,s=e;;){if(s.tag===5||s.tag===26){if(i===null){R=i=s;try{if(p=R.stateNode,h)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{k=R.stateNode;var ae=R.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;k.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(q){Ve(R,R.return,q)}}}else if(s.tag===6){if(i===null){R=s;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(q){Ve(R,R.return,q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=e.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,_d(e,i))));break;case 19:Gt(s,e),Ft(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,_d(e,c)));break;case 30:break;case 21:break;default:Gt(s,e),Ft(e)}}function Ft(e){var s=e.flags;if(s&2){try{for(var i,c=e.return;c!==null;){if(Ig(c)){i=c;break}c=c.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var h=i.stateNode,p=wd(e);Pl(e,p,h);break;case 5:var b=i.stateNode;i.flags&32&&(Gn(b,""),i.flags&=-33);var k=wd(e);Pl(e,k,b);break;case 3:case 4:var R=i.stateNode.containerInfo,B=wd(e);jd(e,B,R);break;default:throw Error(r(161))}}catch(Q){Ve(e,e.return,Q)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Wg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Wg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Ts(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Fg(e,s.alternate,s),s=s.sibling}function xn(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Ns(4,s,s.return),xn(s);break;case 1:Ca(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&$g(s,s.return,i),xn(s);break;case 27:Xi(s.stateNode);case 26:case 5:Ca(s,s.return),xn(s);break;case 22:s.memoizedState===null&&xn(s);break;case 30:xn(s);break;default:xn(s)}e=e.sibling}}function Es(e,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=e,p=s,b=p.flags;switch(p.tag){case 0:case 11:case 15:Es(h,p,i),zi(4,p);break;case 1:if(Es(h,p,i),c=p,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ve(c,c.return,B)}if(c=p,h=c.updateQueue,h!==null){var k=c.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)N0(R[h],k)}catch(B){Ve(c,c.return,B)}}i&&b&64&&Bg(p),Vi(p,p.return);break;case 27:Hg(p);case 26:case 5:Es(h,p,i),i&&c===null&&b&4&&qg(p),Vi(p,p.return);break;case 12:Es(h,p,i);break;case 13:Es(h,p,i),i&&b&4&&Kg(h,p);break;case 22:p.memoizedState===null&&Es(h,p,i),Vi(p,p.return);break;case 30:break;default:Es(h,p,i)}s=s.sibling}}function Sd(e,s){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&_i(i))}function Nd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&_i(e))}function Ra(e,s,i,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Zg(e,s,i,c),s=s.sibling}function Zg(e,s,i,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Ra(e,s,i,c),h&2048&&zi(9,s);break;case 1:Ra(e,s,i,c);break;case 3:Ra(e,s,i,c),h&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&_i(e)));break;case 12:if(h&2048){Ra(e,s,i,c),e=s.stateNode;try{var p=s.memoizedProps,b=p.id,k=p.onPostCommit;typeof k=="function"&&k(b,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ve(s,s.return,R)}}else Ra(e,s,i,c);break;case 13:Ra(e,s,i,c);break;case 23:break;case 22:p=s.stateNode,b=s.alternate,s.memoizedState!==null?p._visibility&2?Ra(e,s,i,c):Bi(e,s):p._visibility&2?Ra(e,s,i,c):(p._visibility|=2,ur(e,s,i,c,(s.subtreeFlags&10256)!==0)),h&2048&&Sd(b,s);break;case 24:Ra(e,s,i,c),h&2048&&Nd(s.alternate,s);break;default:Ra(e,s,i,c)}}function ur(e,s,i,c,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=e,b=s,k=i,R=c,B=b.flags;switch(b.tag){case 0:case 11:case 15:ur(p,b,k,R,h),zi(8,b);break;case 23:break;case 22:var Q=b.stateNode;b.memoizedState!==null?Q._visibility&2?ur(p,b,k,R,h):Bi(p,b):(Q._visibility|=2,ur(p,b,k,R,h)),h&&B&2048&&Sd(b.alternate,b);break;case 24:ur(p,b,k,R,h),h&&B&2048&&Nd(b.alternate,b);break;default:ur(p,b,k,R,h)}s=s.sibling}}function Bi(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=e,c=s,h=c.flags;switch(c.tag){case 22:Bi(i,c),h&2048&&Sd(c.alternate,c);break;case 24:Bi(i,c),h&2048&&Nd(c.alternate,c);break;default:Bi(i,c)}s=s.sibling}}var $i=8192;function dr(e){if(e.subtreeFlags&$i)for(e=e.child;e!==null;)Jg(e),e=e.sibling}function Jg(e){switch(e.tag){case 26:dr(e),e.flags&$i&&e.memoizedState!==null&&K2(fa,e.memoizedState,e.memoizedProps);break;case 5:dr(e);break;case 3:case 4:var s=fa;fa=Xl(e.stateNode.containerInfo),dr(e),fa=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=$i,$i=16777216,dr(e),$i=s):dr(e));break;default:dr(e)}}function ep(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function qi(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];gt=c,ap(c,e)}ep(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tp(e),e=e.sibling}function tp(e){switch(e.tag){case 0:case 11:case 15:qi(e),e.flags&2048&&Ns(9,e,e.return);break;case 3:qi(e);break;case 12:qi(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Ll(e)):qi(e);break;default:qi(e)}}function Ll(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];gt=c,ap(c,e)}ep(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Ns(8,s,s.return),Ll(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,Ll(s));break;default:Ll(s)}e=e.sibling}}function ap(e,s){for(;gt!==null;){var i=gt;switch(i.tag){case 0:case 11:case 15:Ns(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:_i(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,gt=c;else e:for(i=e;gt!==null;){c=gt;var h=c.sibling,p=c.return;if(Yg(c),c===i){gt=null;break e}if(h!==null){h.return=p,gt=h;break e}gt=p}}}var d2={getCacheForType:function(e){var s=Tt(ut),i=s.data.get(e);return i===void 0&&(i=e(),s.data.set(e,i)),i}},h2=typeof WeakMap=="function"?WeakMap:Map,Me=0,$e=null,Se=null,Ee=0,Oe=0,Yt=null,As=!1,hr=!1,Td=!1,os=0,et=0,Cs=0,bn=0,Ed=0,sa=0,fr=0,Ii=null,Vt=null,Ad=!1,Cd=0,Ul=1/0,zl=null,Rs=null,kt=0,Ds=null,mr=null,gr=0,Rd=0,Dd=null,sp=null,Hi=0,Md=null;function Xt(){if((Me&2)!==0&&Ee!==0)return Ee&-Ee;if(U.T!==null){var e=ar;return e!==0?e:Bd()}return li()}function np(){sa===0&&(sa=(Ee&536870912)===0||Ce?lt():536870912);var e=aa.current;return e!==null&&(e.flags|=32),sa}function Kt(e,s,i){(e===$e&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(pr(e,0),Ms(e,Ee,sa,!1)),ps(e,i),((Me&2)===0||e!==$e)&&(e===$e&&((Me&2)===0&&(bn|=i),et===4&&Ms(e,Ee,sa,!1)),Da(e))}function rp(e,s,i){if((Me&6)!==0)throw Error(r(327));var c=!i&&(s&124)===0&&(s&e.expiredLanes)===0||Ze(e,s),h=c?g2(e,s):Ld(e,s,!0),p=c;do{if(h===0){hr&&!c&&Ms(e,s,0,!1);break}else{if(i=e.current.alternate,p&&!f2(i)){h=Ld(e,s,!1),p=!1;continue}if(h===2){if(p=s,e.errorRecoveryDisabledLanes&p)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var k=e;h=Ii;var R=k.current.memoizedState.isDehydrated;if(R&&(pr(k,b).flags|=256),b=Ld(k,b,!1),b!==2){if(Td&&!R){k.errorRecoveryDisabledLanes|=p,bn|=p,h=4;break e}p=Vt,Vt=h,p!==null&&(Vt===null?Vt=p:Vt.push.apply(Vt,p))}h=b}if(p=!1,h!==2)continue}}if(h===1){pr(e,0),Ms(e,s,0,!0);break}e:{switch(c=e,p=h,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ms(c,s,sa,!As);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=Cd+300-qt(),10<h)){if(Ms(c,s,sa,!As),je(c,0,!0)!==0)break e;c.timeoutHandle=Op(ip.bind(null,c,i,Vt,zl,Ad,s,sa,bn,fr,As,p,2,-0,0),h);break e}ip(c,i,Vt,zl,Ad,s,sa,bn,fr,As,p,0,-0,0)}}break}while(!0);Da(e)}function ip(e,s,i,c,h,p,b,k,R,B,Q,ae,$,q){if(e.timeoutHandle=-1,ae=s.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Wi={stylesheets:null,count:0,unsuspend:X2},Jg(s),ae=Q2(),ae!==null)){e.cancelPendingCommit=ae(fp.bind(null,e,s,p,i,c,h,b,k,R,Q,1,$,q)),Ms(e,p,b,!B);return}fp(e,s,p,i,c,h,b,k,R)}function f2(e){for(var s=e;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var h=i[c],p=h.getSnapshot;h=h.value;try{if(!It(p(),h))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ms(e,s,i,c){s&=~Ed,s&=~bn,e.suspendedLanes|=s,e.pingedLanes&=~s,c&&(e.warmLanes|=s),c=e.expirationTimes;for(var h=s;0<h;){var p=31-Nt(h),b=1<<p;c[p]=-1,h&=~b}i!==0&&sn(e,i,s)}function Vl(){return(Me&6)===0?(Gi(0),!1):!0}function Od(){if(Se!==null){if(Oe===0)var e=Se.return;else e=Se,Ja=fn=null,Wu(e),lr=null,Pi=0,e=Se;for(;e!==null;)Vg(e.alternate,e),e=e.return;Se=null}}function pr(e,s){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,R2(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Od(),$e=e,Se=i=Qa(e.current,null),Ee=s,Oe=0,Yt=null,As=!1,hr=Ze(e,s),Td=!1,fr=sa=Ed=bn=Cs=et=0,Vt=Ii=null,Ad=!1,(s&8)!==0&&(s|=s&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=s;0<c;){var h=31-Nt(c),p=1<<h;s|=e[h],c&=~p}return os=s,ol(),i}function op(e,s){ke=null,U.H=Nl,s===Ni||s===pl?(s=_0(),Oe=3):s===w0?(s=_0(),Oe=4):Oe=s===Sg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yt=s,Se===null&&(et=1,Rl(e,Zt(s,e.current)))}function lp(){var e=U.H;return U.H=Nl,e===null?Nl:e}function cp(){var e=U.A;return U.A=d2,e}function Pd(){et=4,As||(Ee&4194048)!==Ee&&aa.current!==null||(hr=!0),(Cs&134217727)===0&&(bn&134217727)===0||$e===null||Ms($e,Ee,sa,!1)}function Ld(e,s,i){var c=Me;Me|=2;var h=lp(),p=cp();($e!==e||Ee!==s)&&(zl=null,pr(e,s)),s=!1;var b=et;e:do try{if(Oe!==0&&Se!==null){var k=Se,R=Yt;switch(Oe){case 8:Od(),b=6;break e;case 3:case 2:case 9:case 6:aa.current===null&&(s=!0);var B=Oe;if(Oe=0,Yt=null,yr(e,k,R,B),i&&hr){b=0;break e}break;default:B=Oe,Oe=0,Yt=null,yr(e,k,R,B)}}m2(),b=et;break}catch(Q){op(e,Q)}while(!0);return s&&e.shellSuspendCounter++,Ja=fn=null,Me=c,U.H=h,U.A=p,Se===null&&($e=null,Ee=0,ol()),b}function m2(){for(;Se!==null;)up(Se)}function g2(e,s){var i=Me;Me|=2;var c=lp(),h=cp();$e!==e||Ee!==s?(zl=null,Ul=qt()+500,pr(e,s)):hr=Ze(e,s);e:do try{if(Oe!==0&&Se!==null){s=Se;var p=Yt;t:switch(Oe){case 1:Oe=0,Yt=null,yr(e,s,p,1);break;case 2:case 9:if(j0(p)){Oe=0,Yt=null,dp(s);break}s=function(){Oe!==2&&Oe!==9||$e!==e||(Oe=7),Da(e)},p.then(s,s);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:j0(p)?(Oe=0,Yt=null,dp(s)):(Oe=0,Yt=null,yr(e,s,p,7));break;case 5:var b=null;switch(Se.tag){case 26:b=Se.memoizedState;case 5:case 27:var k=Se;if(!b||Fp(b)){Oe=0,Yt=null;var R=k.sibling;if(R!==null)Se=R;else{var B=k.return;B!==null?(Se=B,Bl(B)):Se=null}break t}}Oe=0,Yt=null,yr(e,s,p,5);break;case 6:Oe=0,Yt=null,yr(e,s,p,6);break;case 8:Od(),et=6;break e;default:throw Error(r(462))}}p2();break}catch(Q){op(e,Q)}while(!0);return Ja=fn=null,U.H=c,U.A=h,Me=i,Se!==null?0:($e=null,Ee=0,ol(),et)}function p2(){for(;Se!==null&&!$o();)up(Se)}function up(e){var s=Ug(e.alternate,e,os);e.memoizedProps=e.pendingProps,s===null?Bl(e):Se=s}function dp(e){var s=e,i=s.alternate;switch(s.tag){case 15:case 0:s=Rg(i,s,s.pendingProps,s.type,void 0,Ee);break;case 11:s=Rg(i,s,s.pendingProps,s.type.render,s.ref,Ee);break;case 5:Wu(s);default:Vg(i,s),s=Se=h0(s,os),s=Ug(i,s,os)}e.memoizedProps=e.pendingProps,s===null?Bl(e):Se=s}function yr(e,s,i,c){Ja=fn=null,Wu(s),lr=null,Pi=0;var h=s.return;try{if(r2(e,h,s,i,Ee)){et=1,Rl(e,Zt(i,e.current)),Se=null;return}}catch(p){if(h!==null)throw Se=h,p;et=1,Rl(e,Zt(i,e.current)),Se=null;return}s.flags&32768?(Ce||c===1?e=!0:hr||(Ee&536870912)!==0?e=!1:(As=e=!0,(c===2||c===9||c===3||c===6)&&(c=aa.current,c!==null&&c.tag===13&&(c.flags|=16384))),hp(s,e)):Bl(s)}function Bl(e){var s=e;do{if((s.flags&32768)!==0){hp(s,As);return}e=s.return;var i=o2(s.alternate,s,os);if(i!==null){Se=i;return}if(s=s.sibling,s!==null){Se=s;return}Se=s=e}while(s!==null);et===0&&(et=5)}function hp(e,s){do{var i=l2(e.alternate,e);if(i!==null){i.flags&=32767,Se=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(e=e.sibling,e!==null)){Se=e;return}Se=e=i}while(e!==null);et=6,Se=null}function fp(e,s,i,c,h,p,b,k,R){e.cancelPendingCommit=null;do $l();while(kt!==0);if((Me&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Nu,an(e,i,p,b,k,R),e===$e&&(Se=$e=null,Ee=0),mr=s,Ds=e,gr=i,Rd=p,Dd=h,sp=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,v2(Js,function(){return xp(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,h=G.p,G.p=2,b=Me,Me|=4;try{c2(e,s,i)}finally{Me=b,G.p=h,U.T=c}}kt=1,mp(),gp(),pp()}}function mp(){if(kt===1){kt=0;var e=Ds,s=mr,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=U.T,U.T=null;var c=G.p;G.p=2;var h=Me;Me|=4;try{Qg(s,e);var p=Xd,b=a0(e.containerInfo),k=p.focusedElem,R=p.selectionRange;if(b!==k&&k&&k.ownerDocument&&t0(k.ownerDocument.documentElement,k)){if(R!==null&&wu(k)){var B=R.start,Q=R.end;if(Q===void 0&&(Q=B),"selectionStart"in k)k.selectionStart=B,k.selectionEnd=Math.min(Q,k.value.length);else{var ae=k.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var q=$.getSelection(),pe=k.textContent.length,me=Math.min(R.start,pe),ze=R.end===void 0?me:Math.min(R.end,pe);!q.extend&&me>ze&&(b=ze,ze=me,me=b);var L=e0(k,me),M=e0(k,ze);if(L&&M&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var V=ae.createRange();V.setStart(L.node,L.offset),q.removeAllRanges(),me>ze?(q.addRange(V),q.extend(M.node,M.offset)):(V.setEnd(M.node,M.offset),q.addRange(V))}}}}for(ae=[],q=k;q=q.parentNode;)q.nodeType===1&&ae.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ae.length;k++){var ee=ae[k];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Jl=!!Yd,Xd=Yd=null}finally{Me=h,G.p=c,U.T=i}}e.current=s,kt=2}}function gp(){if(kt===2){kt=0;var e=Ds,s=mr,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=U.T,U.T=null;var c=G.p;G.p=2;var h=Me;Me|=4;try{Fg(e,s.alternate,s)}finally{Me=h,G.p=c,U.T=i}}kt=3}}function pp(){if(kt===4||kt===3){kt=0,oi();var e=Ds,s=mr,i=gr,c=sp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kt=5:(kt=0,mr=Ds=null,yp(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Bn(i),s=s.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(en,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=U.T,h=G.p,G.p=2,U.T=null;try{for(var p=e.onRecoverableError,b=0;b<c.length;b++){var k=c[b];p(k.value,{componentStack:k.stack})}}finally{U.T=s,G.p=h}}(gr&3)!==0&&$l(),Da(e),h=e.pendingLanes,(i&4194090)!==0&&(h&42)!==0?e===Md?Hi++:(Hi=0,Md=e):Hi=0,Gi(0)}}function yp(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,_i(s)))}function $l(e){return mp(),gp(),pp(),xp()}function xp(){if(kt!==5)return!1;var e=Ds,s=Rd;Rd=0;var i=Bn(gr),c=U.T,h=G.p;try{G.p=32>i?32:i,U.T=null,i=Dd,Dd=null;var p=Ds,b=gr;if(kt=0,mr=Ds=null,gr=0,(Me&6)!==0)throw Error(r(331));var k=Me;if(Me|=4,tp(p.current),Zg(p,p.current,b,i),Me=k,Gi(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(en,p)}catch{}return!0}finally{G.p=h,U.T=c,yp(e,s)}}function bp(e,s,i){s=Zt(i,s),s=dd(e.stateNode,s,2),e=js(e,s,2),e!==null&&(ps(e,2),Da(e))}function Ve(e,s,i){if(e.tag===3)bp(e,e,i);else for(;s!==null;){if(s.tag===3){bp(s,e,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Rs===null||!Rs.has(c))){e=Zt(i,e),i=kg(2),c=js(s,i,2),c!==null&&(_g(i,c,s,e),ps(c,2),Da(c));break}}s=s.return}}function Ud(e,s,i){var c=e.pingCache;if(c===null){c=e.pingCache=new h2;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(i)||(Td=!0,h.add(i),e=y2.bind(null,e,s,i),s.then(e,e))}function y2(e,s,i){var c=e.pingCache;c!==null&&c.delete(s),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,$e===e&&(Ee&i)===i&&(et===4||et===3&&(Ee&62914560)===Ee&&300>qt()-Cd?(Me&2)===0&&pr(e,0):Ed|=i,fr===Ee&&(fr=0)),Da(e)}function vp(e,s){s===0&&(s=Ha()),e=Zn(e,s),e!==null&&(ps(e,s),Da(e))}function x2(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),vp(e,i)}function b2(e,s){var i=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),vp(e,i)}function v2(e,s){return Zs(e,s)}var ql=null,xr=null,zd=!1,Il=!1,Vd=!1,vn=0;function Da(e){e!==xr&&e.next===null&&(xr===null?ql=xr=e:xr=xr.next=e),Il=!0,zd||(zd=!0,j2())}function Gi(e,s){if(!Vd&&Il){Vd=!0;do for(var i=!1,c=ql;c!==null;){if(e!==0){var h=c.pendingLanes;if(h===0)var p=0;else{var b=c.suspendedLanes,k=c.pingedLanes;p=(1<<31-Nt(42|e)+1)-1,p&=h&~(b&~k),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,_p(c,p))}else p=Ee,p=je(c,c===$e?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Ze(c,p)||(i=!0,_p(c,p));c=c.next}while(i);Vd=!1}}function w2(){wp()}function wp(){Il=zd=!1;var e=0;vn!==0&&(C2()&&(e=vn),vn=0);for(var s=qt(),i=null,c=ql;c!==null;){var h=c.next,p=jp(c,s);p===0?(c.next=null,i===null?ql=h:i.next=h,h===null&&(xr=i)):(i=c,(e!==0||(p&3)!==0)&&(Il=!0)),c=h}Gi(e)}function jp(e,s){for(var i=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var b=31-Nt(p),k=1<<b,R=h[b];R===-1?((k&i)===0||(k&c)!==0)&&(h[b]=He(k,s)):R<=s&&(e.expiredLanes|=k),p&=~k}if(s=$e,i=Ee,i=je(e,e===s?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,i===0||e===s&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ii(c),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ze(e,i)){if(s=i&-i,s===e.callbackPriority)return s;switch(c!==null&&ii(c),Bn(i)){case 2:case 8:i=zn;break;case 32:i=Js;break;case 268435456:i=Io;break;default:i=Js}return c=kp.bind(null,e),i=Zs(i,c),e.callbackPriority=s,e.callbackNode=i,s}return c!==null&&c!==null&&ii(c),e.callbackPriority=2,e.callbackNode=null,2}function kp(e,s){if(kt!==0&&kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if($l()&&e.callbackNode!==i)return null;var c=Ee;return c=je(e,e===$e?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(rp(e,c,s),jp(e,qt()),e.callbackNode!=null&&e.callbackNode===i?kp.bind(null,e):null)}function _p(e,s){if($l())return null;rp(e,s,!0)}function j2(){D2(function(){(Me&6)!==0?Zs(qo,w2):wp()})}function Bd(){return vn===0&&(vn=lt()),vn}function Sp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:el(""+e)}function Np(e,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,e.id&&i.setAttribute("form",e.id),s.parentNode.insertBefore(i,s),e=new FormData(e),i.parentNode.removeChild(i),e}function k2(e,s,i,c,h){if(s==="submit"&&i&&i.stateNode===h){var p=Sp((h[vt]||null).action),b=c.submitter;b&&(s=(s=b[vt]||null)?Sp(s.formAction):b.getAttribute("formAction"),s!==null&&(p=s,b=null));var k=new nl("action","action",null,c,h);e.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vn!==0){var R=b?Np(h,b):new FormData(h);id(i,{pending:!0,data:R,method:h.method,action:p},null,R)}}else typeof p=="function"&&(k.preventDefault(),R=b?Np(h,b):new FormData(h),id(i,{pending:!0,data:R,method:h.method,action:p},p,R))},currentTarget:h}]})}}for(var $d=0;$d<Su.length;$d++){var qd=Su[$d],_2=qd.toLowerCase(),S2=qd[0].toUpperCase()+qd.slice(1);ha(_2,"on"+S2)}ha(r0,"onAnimationEnd"),ha(i0,"onAnimationIteration"),ha(o0,"onAnimationStart"),ha("dblclick","onDoubleClick"),ha("focusin","onFocus"),ha("focusout","onBlur"),ha(qw,"onTransitionRun"),ha(Iw,"onTransitionStart"),ha(Hw,"onTransitionCancel"),ha(l0,"onTransitionEnd"),Ta("onMouseEnter",["mouseout","mouseover"]),Ta("onMouseLeave",["mouseout","mouseover"]),Ta("onPointerEnter",["pointerout","pointerover"]),Ta("onPointerLeave",["pointerout","pointerover"]),Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Na("onBeforeInput",["compositionend","keypress","textInput","paste"]),Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fi));function Tp(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],h=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var b=c.length-1;0<=b;b--){var k=c[b],R=k.instance,B=k.currentTarget;if(k=k.listener,R!==p&&h.isPropagationStopped())break e;p=k,h.currentTarget=B;try{p(h)}catch(Q){Cl(Q)}h.currentTarget=null,p=R}else for(b=0;b<c.length;b++){if(k=c[b],R=k.instance,B=k.currentTarget,k=k.listener,R!==p&&h.isPropagationStopped())break e;p=k,h.currentTarget=B;try{p(h)}catch(Q){Cl(Q)}h.currentTarget=null,p=R}}}}function Ne(e,s){var i=s[$n];i===void 0&&(i=s[$n]=new Set);var c=e+"__bubble";i.has(c)||(Ep(s,e,2,!1),i.add(c))}function Id(e,s,i){var c=0;s&&(c|=4),Ep(i,e,c,s)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function Hd(e){if(!e[Hl]){e[Hl]=!0,_a.forEach(function(i){i!=="selectionchange"&&(N2.has(i)||Id(i,!1,e),Id(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Hl]||(s[Hl]=!0,Id("selectionchange",!1,s))}}function Ep(e,s,i,c){switch(Zp(s)){case 2:var h=J2;break;case 8:h=ej;break;default:h=nh}i=h.bind(null,s,i,e),h=void 0,!hu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(s,i,{capture:!0,passive:h}):e.addEventListener(s,i,!0):h!==void 0?e.addEventListener(s,i,{passive:h}):e.addEventListener(s,i,!1)}function Gd(e,s,i,c,h){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var k=c.stateNode.containerInfo;if(k===h)break;if(b===4)for(b=c.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;k!==null;){if(b=Fa(k),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){c=p=b;continue e}k=k.parentNode}}c=c.return}Pm(function(){var B=p,Q=uu(i),ae=[];e:{var $=c0.get(e);if($!==void 0){var q=nl,pe=e;switch(e){case"keypress":if(al(i)===0)break e;case"keydown":case"keyup":q=vw;break;case"focusin":pe="focus",q=pu;break;case"focusout":pe="blur",q=pu;break;case"beforeblur":case"afterblur":q=pu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=kw;break;case r0:case i0:case o0:q=dw;break;case l0:q=Sw;break;case"scroll":case"scrollend":q=iw;break;case"wheel":q=Tw;break;case"copy":case"cut":case"paste":q=fw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bm;break;case"toggle":case"beforetoggle":q=Aw}var me=(s&4)!==0,ze=!me&&(e==="scroll"||e==="scrollend"),L=me?$!==null?$+"Capture":null:$;me=[];for(var M=B,V;M!==null;){var ee=M;if(V=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||V===null||L===null||(ee=di(M,L),ee!=null&&me.push(Yi(M,ee,V))),ze)break;M=M.return}0<me.length&&($=new q($,pe,null,i,Q),ae.push({event:$,listeners:me}))}}if((s&7)===0){e:{if($=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",$&&i!==cu&&(pe=i.relatedTarget||i.fromElement)&&(Fa(pe)||pe[Ga]))break e;if((q||$)&&($=Q.window===Q?Q:($=Q.ownerDocument)?$.defaultView||$.parentWindow:window,q?(pe=i.relatedTarget||i.toElement,q=B,pe=pe?Fa(pe):null,pe!==null&&(ze=u(pe),me=pe.tag,pe!==ze||me!==5&&me!==27&&me!==6)&&(pe=null)):(q=null,pe=B),q!==pe)){if(me=zm,ee="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(me=Bm,ee="onPointerLeave",L="onPointerEnter",M="pointer"),ze=q==null?$:De(q),V=pe==null?$:De(pe),$=new me(ee,M+"leave",q,i,Q),$.target=ze,$.relatedTarget=V,ee=null,Fa(Q)===B&&(me=new me(L,M+"enter",pe,i,Q),me.target=V,me.relatedTarget=ze,ee=me),ze=ee,q&&pe)t:{for(me=q,L=pe,M=0,V=me;V;V=br(V))M++;for(V=0,ee=L;ee;ee=br(ee))V++;for(;0<M-V;)me=br(me),M--;for(;0<V-M;)L=br(L),V--;for(;M--;){if(me===L||L!==null&&me===L.alternate)break t;me=br(me),L=br(L)}me=null}else me=null;q!==null&&Ap(ae,$,q,me,!1),pe!==null&&ze!==null&&Ap(ae,ze,pe,me,!0)}}e:{if($=B?De(B):window,q=$.nodeName&&$.nodeName.toLowerCase(),q==="select"||q==="input"&&$.type==="file")var ce=Xm;else if(Fm($))if(Km)ce=Vw;else{ce=Uw;var _e=Lw}else q=$.nodeName,!q||q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?B&&lu(B.elementType)&&(ce=Xm):ce=zw;if(ce&&(ce=ce(e,B))){Ym(ae,ce,i,Q);break e}_e&&_e(e,$,B),e==="focusout"&&B&&$.type==="number"&&B.memoizedProps.value!=null&&ou($,"number",$.value)}switch(_e=B?De(B):window,e){case"focusin":(Fm(_e)||_e.contentEditable==="true")&&(Kn=_e,ju=B,bi=null);break;case"focusout":bi=ju=Kn=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,s0(ae,i,Q);break;case"selectionchange":if($w)break;case"keydown":case"keyup":s0(ae,i,Q)}var fe;if(xu)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Xn?Hm(e,i)&&(ge="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ge="onCompositionStart");ge&&($m&&i.locale!=="ko"&&(Xn||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Xn&&(fe=Lm()):(xs=Q,fu="value"in xs?xs.value:xs.textContent,Xn=!0)),_e=Gl(B,ge),0<_e.length&&(ge=new Vm(ge,e,null,i,Q),ae.push({event:ge,listeners:_e}),fe?ge.data=fe:(fe=Gm(i),fe!==null&&(ge.data=fe)))),(fe=Rw?Dw(e,i):Mw(e,i))&&(ge=Gl(B,"onBeforeInput"),0<ge.length&&(_e=new Vm("onBeforeInput","beforeinput",null,i,Q),ae.push({event:_e,listeners:ge}),_e.data=fe)),k2(ae,e,B,i,Q)}Tp(ae,s)})}function Yi(e,s,i){return{instance:e,listener:s,currentTarget:i}}function Gl(e,s){for(var i=s+"Capture",c=[];e!==null;){var h=e,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=di(e,i),h!=null&&c.unshift(Yi(e,h,p)),h=di(e,s),h!=null&&c.push(Yi(e,h,p))),e.tag===3)return c;e=e.return}return[]}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ap(e,s,i,c,h){for(var p=s._reactName,b=[];i!==null&&i!==c;){var k=i,R=k.alternate,B=k.stateNode;if(k=k.tag,R!==null&&R===c)break;k!==5&&k!==26&&k!==27||B===null||(R=B,h?(B=di(i,p),B!=null&&b.unshift(Yi(i,B,R))):h||(B=di(i,p),B!=null&&b.push(Yi(i,B,R)))),i=i.return}b.length!==0&&e.push({event:s,listeners:b})}var T2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function Cp(e){return(typeof e=="string"?e:""+e).replace(T2,`
`).replace(E2,"")}function Rp(e,s){return s=Cp(s),Cp(e)===s}function Fl(){}function Ue(e,s,i,c,h,p){switch(i){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Gn(e,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Gn(e,""+c);break;case"className":Wo(e,"class",c);break;case"tabIndex":Wo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Wo(e,i,c);break;case"style":Mm(e,c,p);break;case"data":if(s!=="object"){Wo(e,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||i!=="href")){e.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=el(""+c),e.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(s!=="input"&&Ue(e,s,"name",h.name,h,null),Ue(e,s,"formEncType",h.formEncType,h,null),Ue(e,s,"formMethod",h.formMethod,h,null),Ue(e,s,"formTarget",h.formTarget,h,null)):(Ue(e,s,"encType",h.encType,h,null),Ue(e,s,"method",h.method,h,null),Ue(e,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=el(""+c),e.setAttribute(i,c);break;case"onClick":c!=null&&(e.onclick=Fl);break;case"onScroll":c!=null&&Ne("scroll",e);break;case"onScrollEnd":c!=null&&Ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(i=c.__html,i!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}i=el(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""+c):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":c===!0?e.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,c):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(i,c):e.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(i):e.setAttribute(i,c);break;case"popover":Ne("beforetoggle",e),Ne("toggle",e),Qo(e,"popover",c);break;case"xlinkActuate":Xa(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xa(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xa(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xa(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xa(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xa(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xa(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Qo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=nw.get(i)||i,Qo(e,i,c))}}function Fd(e,s,i,c,h,p){switch(i){case"style":Mm(e,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(i=c.__html,i!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof c=="string"?Gn(e,c):(typeof c=="number"||typeof c=="bigint")&&Gn(e,""+c);break;case"onScroll":c!=null&&Ne("scroll",e);break;case"onScrollEnd":c!=null&&Ne("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),s=i.slice(2,h?i.length-7:void 0),p=e[vt]||null,p=p!=null?p[i]:null,typeof p=="function"&&e.removeEventListener(s,p,h),typeof c=="function")){typeof p!="function"&&p!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(s,c,h);break e}i in e?e[i]=c:c===!0?e.setAttribute(i,""):Qo(e,i,c)}}}function _t(e,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",e),Ne("load",e);var c=!1,h=!1,p;for(p in i)if(i.hasOwnProperty(p)){var b=i[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ue(e,s,p,b,i,null)}}h&&Ue(e,s,"srcSet",i.srcSet,i,null),c&&Ue(e,s,"src",i.src,i,null);return;case"input":Ne("invalid",e);var k=p=b=h=null,R=null,B=null;for(c in i)if(i.hasOwnProperty(c)){var Q=i[c];if(Q!=null)switch(c){case"name":h=Q;break;case"type":b=Q;break;case"checked":R=Q;break;case"defaultChecked":B=Q;break;case"value":p=Q;break;case"defaultValue":k=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Ue(e,s,c,Q,i,null)}}Am(e,p,k,R,B,b,h,!1),Zo(e);return;case"select":Ne("invalid",e),c=b=p=null;for(h in i)if(i.hasOwnProperty(h)&&(k=i[h],k!=null))switch(h){case"value":p=k;break;case"defaultValue":b=k;break;case"multiple":c=k;default:Ue(e,s,h,k,i,null)}s=p,i=b,e.multiple=!!c,s!=null?Hn(e,!!c,s,!1):i!=null&&Hn(e,!!c,i,!0);return;case"textarea":Ne("invalid",e),p=h=c=null;for(b in i)if(i.hasOwnProperty(b)&&(k=i[b],k!=null))switch(b){case"value":c=k;break;case"defaultValue":h=k;break;case"children":p=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Ue(e,s,b,k,i,null)}Rm(e,c,h,p),Zo(e);return;case"option":for(R in i)if(i.hasOwnProperty(R)&&(c=i[R],c!=null))switch(R){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ue(e,s,R,c,i,null)}return;case"dialog":Ne("beforetoggle",e),Ne("toggle",e),Ne("cancel",e),Ne("close",e);break;case"iframe":case"object":Ne("load",e);break;case"video":case"audio":for(c=0;c<Fi.length;c++)Ne(Fi[c],e);break;case"image":Ne("error",e),Ne("load",e);break;case"details":Ne("toggle",e);break;case"embed":case"source":case"link":Ne("error",e),Ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(c=i[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ue(e,s,B,c,i,null)}return;default:if(lu(s)){for(Q in i)i.hasOwnProperty(Q)&&(c=i[Q],c!==void 0&&Fd(e,s,Q,c,i,void 0));return}}for(k in i)i.hasOwnProperty(k)&&(c=i[k],c!=null&&Ue(e,s,k,c,i,null))}function A2(e,s,i,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,b=null,k=null,R=null,B=null,Q=null;for(q in i){var ae=i[q];if(i.hasOwnProperty(q)&&ae!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=ae;default:c.hasOwnProperty(q)||Ue(e,s,q,null,c,ae)}}for(var $ in c){var q=c[$];if(ae=i[$],c.hasOwnProperty($)&&(q!=null||ae!=null))switch($){case"type":p=q;break;case"name":h=q;break;case"checked":B=q;break;case"defaultChecked":Q=q;break;case"value":b=q;break;case"defaultValue":k=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:q!==ae&&Ue(e,s,$,q,c,ae)}}iu(e,b,k,R,B,Q,p,h);return;case"select":q=b=k=$=null;for(p in i)if(R=i[p],i.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":q=R;default:c.hasOwnProperty(p)||Ue(e,s,p,null,c,R)}for(h in c)if(p=c[h],R=i[h],c.hasOwnProperty(h)&&(p!=null||R!=null))switch(h){case"value":$=p;break;case"defaultValue":k=p;break;case"multiple":b=p;default:p!==R&&Ue(e,s,h,p,c,R)}s=k,i=b,c=q,$!=null?Hn(e,!!i,$,!1):!!c!=!!i&&(s!=null?Hn(e,!!i,s,!0):Hn(e,!!i,i?[]:"",!1));return;case"textarea":q=$=null;for(k in i)if(h=i[k],i.hasOwnProperty(k)&&h!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ue(e,s,k,null,c,h)}for(b in c)if(h=c[b],p=i[b],c.hasOwnProperty(b)&&(h!=null||p!=null))switch(b){case"value":$=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==p&&Ue(e,s,b,h,c,p)}Cm(e,$,q);return;case"option":for(var pe in i)if($=i[pe],i.hasOwnProperty(pe)&&$!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:Ue(e,s,pe,null,c,$)}for(R in c)if($=c[R],q=i[R],c.hasOwnProperty(R)&&$!==q&&($!=null||q!=null))switch(R){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Ue(e,s,R,$,c,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in i)$=i[me],i.hasOwnProperty(me)&&$!=null&&!c.hasOwnProperty(me)&&Ue(e,s,me,null,c,$);for(B in c)if($=c[B],q=i[B],c.hasOwnProperty(B)&&$!==q&&($!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Ue(e,s,B,$,c,q)}return;default:if(lu(s)){for(var ze in i)$=i[ze],i.hasOwnProperty(ze)&&$!==void 0&&!c.hasOwnProperty(ze)&&Fd(e,s,ze,void 0,c,$);for(Q in c)$=c[Q],q=i[Q],!c.hasOwnProperty(Q)||$===q||$===void 0&&q===void 0||Fd(e,s,Q,$,c,q);return}}for(var L in i)$=i[L],i.hasOwnProperty(L)&&$!=null&&!c.hasOwnProperty(L)&&Ue(e,s,L,null,c,$);for(ae in c)$=c[ae],q=i[ae],!c.hasOwnProperty(ae)||$===q||$==null&&q==null||Ue(e,s,ae,$,c,q)}var Yd=null,Xd=null;function Yl(e){return e.nodeType===9?e:e.ownerDocument}function Dp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mp(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Kd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qd=null;function C2(){var e=window.event;return e&&e.type==="popstate"?e===Qd?!1:(Qd=e,!0):(Qd=null,!1)}var Op=typeof setTimeout=="function"?setTimeout:void 0,R2=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,D2=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(e){return Pp.resolve(null).then(e).catch(M2)}:Op;function M2(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function Lp(e,s){var i=s,c=0,h=0;do{var p=i.nextSibling;if(e.removeChild(i),p&&p.nodeType===8)if(i=p.data,i==="/$"){if(0<c&&8>c){i=c;var b=e.ownerDocument;if(i&1&&Xi(b.documentElement),i&2&&Xi(b.body),i&4)for(i=b.head,Xi(i),b=i.firstChild;b;){var k=b.nextSibling,R=b.nodeName;b[ys]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||i.removeChild(b),b=k}}if(h===0){e.removeChild(p),ao(s);return}h--}else i==="$"||i==="$?"||i==="$!"?h++:c=i.charCodeAt(0)-48;else c=0;i=p}while(i);ao(s)}function Wd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Wd(i),qn(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function O2(e,s,i,c){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[ys])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=ma(e.nextSibling),e===null)break}return null}function P2(e,s,i){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ma(e.nextSibling),e===null))return null;return e}function Zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function L2(e,s){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")s();else{var c=function(){s(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ma(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var Jd=null;function Up(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return e;s--}else i==="/$"&&s++}e=e.previousSibling}return null}function zp(e,s,i){switch(s=Yl(i),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Xi(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);qn(e)}var na=new Map,Vp=new Set;function Xl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=G.d;G.d={f:U2,r:z2,D:V2,C:B2,L:$2,m:q2,X:H2,S:I2,M:G2};function U2(){var e=ls.f(),s=Vl();return e||s}function z2(e){var s=Ya(e);s!==null&&s.tag===5&&s.type==="form"?rg(s):ls.r(e)}var vr=typeof document>"u"?null:document;function Bp(e,s,i){var c=vr;if(c&&typeof s=="string"&&s){var h=Wt(s);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Vp.has(h)||(Vp.add(h),e={rel:e,crossOrigin:i,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),_t(s,"link",e),Xe(s),c.head.appendChild(s)))}}function V2(e){ls.D(e),Bp("dns-prefetch",e,null)}function B2(e,s){ls.C(e,s),Bp("preconnect",e,s)}function $2(e,s,i){ls.L(e,s,i);var c=vr;if(c&&e&&s){var h='link[rel="preload"][as="'+Wt(s)+'"]';s==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+Wt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+Wt(i.imageSizes)+'"]')):h+='[href="'+Wt(e)+'"]';var p=h;switch(s){case"style":p=wr(e);break;case"script":p=jr(e)}na.has(p)||(e=y({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:e,as:s},i),na.set(p,e),c.querySelector(h)!==null||s==="style"&&c.querySelector(Ki(p))||s==="script"&&c.querySelector(Qi(p))||(s=c.createElement("link"),_t(s,"link",e),Xe(s),c.head.appendChild(s)))}}function q2(e,s){ls.m(e,s);var i=vr;if(i&&e){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Wt(c)+'"][href="'+Wt(e)+'"]',p=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=jr(e)}if(!na.has(p)&&(e=y({rel:"modulepreload",href:e},s),na.set(p,e),i.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Qi(p)))return}c=i.createElement("link"),_t(c,"link",e),Xe(c),i.head.appendChild(c)}}}function I2(e,s,i){ls.S(e,s,i);var c=vr;if(c&&e){var h=wt(c).hoistableStyles,p=wr(e);s=s||"default";var b=h.get(p);if(!b){var k={loading:0,preload:null};if(b=c.querySelector(Ki(p)))k.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":s},i),(i=na.get(p))&&eh(e,i);var R=b=c.createElement("link");Xe(R),_t(R,"link",e),R._p=new Promise(function(B,Q){R.onload=B,R.onerror=Q}),R.addEventListener("load",function(){k.loading|=1}),R.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Kl(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:k},h.set(p,b)}}}function H2(e,s){ls.X(e,s);var i=vr;if(i&&e){var c=wt(i).hoistableScripts,h=jr(e),p=c.get(h);p||(p=i.querySelector(Qi(h)),p||(e=y({src:e,async:!0},s),(s=na.get(h))&&th(e,s),p=i.createElement("script"),Xe(p),_t(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function G2(e,s){ls.M(e,s);var i=vr;if(i&&e){var c=wt(i).hoistableScripts,h=jr(e),p=c.get(h);p||(p=i.querySelector(Qi(h)),p||(e=y({src:e,async:!0,type:"module"},s),(s=na.get(h))&&th(e,s),p=i.createElement("script"),Xe(p),_t(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function $p(e,s,i,c){var h=(h=he.current)?Xl(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=wr(i.href),i=wt(h).hoistableStyles,c=i.get(s),c||(c={type:"style",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=wr(i.href);var p=wt(h).hoistableStyles,b=p.get(e);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,b),(p=h.querySelector(Ki(e)))&&!p._p&&(b.instance=p,b.state.loading=5),na.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},na.set(e,i),p||F2(h,e,i,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=jr(i),i=wt(h).hoistableScripts,c=i.get(s),c||(c={type:"script",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function wr(e){return'href="'+Wt(e)+'"'}function Ki(e){return'link[rel="stylesheet"]['+e+"]"}function qp(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function F2(e,s,i,c){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=e.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),_t(s,"link",i),Xe(s),e.head.appendChild(s))}function jr(e){return'[src="'+Wt(e)+'"]'}function Qi(e){return"script[async]"+e}function Ip(e,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var c=e.querySelector('style[data-href~="'+Wt(i.href)+'"]');if(c)return s.instance=c,Xe(c),c;var h=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Xe(c),_t(c,"style",h),Kl(c,i.precedence,e),s.instance=c;case"stylesheet":h=wr(i.href);var p=e.querySelector(Ki(h));if(p)return s.state.loading|=4,s.instance=p,Xe(p),p;c=qp(i),(h=na.get(h))&&eh(c,h),p=(e.ownerDocument||e).createElement("link"),Xe(p);var b=p;return b._p=new Promise(function(k,R){b.onload=k,b.onerror=R}),_t(p,"link",c),s.state.loading|=4,Kl(p,i.precedence,e),s.instance=p;case"script":return p=jr(i.src),(h=e.querySelector(Qi(p)))?(s.instance=h,Xe(h),h):(c=i,(h=na.get(p))&&(c=y({},i),th(c,h)),e=e.ownerDocument||e,h=e.createElement("script"),Xe(h),_t(h,"link",c),e.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Kl(c,i.precedence,e));return s.instance}function Kl(e,s,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,p=h,b=0;b<c.length;b++){var k=c[b];if(k.dataset.precedence===s)p=k;else if(p!==h)break}p?p.parentNode.insertBefore(e,p.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(e,s.firstChild))}function eh(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function th(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Ql=null;function Hp(e,s,i){if(Ql===null){var c=new Map,h=Ql=new Map;h.set(i,c)}else h=Ql,c=h.get(i),c||(c=new Map,h.set(i,c));if(c.has(e))return c;for(c.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var p=i[h];if(!(p[ys]||p[ct]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(s)||"";b=e+b;var k=c.get(b);k?k.push(p):c.set(b,[p])}}return c}function Gp(e,s,i){e=e.ownerDocument||e,e.head.insertBefore(i,s==="title"?e.querySelector("head > title"):null)}function Y2(e,s,i){if(i===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Fp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Wi=null;function X2(){}function K2(e,s,i){if(Wi===null)throw Error(r(475));var c=Wi;if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=wr(i.href),p=e.querySelector(Ki(h));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Wl.bind(c),e.then(c,c)),s.state.loading|=4,s.instance=p,Xe(p);return}p=e.ownerDocument||e,i=qp(i),(h=na.get(h))&&eh(i,h),p=p.createElement("link"),Xe(p);var b=p;b._p=new Promise(function(k,R){b.onload=k,b.onerror=R}),_t(p,"link",i),s.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Wl.bind(c),e.addEventListener("load",s),e.addEventListener("error",s))}}function Q2(){if(Wi===null)throw Error(r(475));var e=Wi;return e.stylesheets&&e.count===0&&ah(e,e.stylesheets),0<e.count?function(s){var i=setTimeout(function(){if(e.stylesheets&&ah(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Wl(){if(this.count--,this.count===0){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zl=null;function ah(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zl=new Map,s.forEach(W2,e),Zl=null,Wl.call(e))}function W2(e,s){if(!(s.state.loading&4)){var i=Zl.get(e);if(i)var c=i.get(null);else{i=new Map,Zl.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var b=h[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),c=b)}c&&i.set(null,c)}h=s.instance,b=h.getAttribute("data-precedence"),p=i.get(b)||c,p===c&&i.set(null,h),i.set(b,h),this.count++,c=Wl.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),p?p.parentNode.insertBefore(h,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),s.state.loading|=4}}var Zi={$$typeof:N,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Z2(e,s,i,c,h,p,b,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Yp(e,s,i,c,h,p,b,k,R,B,Q,ae){return e=new Z2(e,s,i,b,k,R,B,ae),s=1,p===!0&&(s|=24),p=Ht(3,null,null,s),e.current=p,p.stateNode=e,s=Uu(),s.refCount++,e.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:i,cache:s},$u(p),e}function Xp(e){return e?(e=Jn,e):Jn}function Kp(e,s,i,c,h,p){h=Xp(h),c.context===null?c.context=h:c.pendingContext=h,c=ws(s),c.payload={element:i},p=p===void 0?null:p,p!==null&&(c.callback=p),i=js(e,c,s),i!==null&&(Kt(i,e,s),Ei(i,e,s))}function Qp(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function sh(e,s){Qp(e,s),(e=e.alternate)&&Qp(e,s)}function Wp(e){if(e.tag===13){var s=Zn(e,67108864);s!==null&&Kt(s,e,67108864),sh(e,67108864)}}var Jl=!0;function J2(e,s,i,c){var h=U.T;U.T=null;var p=G.p;try{G.p=2,nh(e,s,i,c)}finally{G.p=p,U.T=h}}function ej(e,s,i,c){var h=U.T;U.T=null;var p=G.p;try{G.p=8,nh(e,s,i,c)}finally{G.p=p,U.T=h}}function nh(e,s,i,c){if(Jl){var h=rh(c);if(h===null)Gd(e,s,c,ec,i),Jp(e,c);else if(aj(h,e,s,i,c))c.stopPropagation();else if(Jp(e,c),s&4&&-1<tj.indexOf(e)){for(;h!==null;){var p=Ya(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=be(p.pendingLanes);if(b!==0){var k=p;for(k.pendingLanes|=2,k.entangledLanes|=2;b;){var R=1<<31-Nt(b);k.entanglements[1]|=R,b&=~R}Da(p),(Me&6)===0&&(Ul=qt()+500,Gi(0))}}break;case 13:k=Zn(p,2),k!==null&&Kt(k,p,2),Vl(),sh(p,2)}if(p=rh(c),p===null&&Gd(e,s,c,ec,i),p===h)break;h=p}h!==null&&c.stopPropagation()}else Gd(e,s,c,null,i)}}function rh(e){return e=uu(e),ih(e)}var ec=null;function ih(e){if(ec=null,e=Fa(e),e!==null){var s=u(e);if(s===null)e=null;else{var i=s.tag;if(i===13){if(e=d(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return ec=e,null}function Zp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zc()){case qo:return 2;case zn:return 8;case Js:case Jc:return 32;case Io:return 268435456;default:return 32}default:return 32}}var oh=!1,Ps=null,Ls=null,Us=null,Ji=new Map,eo=new Map,zs=[],tj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(e,s){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Ji.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(s.pointerId)}}function to(e,s,i,c,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},s!==null&&(s=Ya(s),s!==null&&Wp(s)),e):(e.eventSystemFlags|=c,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function aj(e,s,i,c,h){switch(s){case"focusin":return Ps=to(Ps,e,s,i,c,h),!0;case"dragenter":return Ls=to(Ls,e,s,i,c,h),!0;case"mouseover":return Us=to(Us,e,s,i,c,h),!0;case"pointerover":var p=h.pointerId;return Ji.set(p,to(Ji.get(p)||null,e,s,i,c,h)),!0;case"gotpointercapture":return p=h.pointerId,eo.set(p,to(eo.get(p)||null,e,s,i,c,h)),!0}return!1}function ey(e){var s=Fa(e.target);if(s!==null){var i=u(s);if(i!==null){if(s=i.tag,s===13){if(s=d(i),s!==null){e.blockedOn=s,Yo(e.priority,function(){if(i.tag===13){var c=Xt();c=Vn(c);var h=Zn(i,c);h!==null&&Kt(h,i,c),sh(i,c)}});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=rh(e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);cu=c,i.target.dispatchEvent(c),cu=null}else return s=Ya(i),s!==null&&Wp(s),e.blockedOn=i,!1;s.shift()}return!0}function ty(e,s,i){tc(e)&&i.delete(s)}function sj(){oh=!1,Ps!==null&&tc(Ps)&&(Ps=null),Ls!==null&&tc(Ls)&&(Ls=null),Us!==null&&tc(Us)&&(Us=null),Ji.forEach(ty),eo.forEach(ty)}function ac(e,s){e.blockedOn===s&&(e.blockedOn=null,oh||(oh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sj)))}var sc=null;function ay(e){sc!==e&&(sc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){sc===e&&(sc=null);for(var s=0;s<e.length;s+=3){var i=e[s],c=e[s+1],h=e[s+2];if(typeof c!="function"){if(ih(c||i)===null)continue;break}var p=Ya(i);p!==null&&(e.splice(s,3),s-=3,id(p,{pending:!0,data:h,method:i.method,action:c},c,h))}}))}function ao(e){function s(R){return ac(R,e)}Ps!==null&&ac(Ps,e),Ls!==null&&ac(Ls,e),Us!==null&&ac(Us,e),Ji.forEach(s),eo.forEach(s);for(var i=0;i<zs.length;i++){var c=zs[i];c.blockedOn===e&&(c.blockedOn=null)}for(;0<zs.length&&(i=zs[0],i.blockedOn===null);)ey(i),i.blockedOn===null&&zs.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var h=i[c],p=i[c+1],b=h[vt]||null;if(typeof p=="function")b||ay(i);else if(b){var k=null;if(p&&p.hasAttribute("formAction")){if(h=p,b=p[vt]||null)k=b.formAction;else if(ih(h)!==null)continue}else k=b.action;typeof k=="function"?i[c+1]=k:(i.splice(c,3),c-=3),ay(i)}}}function lh(e){this._internalRoot=e}nc.prototype.render=lh.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var i=s.current,c=Xt();Kp(i,c,e,s,null,null)},nc.prototype.unmount=lh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Kp(e.current,2,null,e,null,null),Vl(),s[Ga]=null}};function nc(e){this._internalRoot=e}nc.prototype.unstable_scheduleHydration=function(e){if(e){var s=li();e={blockedOn:null,target:e,priority:s};for(var i=0;i<zs.length&&s!==0&&s<zs[i].priority;i++);zs.splice(i,0,e),i===0&&ey(e)}};var sy=t.version;if(sy!=="19.1.0")throw Error(r(527,sy,"19.1.0"));G.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var nj={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{en=rc.inject(nj),Rt=rc}catch{}}return no.createRoot=function(e,s){if(!o(e))throw Error(r(299));var i=!1,c="",h=bg,p=vg,b=wg,k=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=Yp(e,1,!1,null,null,i,c,h,p,b,k,null),e[Ga]=s.current,Hd(e),new lh(s)},no.hydrateRoot=function(e,s,i){if(!o(e))throw Error(r(299));var c=!1,h="",p=bg,b=vg,k=wg,R=null,B=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(k=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(R=i.unstable_transitionCallbacks),i.formState!==void 0&&(B=i.formState)),s=Yp(e,1,!0,s,i??null,c,h,p,b,k,R,B),s.context=Xp(null),i=s.current,c=Xt(),c=Vn(c),h=ws(c),h.callback=null,js(i,h,c),i=c,s.current.lanes=i,ps(s,i),Da(s),e[Ga]=s.current,Hd(e),new nc(s)},no.version="19.1.0",no}var fy;function pj(){if(fy)return dh.exports;fy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),dh.exports=gj(),dh.exports}var yj=pj();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var my="popstate";function xj(a={}){function t(r,o){let{pathname:u,search:d,hash:f}=r.location;return $h("",{pathname:u,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:bo(o)}return vj(t,n,null,a)}function Ye(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function xa(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bj(){return Math.random().toString(36).substring(2,10)}function gy(a,t){return{usr:a.state,key:a.key,idx:t}}function $h(a,t,n=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Wr(t):t,state:n,key:t&&t.key||r||bj()}}function bo({pathname:a="/",search:t="",hash:n=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function Wr(a){let t={};if(a){let n=a.indexOf("#");n>=0&&(t.hash=a.substring(n),a=a.substring(0,n));let r=a.indexOf("?");r>=0&&(t.search=a.substring(r),a=a.substring(0,r)),a&&(t.pathname=a)}return t}function vj(a,t,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,d=o.history,f="POP",m=null,g=y();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function y(){return(d.state||{idx:null}).idx}function x(){f="POP";let T=y(),A=T==null?null:T-g;g=T,m&&m({action:f,location:E.location,delta:A})}function v(T,A){f="PUSH";let C=$h(E.location,T,A);g=y()+1;let N=gy(C,g),P=E.createHref(C);try{d.pushState(N,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(P)}u&&m&&m({action:f,location:E.location,delta:1})}function j(T,A){f="REPLACE";let C=$h(E.location,T,A);g=y();let N=gy(C,g),P=E.createHref(C);d.replaceState(N,"",P),u&&m&&m({action:f,location:E.location,delta:0})}function S(T){return wj(T)}let E={get action(){return f},get location(){return a(o,d)},listen(T){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(my,x),m=T,()=>{o.removeEventListener(my,x),m=null}},createHref(T){return t(o,T)},createURL:S,encodeLocation(T){let A=S(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:j,go(T){return d.go(T)}};return E}function wj(a,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(n,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:bo(a);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function xb(a,t,n="/"){return jj(a,t,n,!1)}function jj(a,t,n,r){let o=typeof t=="string"?Wr(t):t,u=hs(o.pathname||"/",n);if(u==null)return null;let d=bb(a);kj(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let g=Oj(u);f=Dj(d[m],g,r)}return f}function bb(a,t=[],n=[],r="",o=!1){let u=(d,f,m=o,g)=>{let y={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&m)return;Ye(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let x=ds([r,y.relativePath]),v=n.concat(y);d.children&&d.children.length>0&&(Ye(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),bb(d.children,t,v,x,m)),!(d.path==null&&!d.index)&&t.push({path:x,score:Cj(x,d.index),routesMeta:v})};return a.forEach((d,f)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))u(d,f);else for(let g of vb(d.path))u(d,f,!0,g)}),t}function vb(a){let t=a.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let d=vb(r.join("/")),f=[];return f.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&f.push(...d),f.map(m=>a.startsWith("/")&&m===""?"/":m)}function kj(a){a.sort((t,n)=>t.score!==n.score?n.score-t.score:Rj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _j=/^:[\w-]+$/,Sj=3,Nj=2,Tj=1,Ej=10,Aj=-2,py=a=>a==="*";function Cj(a,t){let n=a.split("/"),r=n.length;return n.some(py)&&(r+=Aj),t&&(r+=Nj),n.filter(o=>!py(o)).reduce((o,u)=>o+(_j.test(u)?Sj:u===""?Tj:Ej),r)}function Rj(a,t){return a.length===t.length&&a.slice(0,-1).every((r,o)=>r===t[o])?a[a.length-1]-t[t.length-1]:0}function Dj(a,t,n=!1){let{routesMeta:r}=a,o={},u="/",d=[];for(let f=0;f<r.length;++f){let m=r[f],g=f===r.length-1,y=u==="/"?t:t.slice(u.length)||"/",x=Tc({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),v=m.route;if(!x&&g&&n&&!r[r.length-1].route.index&&(x=Tc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:ds([u,x.pathname]),pathnameBase:zj(ds([u,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(u=ds([u,x.pathnameBase]))}return d}function Tc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,r]=Mj(a.path,a.caseSensitive,a.end),o=t.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:x},v)=>{if(y==="*"){let S=f[v]||"";d=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const j=f[v];return x&&!j?g[y]=void 0:g[y]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:a}}function Mj(a,t=!1,n=!0){xa(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Oj(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xa(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function hs(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=a.charAt(n);return r&&r!=="/"?null:a.slice(n)||"/"}function Pj(a,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof a=="string"?Wr(a):a;return{pathname:n?n.startsWith("/")?n:Lj(n,t):t,search:Vj(r),hash:Bj(o)}}function Lj(a,t){let n=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gh(a,t,n,r){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uj(a){return a.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Af(a){let t=Uj(a);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Cf(a,t,n,r=!1){let o;typeof a=="string"?o=Wr(a):(o={...a},Ye(!o.pathname||!o.pathname.includes("?"),gh("?","pathname","search",o)),Ye(!o.pathname||!o.pathname.includes("#"),gh("#","pathname","hash",o)),Ye(!o.search||!o.search.includes("#"),gh("#","search","hash",o)));let u=a===""||o.pathname==="",d=u?"/":o.pathname,f;if(d==null)f=n;else{let x=t.length-1;if(!r&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),x-=1;o.pathname=v.join("/")}f=x>=0?t[x]:"/"}let m=Pj(o,f),g=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var ds=a=>a.join("/").replace(/\/\/+/g,"/"),zj=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Vj=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Bj=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function $j(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var wb=["POST","PUT","PATCH","DELETE"];new Set(wb);var qj=["GET",...wb];new Set(qj);var Zr=w.createContext(null);Zr.displayName="DataRouter";var Bc=w.createContext(null);Bc.displayName="DataRouterState";w.createContext(!1);var jb=w.createContext({isTransitioning:!1});jb.displayName="ViewTransition";var Ij=w.createContext(new Map);Ij.displayName="Fetchers";var Hj=w.createContext(null);Hj.displayName="Await";var va=w.createContext(null);va.displayName="Navigation";var Ro=w.createContext(null);Ro.displayName="Location";var ca=w.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var Rf=w.createContext(null);Rf.displayName="RouteError";function Gj(a,{relative:t}={}){Ye(Jr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(va),{hash:o,pathname:u,search:d}=Do(a,{relative:t}),f=u;return n!=="/"&&(f=u==="/"?n:ds([n,u])),r.createHref({pathname:f,search:d,hash:o})}function Jr(){return w.useContext(Ro)!=null}function wa(){return Ye(Jr(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ro).location}var kb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _b(a){w.useContext(va).static||w.useLayoutEffect(a)}function $t(){let{isDataRoute:a}=w.useContext(ca);return a?ik():Fj()}function Fj(){Ye(Jr(),"useNavigate() may be used only in the context of a <Router> component.");let a=w.useContext(Zr),{basename:t,navigator:n}=w.useContext(va),{matches:r}=w.useContext(ca),{pathname:o}=wa(),u=JSON.stringify(Af(r)),d=w.useRef(!1);return _b(()=>{d.current=!0}),w.useCallback((m,g={})=>{if(xa(d.current,kb),!d.current)return;if(typeof m=="number"){n.go(m);return}let y=Cf(m,JSON.parse(u),o,g.relative==="path");a==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ds([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,u,o,a])}var Yj=w.createContext(null);function Xj(a){let t=w.useContext(ca).outlet;return t&&w.createElement(Yj.Provider,{value:a},t)}function $c(){let{matches:a}=w.useContext(ca),t=a[a.length-1];return t?t.params:{}}function Do(a,{relative:t}={}){let{matches:n}=w.useContext(ca),{pathname:r}=wa(),o=JSON.stringify(Af(n));return w.useMemo(()=>Cf(a,JSON.parse(o),r,t==="path"),[a,o,r,t])}function Kj(a,t){return Sb(a,t)}function Sb(a,t,n,r,o){var C;Ye(Jr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=w.useContext(va),{matches:d}=w.useContext(ca),f=d[d.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",x=f&&f.route;{let N=x&&x.path||"";Nb(g,!x||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=wa(),j;if(t){let N=typeof t=="string"?Wr(t):t;Ye(y==="/"||((C=N.pathname)==null?void 0:C.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${N.pathname}" was given in the \`location\` prop.`),j=N}else j=v;let S=j.pathname||"/",E=S;if(y!=="/"){let N=y.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=xb(a,{pathname:E});xa(x||T!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),xa(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=ek(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:ds([y,u.encodeLocation?u.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:ds([y,u.encodeLocation?u.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),d,n,r,o);return t&&A?w.createElement(Ro.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},A):A}function Qj(){let a=rk(),t=$j(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:o},n):null,d)}var Wj=w.createElement(Qj,null),Zj=class extends w.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.unstable_onError?this.props.unstable_onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?w.createElement(ca.Provider,{value:this.props.routeContext},w.createElement(Rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jj({routeContext:a,match:t,children:n}){let r=w.useContext(Zr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(ca.Provider,{value:a},n)}function ek(a,t=[],n=null,r=null,o=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let u=a,d=n==null?void 0:n.errors;if(d!=null){let g=u.findIndex(y=>y.route.id&&(d==null?void 0:d[y.route.id])!==void 0);Ye(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:x,errors:v}=n,j=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||j){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((g,y,x)=>{let v,j=!1,S=null,E=null;n&&(v=d&&y.route.id?d[y.route.id]:void 0,S=y.route.errorElement||Wj,f&&(m<0&&x===0?(Nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,E=null):m===x&&(j=!0,E=y.route.hydrateFallbackElement||null)));let T=t.concat(u.slice(0,x+1)),A=()=>{let C;return v?C=S:j?C=E:y.route.Component?C=w.createElement(y.route.Component,null):y.route.element?C=y.route.element:C=g,w.createElement(Jj,{match:y,routeContext:{outlet:g,matches:T,isDataRoute:n!=null},children:C})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?w.createElement(Zj,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):A()},null)}function Df(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tk(a){let t=w.useContext(Zr);return Ye(t,Df(a)),t}function ak(a){let t=w.useContext(Bc);return Ye(t,Df(a)),t}function sk(a){let t=w.useContext(ca);return Ye(t,Df(a)),t}function Mf(a){let t=sk(a),n=t.matches[t.matches.length-1];return Ye(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function nk(){return Mf("useRouteId")}function rk(){var r;let a=w.useContext(Rf),t=ak("useRouteError"),n=Mf("useRouteError");return a!==void 0?a:(r=t.errors)==null?void 0:r[n]}function ik(){let{router:a}=tk("useNavigate"),t=Mf("useNavigate"),n=w.useRef(!1);return _b(()=>{n.current=!0}),w.useCallback(async(o,u={})=>{xa(n.current,kb),n.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:t,...u}))},[a,t])}var yy={};function Nb(a,t,n){!t&&!yy[a]&&(yy[a]=!0,xa(!1,n))}w.memo(ok);function ok({routes:a,future:t,state:n,unstable_onError:r}){return Sb(a,void 0,n,r,t)}function lk({to:a,replace:t,state:n,relative:r}){Ye(Jr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(va);xa(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=w.useContext(ca),{pathname:d}=wa(),f=$t(),m=Cf(a,Af(u),d,r==="path"),g=JSON.stringify(m);return w.useEffect(()=>{f(JSON.parse(g),{replace:t,state:n,relative:r})},[f,g,r,t,n]),null}function Tb(a){return Xj(a.context)}function At(a){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ck({basename:a="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){Ye(!Jr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=Wr(n));let{pathname:m="/",search:g="",hash:y="",state:x=null,key:v="default"}=n,j=w.useMemo(()=>{let S=hs(m,d);return S==null?null:{location:{pathname:S,search:g,hash:y,state:x,key:v},navigationType:r}},[d,m,g,y,x,v,r]);return xa(j!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:w.createElement(va.Provider,{value:f},w.createElement(Ro.Provider,{children:t,value:j}))}function uk({children:a,location:t}){return Kj(qh(a),t)}function qh(a,t=[]){let n=[];return w.Children.forEach(a,(r,o)=>{if(!w.isValidElement(r))return;let u=[...t,o];if(r.type===w.Fragment){n.push.apply(n,qh(r.props.children,u));return}Ye(r.type===At,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=qh(r.props.children,u)),n.push(d)}),n}var bc="get",vc="application/x-www-form-urlencoded";function qc(a){return a!=null&&typeof a.tagName=="string"}function dk(a){return qc(a)&&a.tagName.toLowerCase()==="button"}function hk(a){return qc(a)&&a.tagName.toLowerCase()==="form"}function fk(a){return qc(a)&&a.tagName.toLowerCase()==="input"}function mk(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function gk(a,t){return a.button===0&&(!t||t==="_self")&&!mk(a)}var ic=null;function pk(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var yk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ph(a){return a!=null&&!yk.has(a)?(xa(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vc}"`),null):a}function xk(a,t){let n,r,o,u,d;if(hk(a)){let f=a.getAttribute("action");r=f?hs(f,t):null,n=a.getAttribute("method")||bc,o=ph(a.getAttribute("enctype"))||vc,u=new FormData(a)}else if(dk(a)||fk(a)&&(a.type==="submit"||a.type==="image")){let f=a.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=a.getAttribute("formaction")||f.getAttribute("action");if(r=m?hs(m,t):null,n=a.getAttribute("formmethod")||f.getAttribute("method")||bc,o=ph(a.getAttribute("formenctype"))||ph(f.getAttribute("enctype"))||vc,u=new FormData(f,a),!pk()){let{name:g,type:y,value:x}=a;if(y==="image"){let v=g?`${g}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else g&&u.append(g,x)}}else{if(qc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bc,r=null,o=vc,d=a}return u&&o==="text/plain"&&(d=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Of(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function bk(a,t,n){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&hs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function vk(a,t){if(a.id in t)return t[a.id];try{let n=await import(a.module);return t[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wk(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function jk(a,t,n){let r=await Promise.all(a.map(async o=>{let u=t.routes[o.route.id];if(u){let d=await vk(u,n);return d.links?d.links():[]}return[]}));return Nk(r.flat(1).filter(wk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xy(a,t,n,r,o,u){let d=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,f=(m,g)=>{var y;return n[g].pathname!==m.pathname||((y=n[g].route.path)==null?void 0:y.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,g)=>d(m,g)||f(m,g)):u==="data"?t.filter((m,g)=>{var x;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(d(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(a,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function kk(a,t,{includeHydrateFallback:n}={}){return _k(a.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _k(a){return[...new Set(a)]}function Sk(a){let t={},n=Object.keys(a).sort();for(let r of n)t[r]=a[r];return t}function Nk(a,t){let n=new Set;return new Set(t),a.reduce((r,o)=>{let u=JSON.stringify(Sk(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function Eb(){let a=w.useContext(Zr);return Of(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Tk(){let a=w.useContext(Bc);return Of(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Pf=w.createContext(void 0);Pf.displayName="FrameworkContext";function Ab(){let a=w.useContext(Pf);return Of(a,"You must render this element inside a <HydratedRouter> element"),a}function Ek(a,t){let n=w.useContext(Pf),[r,o]=w.useState(!1),[u,d]=w.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:x}=t,v=w.useRef(null);w.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let E=A=>{A.forEach(C=>{d(C.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[a]),w.useEffect(()=>{if(r){let E=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(E)}}},[r]);let j=()=>{o(!0)},S=()=>{o(!1),d(!1)};return n?a!=="intent"?[u,v,{}]:[u,v,{onFocus:ro(f,j),onBlur:ro(m,S),onMouseEnter:ro(g,j),onMouseLeave:ro(y,S),onTouchStart:ro(x,j)}]:[!1,v,{}]}function ro(a,t){return n=>{a&&a(n),n.defaultPrevented||t(n)}}function Ak({page:a,...t}){let{router:n}=Eb(),r=w.useMemo(()=>xb(n.routes,a,n.basename),[n.routes,a,n.basename]);return r?w.createElement(Rk,{page:a,matches:r,...t}):null}function Ck(a){let{manifest:t,routeModules:n}=Ab(),[r,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return jk(a,t,n).then(d=>{u||o(d)}),()=>{u=!0}},[a,t,n]),r}function Rk({page:a,matches:t,...n}){let r=wa(),{manifest:o,routeModules:u}=Ab(),{basename:d}=Eb(),{loaderData:f,matches:m}=Tk(),g=w.useMemo(()=>xy(a,t,m,o,r,"data"),[a,t,m,o,r]),y=w.useMemo(()=>xy(a,t,m,o,r,"assets"),[a,t,m,o,r]),x=w.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let S=new Set,E=!1;if(t.forEach(A=>{var N;let C=o.routes[A.route.id];!C||!C.hasLoader||(!g.some(P=>P.route.id===A.route.id)&&A.route.id in f&&((N=u[A.route.id])!=null&&N.shouldRevalidate)||C.hasClientLoader?E=!0:S.add(A.route.id))}),S.size===0)return[];let T=bk(a,d,"data");return E&&S.size>0&&T.searchParams.set("_routes",t.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[d,f,r,o,g,t,a,u]),v=w.useMemo(()=>kk(y,o),[y,o]),j=Ck(y);return w.createElement(w.Fragment,null,x.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),j.map(({key:S,link:E})=>w.createElement("link",{key:S,nonce:n.nonce,...E})))}function Dk(...a){return t=>{a.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cb&&(window.__reactRouterVersion="7.8.2")}catch{}function Mk({basename:a,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=xj({window:n,v5Compat:!0}));let o=r.current,[u,d]=w.useState({action:o.action,location:o.location}),f=w.useCallback(m=>{w.startTransition(()=>d(m))},[d]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.createElement(ck,{basename:a,children:t,location:u.location,navigationType:u.action,navigator:o})}var Rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:d,state:f,target:m,to:g,preventScrollReset:y,viewTransition:x,...v},j){let{basename:S}=w.useContext(va),E=typeof g=="string"&&Rb.test(g),T,A=!1;if(typeof g=="string"&&E&&(T=g,Cb))try{let J=new URL(window.location.href),H=g.startsWith("//")?new URL(J.protocol+g):new URL(g),Z=hs(H.pathname,S);H.origin===J.origin&&Z!=null?g=Z+H.search+H.hash:A=!0}catch{xa(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=Gj(g,{relative:o}),[N,P,D]=Ek(r,v),z=Uk(g,{replace:d,state:f,target:m,preventScrollReset:y,relative:o,viewTransition:x});function F(J){t&&t(J),J.defaultPrevented||z(J)}let W=w.createElement("a",{...v,...D,href:T||C,onClick:A||u?t:F,ref:Dk(j,P),target:m,"data-discover":!E&&n==="render"?"true":void 0});return N&&!E?w.createElement(w.Fragment,null,W,w.createElement(Ak,{page:C})):W});Ie.displayName="Link";var Ok=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:d,viewTransition:f,children:m,...g},y){let x=Do(d,{relative:g.relative}),v=wa(),j=w.useContext(Bc),{navigator:S,basename:E}=w.useContext(va),T=j!=null&&qk(x)&&f===!0,A=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,C=v.pathname,N=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(C=C.toLowerCase(),N=N?N.toLowerCase():null,A=A.toLowerCase()),N&&E&&(N=hs(N,E)||N);const P=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=C===A||!o&&C.startsWith(A)&&C.charAt(P)==="/",z=N!=null&&(N===A||!o&&N.startsWith(A)&&N.charAt(A.length)==="/"),F={isActive:D,isPending:z,isTransitioning:T},W=D?t:void 0,J;typeof r=="function"?J=r(F):J=[r,D?"active":null,z?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let H=typeof u=="function"?u(F):u;return w.createElement(Ie,{...g,"aria-current":W,className:J,ref:y,style:H,to:d,viewTransition:f},typeof m=="function"?m(F):m)});Ok.displayName="NavLink";var Pk=w.forwardRef(({discover:a="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:u,method:d=bc,action:f,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:x,...v},j)=>{let S=Bk(),E=$k(f,{relative:g}),T=d.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&Rb.test(f),C=N=>{if(m&&m(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||d;S(P||N.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:g,preventScrollReset:y,viewTransition:x})};return w.createElement("form",{ref:j,method:T,action:E,onSubmit:r?m:C,...v,"data-discover":!A&&a==="render"?"true":void 0})});Pk.displayName="Form";function Lk(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Db(a){let t=w.useContext(Zr);return Ye(t,Lk(a)),t}function Uk(a,{target:t,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:d}={}){let f=$t(),m=wa(),g=Do(a,{relative:u});return w.useCallback(y=>{if(gk(y,t)){y.preventDefault();let x=n!==void 0?n:bo(m)===bo(g);f(a,{replace:x,state:r,preventScrollReset:o,relative:u,viewTransition:d})}},[m,f,g,n,r,t,a,o,u,d])}var zk=0,Vk=()=>`__${String(++zk)}__`;function Bk(){let{router:a}=Db("useSubmit"),{basename:t}=w.useContext(va),n=nk();return w.useCallback(async(r,o={})=>{let{action:u,method:d,encType:f,formData:m,body:g}=xk(r,t);if(o.navigate===!1){let y=o.fetcherKey||Vk();await a.fetch(y,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,t,n])}function $k(a,{relative:t}={}){let{basename:n}=w.useContext(va),r=w.useContext(ca);Ye(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Do(a||".",{relative:t})},d=wa();if(a==null){u.search=d.search;let f=new URLSearchParams(u.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(x=>x).forEach(x=>f.append("index",x));let y=f.toString();u.search=y?`?${y}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ds([n,u.pathname])),bo(u)}function qk(a,{relative:t}={}){let n=w.useContext(jb);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Db("useViewTransitionState"),o=Do(a,{relative:t});if(!n.isTransitioning)return!1;let u=hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tc(o.pathname,d)!=null||Tc(o.pathname,u)!=null}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hk=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),by=a=>{const t=Hk(a);return t.charAt(0).toUpperCase()+t.slice(1)},Mb=(...a)=>a.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Gk=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=w.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:d,...f},m)=>w.createElement("svg",{ref:m,...Fk,width:t,height:t,stroke:a,strokeWidth:r?Number(n)*24/Number(t):n,className:Mb("lucide",o),...!u&&!Gk(f)&&{"aria-hidden":"true"},...f},[...d.map(([g,y])=>w.createElement(g,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(a,t)=>{const n=w.forwardRef(({className:r,...o},u)=>w.createElement(Yk,{ref:u,iconNode:t,className:Mb(`lucide-${Ik(by(a))}`,`lucide-${a}`,r),...o}));return n.displayName=by(a),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ih=oe("activity",Xk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ei=oe("arrow-left",Kk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Hh=oe("arrow-right",Qk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],vy=oe("bot",Wk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Jk=oe("building-2",Zk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],qr=oe("building",e_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ob=oe("calendar",t_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xt=oe("camera",a_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ma=oe("check",s_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],r_=oe("chevron-down",n_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pb=oe("circle-alert",i_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mn=oe("circle-check-big",o_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M10.1 2.18a9.93 9.93 0 0 1 3.8 0",key:"1qdqn0"}],["path",{d:"M17.6 3.71a9.95 9.95 0 0 1 2.69 2.7",key:"1bq7p6"}],["path",{d:"M21.82 10.1a9.93 9.93 0 0 1 0 3.8",key:"1rlaqf"}],["path",{d:"M20.29 17.6a9.95 9.95 0 0 1-2.7 2.69",key:"1xk03u"}],["path",{d:"M13.9 21.82a9.94 9.94 0 0 1-3.8 0",key:"l7re25"}],["path",{d:"M6.4 20.29a9.95 9.95 0 0 1-2.69-2.7",key:"1v18p6"}],["path",{d:"M2.18 13.9a9.93 9.93 0 0 1 0-3.8",key:"xdo6bj"}],["path",{d:"M3.71 6.4a9.95 9.95 0 0 1 2.7-2.69",key:"1jjmaz"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],c_=oe("circle-dot-dashed",l_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],d_=oe("circle-minus",u_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],f_=oe("circle-plus",h_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lb=oe("circle-x",m_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ec=oe("clock",g_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],y_=oe("copy",p_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],On=oe("credit-card",x_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Gh=oe("crown",b_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ub=oe("download",v_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wy=oe("eye-off",w_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jy=oe("eye",j_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qa=oe("file-text",k_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]],Yr=oe("git-compare-arrows",__);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Mo=oe("house",S_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zb=oe("image",N_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],E_=oe("infinity",T_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],C_=oe("info",A_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],wc=oe("key-round",R_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],M_=oe("layers",D_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],P_=oe("layout-dashboard",O_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Vb=oe("layout-grid",L_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],la=oe("loader",U_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vo=oe("lock",z_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],B_=oe("log-in",V_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Bb=oe("log-out",$_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ac=oe("mail",q_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pn=oe("map-pin",I_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Fh=oe("mic",H_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],F_=oe("moon",G_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],X_=oe("mouse-pointer-click",Y_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Q_=oe("palette",K_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],yh=oe("pen-line",W_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Lf=oe("pencil",Z_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gs=oe("plus",J_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],$b=oe("printer",eS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aS=oe("refresh-cw",tS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cc=oe("save",sS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rS=oe("search",nS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qb=oe("settings",iS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ib=oe("share-2",oS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ky=oe("shield-check",lS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],uS=oe("shield",cS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],hS=oe("sliders-horizontal",dS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],mS=oe("sparkles",fS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pS=oe("star",gS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],xS=oe("sun",yS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],vS=oe("target",bS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],co=oe("trash-2",wS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fs=oe("triangle-alert",jS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Hb=oe("upload",kS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ir=oe("user",_S);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gb=oe("users",SS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ba=oe("x",NS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],ES=oe("wrench",TS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hr=oe("zap",AS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Ic=oe("zoom-in",CS),Fb=w.createContext(void 0),RS=({children:a})=>{const[t,n]=w.useState(()=>{const o=localStorage.getItem("theme");return o||"dark"});w.useEffect(()=>{const o=window.document.documentElement;o.classList.remove("light","dark"),o.classList.add(t),localStorage.setItem("theme",t)},[t]);const r=()=>{n(o=>o==="light"?"dark":"light")};return l.jsx(Fb.Provider,{value:{theme:t,toggleTheme:r},children:a})},DS=()=>{const a=w.useContext(Fb);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a},Uf=w.createContext({});function zf(a){const t=w.useRef(null);return t.current===null&&(t.current=a()),t.current}const Vf=typeof window<"u",Yb=Vf?w.useLayoutEffect:w.useEffect,Hc=w.createContext(null);function Bf(a,t){a.indexOf(t)===-1&&a.push(t)}function $f(a,t){const n=a.indexOf(t);n>-1&&a.splice(n,1)}const fs=(a,t,n)=>n>t?t:n<a?a:n;let qf=()=>{};const ms={},Xb=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function Kb(a){return typeof a=="object"&&a!==null}const Qb=a=>/^0[^.\s]+$/u.test(a);function If(a){let t;return()=>(t===void 0&&(t=a()),t)}const oa=a=>a,MS=(a,t)=>n=>t(a(n)),Oo=(...a)=>a.reduce(MS),wo=(a,t,n)=>{const r=t-a;return r===0?1:(n-a)/r};class Hf{constructor(){this.subscriptions=[]}add(t){return Bf(this.subscriptions,t),()=>$f(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let u=0;u<o;u++){const d=this.subscriptions[u];d&&d(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ua=a=>a*1e3,za=a=>a/1e3;function Wb(a,t){return t?a*(1e3/t):0}const Zb=(a,t,n)=>(((1-3*n+3*t)*a+(3*n-6*t))*a+3*t)*a,OS=1e-7,PS=12;function LS(a,t,n,r,o){let u,d,f=0;do d=t+(n-t)/2,u=Zb(d,r,o)-a,u>0?n=d:t=d;while(Math.abs(u)>OS&&++f<PS);return d}function Po(a,t,n,r){if(a===t&&n===r)return oa;const o=u=>LS(u,0,1,a,n);return u=>u===0||u===1?u:Zb(o(u),t,r)}const Jb=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,ev=a=>t=>1-a(1-t),tv=Po(.33,1.53,.69,.99),Gf=ev(tv),av=Jb(Gf),sv=a=>(a*=2)<1?.5*Gf(a):.5*(2-Math.pow(2,-10*(a-1))),Ff=a=>1-Math.sin(Math.acos(a)),nv=ev(Ff),rv=Jb(Ff),US=Po(.42,0,1,1),zS=Po(0,0,.58,1),iv=Po(.42,0,.58,1),VS=a=>Array.isArray(a)&&typeof a[0]!="number",ov=a=>Array.isArray(a)&&typeof a[0]=="number",BS={linear:oa,easeIn:US,easeInOut:iv,easeOut:zS,circIn:Ff,circInOut:rv,circOut:nv,backIn:Gf,backInOut:av,backOut:tv,anticipate:sv},$S=a=>typeof a=="string",_y=a=>{if(ov(a)){qf(a.length===4);const[t,n,r,o]=a;return Po(t,n,r,o)}else if($S(a))return BS[a];return a},oc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qS(a,t){let n=new Set,r=new Set,o=!1,u=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){d.has(y)&&(g.schedule(y),a()),y(f)}const g={schedule:(y,x=!1,v=!1)=>{const S=v&&o?n:r;return x&&d.add(y),S.has(y)||S.add(y),y},cancel:y=>{r.delete(y),d.delete(y)},process:y=>{if(f=y,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(m),n.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const IS=40;function lv(a,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,d=oc.reduce((N,P)=>(N[P]=qS(u),N),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:x,preRender:v,render:j,postRender:S}=d,E=()=>{const N=ms.useManualTiming?o.timestamp:performance.now();n=!1,ms.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(N-o.timestamp,IS),1)),o.timestamp=N,o.isProcessing=!0,f.process(o),m.process(o),g.process(o),y.process(o),x.process(o),v.process(o),j.process(o),S.process(o),o.isProcessing=!1,n&&t&&(r=!1,a(E))},T=()=>{n=!0,r=!0,o.isProcessing||a(E)};return{schedule:oc.reduce((N,P)=>{const D=d[P];return N[P]=(z,F=!1,W=!1)=>(n||T(),D.schedule(z,F,W)),N},{}),cancel:N=>{for(let P=0;P<oc.length;P++)d[oc[P]].cancel(N)},state:o,steps:d}}const{schedule:Fe,cancel:Ys,state:St,steps:xh}=lv(typeof requestAnimationFrame<"u"?requestAnimationFrame:oa,!0);let jc;function HS(){jc=void 0}const Bt={now:()=>(jc===void 0&&Bt.set(St.isProcessing||ms.useManualTiming?St.timestamp:performance.now()),jc),set:a=>{jc=a,queueMicrotask(HS)}},cv=a=>t=>typeof t=="string"&&t.startsWith(a),Yf=cv("--"),GS=cv("var(--"),Xf=a=>GS(a)?FS.test(a.split("/*")[0].trim()):!1,FS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ti={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},jo={...ti,transform:a=>fs(0,1,a)},lc={...ti,default:1},uo=a=>Math.round(a*1e5)/1e5,Kf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YS(a){return a==null}const XS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qf=(a,t)=>n=>!!(typeof n=="string"&&XS.test(n)&&n.startsWith(a)||t&&!YS(n)&&Object.prototype.hasOwnProperty.call(n,t)),uv=(a,t,n)=>r=>{if(typeof r!="string")return r;const[o,u,d,f]=r.match(Kf);return{[a]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},KS=a=>fs(0,255,a),bh={...ti,transform:a=>Math.round(KS(a))},En={test:Qf("rgb","red"),parse:uv("red","green","blue"),transform:({red:a,green:t,blue:n,alpha:r=1})=>"rgba("+bh.transform(a)+", "+bh.transform(t)+", "+bh.transform(n)+", "+uo(jo.transform(r))+")"};function QS(a){let t="",n="",r="",o="";return a.length>5?(t=a.substring(1,3),n=a.substring(3,5),r=a.substring(5,7),o=a.substring(7,9)):(t=a.substring(1,2),n=a.substring(2,3),r=a.substring(3,4),o=a.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Yh={test:Qf("#"),parse:QS,transform:En.transform},Lo=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),qs=Lo("deg"),Va=Lo("%"),ye=Lo("px"),WS=Lo("vh"),ZS=Lo("vw"),Sy={...Va,parse:a=>Va.parse(a)/100,transform:a=>Va.transform(a*100)},Ur={test:Qf("hsl","hue"),parse:uv("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(a)+", "+Va.transform(uo(t))+", "+Va.transform(uo(n))+", "+uo(jo.transform(r))+")"},ot={test:a=>En.test(a)||Yh.test(a)||Ur.test(a),parse:a=>En.test(a)?En.parse(a):Ur.test(a)?Ur.parse(a):Yh.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?En.transform(a):Ur.transform(a),getAnimatableNone:a=>{const t=ot.parse(a);return t.alpha=0,ot.transform(t)}},JS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eN(a){var t,n;return isNaN(a)&&typeof a=="string"&&(((t=a.match(Kf))==null?void 0:t.length)||0)+(((n=a.match(JS))==null?void 0:n.length)||0)>0}const dv="number",hv="color",tN="var",aN="var(",Ny="${}",sN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ko(a){const t=a.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const f=t.replace(sN,m=>(ot.test(m)?(r.color.push(u),o.push(hv),n.push(ot.parse(m))):m.startsWith(aN)?(r.var.push(u),o.push(tN),n.push(m)):(r.number.push(u),o.push(dv),n.push(parseFloat(m))),++u,Ny)).split(Ny);return{values:n,split:f,indexes:r,types:o}}function fv(a){return ko(a).values}function mv(a){const{split:t,types:n}=ko(a),r=t.length;return o=>{let u="";for(let d=0;d<r;d++)if(u+=t[d],o[d]!==void 0){const f=n[d];f===dv?u+=uo(o[d]):f===hv?u+=ot.transform(o[d]):u+=o[d]}return u}}const nN=a=>typeof a=="number"?0:ot.test(a)?ot.getAnimatableNone(a):a;function rN(a){const t=fv(a);return mv(a)(t.map(nN))}const Xs={test:eN,parse:fv,createTransformer:mv,getAnimatableNone:rN};function vh(a,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?a+(t-a)*6*n:n<1/2?t:n<2/3?a+(t-a)*(2/3-n)*6:a}function iN({hue:a,saturation:t,lightness:n,alpha:r}){a/=360,t/=100,n/=100;let o=0,u=0,d=0;if(!t)o=u=d=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;o=vh(m,f,a+1/3),u=vh(m,f,a),d=vh(m,f,a-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:r}}function Rc(a,t){return n=>n>0?t:a}const Qe=(a,t,n)=>a+(t-a)*n,wh=(a,t,n)=>{const r=a*a,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},oN=[Yh,En,Ur],lN=a=>oN.find(t=>t.test(a));function Ty(a){const t=lN(a);if(!t)return!1;let n=t.parse(a);return t===Ur&&(n=iN(n)),n}const Ey=(a,t)=>{const n=Ty(a),r=Ty(t);if(!n||!r)return Rc(a,t);const o={...n};return u=>(o.red=wh(n.red,r.red,u),o.green=wh(n.green,r.green,u),o.blue=wh(n.blue,r.blue,u),o.alpha=Qe(n.alpha,r.alpha,u),En.transform(o))},Xh=new Set(["none","hidden"]);function cN(a,t){return Xh.has(a)?n=>n<=0?a:t:n=>n>=1?t:a}function uN(a,t){return n=>Qe(a,t,n)}function Wf(a){return typeof a=="number"?uN:typeof a=="string"?Xf(a)?Rc:ot.test(a)?Ey:fN:Array.isArray(a)?gv:typeof a=="object"?ot.test(a)?Ey:dN:Rc}function gv(a,t){const n=[...a],r=n.length,o=a.map((u,d)=>Wf(u)(u,t[d]));return u=>{for(let d=0;d<r;d++)n[d]=o[d](u);return n}}function dN(a,t){const n={...a,...t},r={};for(const o in n)a[o]!==void 0&&t[o]!==void 0&&(r[o]=Wf(a[o])(a[o],t[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function hN(a,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],d=a.indexes[u][r[u]],f=a.values[d]??0;n[o]=f,r[u]++}return n}const fN=(a,t)=>{const n=Xs.createTransformer(t),r=ko(a),o=ko(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Xh.has(a)&&!o.values.length||Xh.has(t)&&!r.values.length?cN(a,t):Oo(gv(hN(r,o),o.values),n):Rc(a,t)};function pv(a,t,n){return typeof a=="number"&&typeof t=="number"&&typeof n=="number"?Qe(a,t,n):Wf(a)(a,t)}const mN=a=>{const t=({timestamp:n})=>a(n);return{start:(n=!0)=>Fe.update(t,n),stop:()=>Ys(t),now:()=>St.isProcessing?St.timestamp:Bt.now()}},yv=(a,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)r+=Math.round(a(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Dc=2e4;function Zf(a){let t=0;const n=50;let r=a.next(t);for(;!r.done&&t<Dc;)t+=n,r=a.next(t);return t>=Dc?1/0:t}function gN(a,t=100,n){const r=n({...a,keyframes:[0,t]}),o=Math.min(Zf(r),Dc);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:za(o)}}const pN=5;function xv(a,t,n){const r=Math.max(t-pN,0);return Wb(n-a(r),t-r)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jh=.001;function yN({duration:a=tt.duration,bounce:t=tt.bounce,velocity:n=tt.velocity,mass:r=tt.mass}){let o,u,d=1-t;d=fs(tt.minDamping,tt.maxDamping,d),a=fs(tt.minDuration,tt.maxDuration,za(a)),d<1?(o=g=>{const y=g*d,x=y*a,v=y-n,j=Kh(g,d),S=Math.exp(-x);return jh-v/j*S},u=g=>{const x=g*d*a,v=x*n+n,j=Math.pow(d,2)*Math.pow(g,2)*a,S=Math.exp(-x),E=Kh(Math.pow(g,2),d);return(-o(g)+jh>0?-1:1)*((v-j)*S)/E}):(o=g=>{const y=Math.exp(-g*a),x=(g-n)*a+1;return-jh+y*x},u=g=>{const y=Math.exp(-g*a),x=(n-g)*(a*a);return y*x});const f=5/a,m=bN(o,u,f);if(a=Ua(a),isNaN(m))return{stiffness:tt.stiffness,damping:tt.damping,duration:a};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:d*2*Math.sqrt(r*g),duration:a}}}const xN=12;function bN(a,t,n){let r=n;for(let o=1;o<xN;o++)r=r-a(r)/t(r);return r}function Kh(a,t){return a*Math.sqrt(1-t*t)}const vN=["duration","bounce"],wN=["stiffness","damping","mass"];function Ay(a,t){return t.some(n=>a[n]!==void 0)}function jN(a){let t={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...a};if(!Ay(a,wN)&&Ay(a,vN))if(a.visualDuration){const n=a.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*fs(.05,1,1-(a.bounce||0))*Math.sqrt(o);t={...t,mass:tt.mass,stiffness:o,damping:u}}else{const n=yN(a);t={...t,...n,mass:tt.mass},t.isResolvedFromDuration=!0}return t}function Mc(a=tt.visualDuration,t=tt.bounce){const n=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],f={done:!1,value:u},{stiffness:m,damping:g,mass:y,duration:x,velocity:v,isResolvedFromDuration:j}=jN({...n,velocity:-za(n.velocity||0)}),S=v||0,E=g/(2*Math.sqrt(m*y)),T=d-u,A=za(Math.sqrt(m/y)),C=Math.abs(T)<5;r||(r=C?tt.restSpeed.granular:tt.restSpeed.default),o||(o=C?tt.restDelta.granular:tt.restDelta.default);let N;if(E<1){const D=Kh(A,E);N=z=>{const F=Math.exp(-E*A*z);return d-F*((S+E*A*T)/D*Math.sin(D*z)+T*Math.cos(D*z))}}else if(E===1)N=D=>d-Math.exp(-A*D)*(T+(S+A*T)*D);else{const D=A*Math.sqrt(E*E-1);N=z=>{const F=Math.exp(-E*A*z),W=Math.min(D*z,300);return d-F*((S+E*A*T)*Math.sinh(W)+D*T*Math.cosh(W))/D}}const P={calculatedDuration:j&&x||null,next:D=>{const z=N(D);if(j)f.done=D>=x;else{let F=D===0?S:0;E<1&&(F=D===0?Ua(S):xv(N,D,z));const W=Math.abs(F)<=r,J=Math.abs(d-z)<=o;f.done=W&&J}return f.value=f.done?d:z,f},toString:()=>{const D=Math.min(Zf(P),Dc),z=yv(F=>P.next(D*F).value,D,30);return D+"ms "+z},toTransition:()=>{}};return P}Mc.applyToOptions=a=>{const t=gN(a,100,Mc);return a.ease=t.ease,a.duration=Ua(t.duration),a.type="keyframes",a};function Qh({keyframes:a,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:d,min:f,max:m,restDelta:g=.5,restSpeed:y}){const x=a[0],v={done:!1,value:x},j=W=>f!==void 0&&W<f||m!==void 0&&W>m,S=W=>f===void 0?m:m===void 0||Math.abs(f-W)<Math.abs(m-W)?f:m;let E=n*t;const T=x+E,A=d===void 0?T:d(T);A!==T&&(E=A-x);const C=W=>-E*Math.exp(-W/r),N=W=>A+C(W),P=W=>{const J=C(W),H=N(W);v.done=Math.abs(J)<=g,v.value=v.done?A:H};let D,z;const F=W=>{j(v.value)&&(D=W,z=Mc({keyframes:[v.value,S(v.value)],velocity:xv(N,W,v.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return F(0),{calculatedDuration:null,next:W=>{let J=!1;return!z&&D===void 0&&(J=!0,P(W),F(W)),D!==void 0&&W>=D?z.next(W-D):(!J&&P(W),v)}}}function kN(a,t,n){const r=[],o=n||ms.mix||pv,u=a.length-1;for(let d=0;d<u;d++){let f=o(a[d],a[d+1]);if(t){const m=Array.isArray(t)?t[d]||oa:t;f=Oo(m,f)}r.push(f)}return r}function _N(a,t,{clamp:n=!0,ease:r,mixer:o}={}){const u=a.length;if(qf(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=a[0]===a[1];a[0]>a[u-1]&&(a=[...a].reverse(),t=[...t].reverse());const f=kN(t,r,o),m=f.length,g=y=>{if(d&&y<a[0])return t[0];let x=0;if(m>1)for(;x<a.length-2&&!(y<a[x+1]);x++);const v=wo(a[x],a[x+1],y);return f[x](v)};return n?y=>g(fs(a[0],a[u-1],y)):g}function SN(a,t){const n=a[a.length-1];for(let r=1;r<=t;r++){const o=wo(0,t,r);a.push(Qe(n,1,o))}}function NN(a){const t=[0];return SN(t,a.length-1),t}function TN(a,t){return a.map(n=>n*t)}function EN(a,t){return a.map(()=>t||iv).splice(0,a.length-1)}function ho({duration:a=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=VS(r)?r.map(_y):_y(r),u={done:!1,value:t[0]},d=TN(n&&n.length===t.length?n:NN(t),a),f=_N(d,t,{ease:Array.isArray(o)?o:EN(t,o)});return{calculatedDuration:a,next:m=>(u.value=f(m),u.done=m>=a,u)}}const AN=a=>a!==null;function Jf(a,{repeat:t,repeatType:n="loop"},r,o=1){const u=a.filter(AN),f=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!f||r===void 0?u[f]:r}const CN={decay:Qh,inertia:Qh,tween:ho,keyframes:ho,spring:Mc};function bv(a){typeof a.type=="string"&&(a.type=CN[a.type])}class em{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const RN=a=>a/100;class tm extends em{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Bt.now()&&this.tick(Bt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;bv(t);const{type:n=ho,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:d=0}=t;let{keyframes:f}=t;const m=n||ho;m!==ho&&typeof f[0]!="number"&&(this.mixKeyframes=Oo(RN,pv(f[0],f[1])),f=[0,100]);const g=m({...t,keyframes:f});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=Zf(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:x,repeatType:v,repeatDelay:j,type:S,onUpdate:E,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const A=this.currentTime-g*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?A<0:A>o;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let N=this.currentTime,P=r;if(x){const W=Math.min(this.currentTime,o)/f;let J=Math.floor(W),H=W%1;!H&&W>=1&&(H=1),H===1&&J--,J=Math.min(J,x+1),!!(J%2)&&(v==="reverse"?(H=1-H,j&&(H-=j/f)):v==="mirror"&&(P=d)),N=fs(0,1,H)*f}const D=C?{done:!1,value:y[0]}:P.next(N);u&&(D.value=u(D.value));let{done:z}=D;!C&&m!==null&&(z=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return F&&S!==Qh&&(D.value=Jf(y,this.options,T,this.speed)),E&&E(D.value),F&&this.finish(),D}then(t,n){return this.finished.then(t,n)}get duration(){return za(this.calculatedDuration)}get time(){return za(this.currentTime)}set time(t){var n;t=Ua(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Bt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=za(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:t=mN,startTime:n}=this.options;this.driver||(this.driver=t(d=>this.tick(d))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function DN(a){for(let t=1;t<a.length;t++)a[t]??(a[t]=a[t-1])}const An=a=>a*180/Math.PI,Wh=a=>{const t=An(Math.atan2(a[1],a[0]));return Zh(t)},MN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:Wh,rotateZ:Wh,skewX:a=>An(Math.atan(a[1])),skewY:a=>An(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},Zh=a=>(a=a%360,a<0&&(a+=360),a),Cy=Wh,Ry=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),Dy=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),ON={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ry,scaleY:Dy,scale:a=>(Ry(a)+Dy(a))/2,rotateX:a=>Zh(An(Math.atan2(a[6],a[5]))),rotateY:a=>Zh(An(Math.atan2(-a[2],a[0]))),rotateZ:Cy,rotate:Cy,skewX:a=>An(Math.atan(a[4])),skewY:a=>An(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function Jh(a){return a.includes("scale")?1:0}function ef(a,t){if(!a||a==="none")return Jh(t);const n=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=ON,o=n;else{const f=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=MN,o=f}if(!o)return Jh(t);const u=r[t],d=o[1].split(",").map(LN);return typeof u=="function"?u(d):d[u]}const PN=(a,t)=>{const{transform:n="none"}=getComputedStyle(a);return ef(n,t)};function LN(a){return parseFloat(a.trim())}const ai=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],si=new Set(ai),My=a=>a===ti||a===ye,UN=new Set(["x","y","z"]),zN=ai.filter(a=>!UN.has(a));function VN(a){const t=[];return zN.forEach(n=>{const r=a.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Cn={width:({x:a},{paddingLeft:t="0",paddingRight:n="0"})=>a.max-a.min-parseFloat(t)-parseFloat(n),height:({y:a},{paddingTop:t="0",paddingBottom:n="0"})=>a.max-a.min-parseFloat(t)-parseFloat(n),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:(a,{transform:t})=>ef(t,"x"),y:(a,{transform:t})=>ef(t,"y")};Cn.translateX=Cn.x;Cn.translateY=Cn.y;const Rn=new Set;let tf=!1,af=!1,sf=!1;function vv(){if(af){const a=Array.from(Rn).filter(r=>r.needsMeasurement),t=new Set(a.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=VN(r);o.length&&(n.set(r,o),r.render())}),a.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,d])=>{var f;(f=r.getValue(u))==null||f.set(d)})}),a.forEach(r=>r.measureEndState()),a.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}af=!1,tf=!1,Rn.forEach(a=>a.complete(sf)),Rn.clear()}function wv(){Rn.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(af=!0)})}function BN(){sf=!0,wv(),vv(),sf=!1}class am{constructor(t,n,r,o,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Rn.add(this),tf||(tf=!0,Fe.read(wv),Fe.resolveKeyframes(vv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&n){const f=r.readValue(n,d);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=d),o&&u===void 0&&o.set(t[0])}DN(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Rn.delete(this)}cancel(){this.state==="scheduled"&&(Rn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $N=a=>a.startsWith("--");function qN(a,t,n){$N(t)?a.style.setProperty(t,n):a.style[t]=n}const IN=If(()=>window.ScrollTimeline!==void 0),HN={};function GN(a,t){const n=If(a);return()=>HN[t]??n()}const jv=GN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oo=([a,t,n,r])=>`cubic-bezier(${a}, ${t}, ${n}, ${r})`,Oy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oo([0,.65,.55,1]),circOut:oo([.55,0,1,.45]),backIn:oo([.31,.01,.66,-.59]),backOut:oo([.33,1.53,.69,.99])};function kv(a,t){if(a)return typeof a=="function"?jv()?yv(a,t):"ease-out":ov(a)?oo(a):Array.isArray(a)?a.map(n=>kv(n,t)||Oy.easeOut):Oy[a]}function FN(a,t,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:d="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[t]:n};m&&(y.offset=m);const x=kv(f,o);Array.isArray(x)&&(y.easing=x);const v={delay:r,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(v.pseudoElement=g),a.animate(y,v)}function _v(a){return typeof a=="function"&&"applyToOptions"in a}function YN({type:a,...t}){return _v(a)&&jv()?a.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class XN extends em{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,qf(typeof t.type!="string");const g=YN(t);this.animation=FN(n,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Jf(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):qN(n,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return za(Number(t))}get time(){return za(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ua(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&IN()?(this.animation.timeline=t,oa):n(this)}}const Sv={anticipate:sv,backInOut:av,circInOut:rv};function KN(a){return a in Sv}function QN(a){typeof a.ease=="string"&&KN(a.ease)&&(a.ease=Sv[a.ease])}const Py=10;class WN extends XN{constructor(t){QN(t),bv(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...d}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new tm({...d,autoplay:!1}),m=Ua(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Py).value,f.sample(m).value,Py),f.stop()}}const Ly=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Xs.test(a)||a==="0")&&!a.startsWith("url("));function ZN(a){const t=a[0];if(a.length===1)return!0;for(let n=0;n<a.length;n++)if(a[n]!==t)return!0}function JN(a,t,n,r){const o=a[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=a[a.length-1],d=Ly(o,t),f=Ly(u,t);return!d||!f?!1:ZN(a)||(n==="spring"||_v(n))&&r}function nf(a){a.duration=0,a.type}const e4=new Set(["opacity","clipPath","filter","transform"]),t4=If(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function a4(a){var y;const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:u,type:d}=a;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return t4()&&n&&e4.has(n)&&(n!=="transform"||!g)&&!m&&!r&&o!=="mirror"&&u!==0&&d!=="inertia"}const s4=40;class n4 extends em{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:d="loop",keyframes:f,name:m,motionValue:g,element:y,...x}){var S;super(),this.stop=()=>{var E,T;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Bt.now();const v={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:d,name:m,motionValue:g,element:y,...x},j=(y==null?void 0:y.KeyframeResolver)||am;this.keyframeResolver=new j(f,(E,T,A)=>this.onKeyframesResolved(E,T,v,!A),m,g,y),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:u,type:d,velocity:f,delay:m,isHandoff:g,onUpdate:y}=r;this.resolvedAt=Bt.now(),JN(t,u,d,f)||((ms.instantAnimations||!m)&&(y==null||y(Jf(t,r,n))),t[0]=t[t.length-1],nf(r),r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>s4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},j=!g&&a4(v)?new WN({...v,element:v.motionValue.owner.current}):new tm(v);j.finished.then(()=>this.notifyFinished()).catch(oa),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),BN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const r4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function i4(a){const t=r4.exec(a);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function Nv(a,t,n=1){const[r,o]=i4(a);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const d=u.trim();return Xb(d)?parseFloat(d):d}return Xf(o)?Nv(o,t,n+1):o}function sm(a,t){return(a==null?void 0:a[t])??(a==null?void 0:a.default)??a}const Tv=new Set(["width","height","top","left","right","bottom",...ai]),o4={test:a=>a==="auto",parse:a=>a},Ev=a=>t=>t.test(a),Av=[ti,ye,Va,qs,ZS,WS,o4],Uy=a=>Av.find(Ev(a));function l4(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||Qb(a):!0}const c4=new Set(["brightness","contrast","saturate","opacity"]);function u4(a){const[t,n]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[r]=n.match(Kf)||[];if(!r)return a;const o=n.replace(r,"");let u=c4.has(t)?1:0;return r!==n&&(u*=100),t+"("+u+o+")"}const d4=/\b([a-z-]*)\(.*?\)/gu,rf={...Xs,getAnimatableNone:a=>{const t=a.match(d4);return t?t.map(u4).join(" "):a}},zy={...ti,transform:Math.round},h4={rotate:qs,rotateX:qs,rotateY:qs,rotateZ:qs,scale:lc,scaleX:lc,scaleY:lc,scaleZ:lc,skew:qs,skewX:qs,skewY:qs,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:jo,originX:Sy,originY:Sy,originZ:ye},nm={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye,...h4,zIndex:zy,fillOpacity:jo,strokeOpacity:jo,numOctaves:zy},f4={...nm,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:rf,WebkitFilter:rf},Cv=a=>f4[a];function Rv(a,t){let n=Cv(a);return n!==rf&&(n=Xs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const m4=new Set(["auto","none","0"]);function g4(a,t,n){let r=0,o;for(;r<a.length&&!o;){const u=a[r];typeof u=="string"&&!m4.has(u)&&ko(u).values.length&&(o=a[r]),r++}if(o&&n)for(const u of t)a[u]=Rv(n,o)}class p4 extends am{constructor(t,n,r,o,u){super(t,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Xf(g))){const y=Nv(g,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Tv.has(r)||t.length!==2)return;const[o,u]=t,d=Uy(o),f=Uy(u);if(d!==f)if(My(d)&&My(f))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else Cn[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||l4(t[o]))&&r.push(o);r.length&&g4(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,d=r[u];r[u]=Cn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,g])=>{t.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function y4(a,t,n){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let r=document;const o=(n==null?void 0:n[a])??r.querySelectorAll(a);return o?Array.from(o):[]}return Array.from(a)}const Dv=(a,t)=>t&&typeof a=="number"?t.transform(a):a;function Mv(a){return Kb(a)&&"offsetHeight"in a}const Vy=30,x4=a=>!isNaN(parseFloat(a));class b4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var u;const o=Bt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Bt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=x4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Hf);const r=this.events[t].add(n);return t==="change"?()=>{r(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Vy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vy);return Wb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xr(a,t){return new b4(a,t)}const{schedule:rm}=lv(queueMicrotask,!1),pa={x:!1,y:!1};function Ov(){return pa.x||pa.y}function v4(a){return a==="x"||a==="y"?pa[a]?null:(pa[a]=!0,()=>{pa[a]=!1}):pa.x||pa.y?null:(pa.x=pa.y=!0,()=>{pa.x=pa.y=!1})}function Pv(a,t){const n=y4(a),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function By(a){return!(a.pointerType==="touch"||Ov())}function w4(a,t,n={}){const[r,o,u]=Pv(a,n),d=f=>{if(!By(f))return;const{target:m}=f,g=t(m,f);if(typeof g!="function"||!m)return;const y=x=>{By(x)&&(g(x),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,o)};return r.forEach(f=>{f.addEventListener("pointerenter",d,o)}),u}const Lv=(a,t)=>t?a===t?!0:Lv(a,t.parentElement):!1,im=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,j4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function k4(a){return j4.has(a.tagName)||a.tabIndex!==-1}const kc=new WeakSet;function $y(a){return t=>{t.key==="Enter"&&a(t)}}function kh(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _4=(a,t)=>{const n=a.currentTarget;if(!n)return;const r=$y(()=>{if(kc.has(n))return;kh(n,"down");const o=$y(()=>{kh(n,"up")}),u=()=>kh(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function qy(a){return im(a)&&!Ov()}function S4(a,t,n={}){const[r,o,u]=Pv(a,n),d=f=>{const m=f.currentTarget;if(!qy(f))return;kc.add(m);const g=t(m,f),y=(j,S)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),kc.has(m)&&kc.delete(m),qy(j)&&typeof g=="function"&&g(j,{success:S})},x=j=>{y(j,m===window||m===document||n.useGlobalTarget||Lv(m,j.target))},v=j=>{y(j,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",v,o)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",d,o),Mv(f)&&(f.addEventListener("focus",g=>_4(g,o)),!k4(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function Uv(a){return Kb(a)&&"ownerSVGElement"in a}function N4(a){return Uv(a)&&a.tagName==="svg"}const Ct=a=>!!(a&&a.getVelocity),T4=[...Av,ot,Xs],E4=a=>T4.find(Ev(a)),om=w.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});class A4 extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=Mv(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function C4({children:a,isPresent:t,anchorX:n,root:r}){const o=w.useId(),u=w.useRef(null),d=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=w.useContext(om);return w.useInsertionEffect(()=>{const{width:m,height:g,top:y,left:x,right:v}=d.current;if(t||!u.current||!m||!g)return;const j=n==="left"?`left: ${x}`:`right: ${v}`;u.current.dataset.motionPopId=o;const S=document.createElement("style");f&&(S.nonce=f);const E=r??document.head;return E.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${j}px !important;
            top: ${y}px !important;
          }
        `),()=>{E.contains(S)&&E.removeChild(S)}},[t]),l.jsx(A4,{isPresent:t,childRef:u,sizeRef:d,children:w.cloneElement(a,{ref:u})})}const R4=({children:a,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:d,anchorX:f,root:m})=>{const g=zf(D4),y=w.useId();let x=!0,v=w.useMemo(()=>(x=!1,{id:y,initial:t,isPresent:n,custom:o,onExitComplete:j=>{g.set(j,!0);for(const S of g.values())if(!S)return;r&&r()},register:j=>(g.set(j,!1),()=>g.delete(j))}),[n,g,r]);return u&&x&&(v={...v}),w.useMemo(()=>{g.forEach((j,S)=>g.set(S,!1))},[n]),w.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),d==="popLayout"&&(a=l.jsx(C4,{isPresent:n,anchorX:f,root:m,children:a})),l.jsx(Hc.Provider,{value:v,children:a})};function D4(){return new Map}function zv(a=!0){const t=w.useContext(Hc);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,u=w.useId();w.useEffect(()=>{if(a)return o(u)},[a]);const d=w.useCallback(()=>a&&r&&r(u),[u,r,a]);return!n&&r?[!1,d]:[!0]}const cc=a=>a.key||"";function Iy(a){const t=[];return w.Children.forEach(a,n=>{w.isValidElement(n)&&t.push(n)}),t}const ni=({children:a,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:d=!1,anchorX:f="left",root:m})=>{const[g,y]=zv(d),x=w.useMemo(()=>Iy(a),[a]),v=d&&!g?[]:x.map(cc),j=w.useRef(!0),S=w.useRef(x),E=zf(()=>new Map),[T,A]=w.useState(x),[C,N]=w.useState(x);Yb(()=>{j.current=!1,S.current=x;for(let z=0;z<C.length;z++){const F=cc(C[z]);v.includes(F)?E.delete(F):E.get(F)!==!0&&E.set(F,!1)}},[C,v.length,v.join("-")]);const P=[];if(x!==T){let z=[...x];for(let F=0;F<C.length;F++){const W=C[F],J=cc(W);v.includes(J)||(z.splice(F,0,W),P.push(W))}return u==="wait"&&P.length&&(z=P),N(Iy(z)),A(x),null}const{forceRender:D}=w.useContext(Uf);return l.jsx(l.Fragment,{children:C.map(z=>{const F=cc(z),W=d&&!g?!1:x===C||v.includes(F),J=()=>{if(E.has(F))E.set(F,!0);else return;let H=!0;E.forEach(Z=>{Z||(H=!1)}),H&&(D==null||D(),N(S.current),d&&(y==null||y()),r&&r())};return l.jsx(R4,{isPresent:W,initial:!j.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:m,onExitComplete:W?void 0:J,anchorX:f,children:z},F)})})},Vv=w.createContext({strict:!1}),Hy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kr={};for(const a in Hy)Kr[a]={isEnabled:t=>Hy[a].some(n=>!!t[n])};function M4(a){for(const t in a)Kr[t]={...Kr[t],...a[t]}}const O4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oc(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||O4.has(a)}let Bv=a=>!Oc(a);function P4(a){typeof a=="function"&&(Bv=t=>t.startsWith("on")?!Oc(t):a(t))}try{P4(require("@emotion/is-prop-valid").default)}catch{}function L4(a,t,n){const r={};for(const o in a)o==="values"&&typeof a.values=="object"||(Bv(o)||n===!0&&Oc(o)||!t&&!Oc(o)||a.draggable&&o.startsWith("onDrag"))&&(r[o]=a[o]);return r}const Gc=w.createContext({});function Fc(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function _o(a){return typeof a=="string"||Array.isArray(a)}const lm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cm=["initial",...lm];function Yc(a){return Fc(a.animate)||cm.some(t=>_o(a[t]))}function $v(a){return!!(Yc(a)||a.variants)}function U4(a,t){if(Yc(a)){const{initial:n,animate:r}=a;return{initial:n===!1||_o(n)?n:void 0,animate:_o(r)?r:void 0}}return a.inherit!==!1?t:{}}function z4(a){const{initial:t,animate:n}=U4(a,w.useContext(Gc));return w.useMemo(()=>({initial:t,animate:n}),[Gy(t),Gy(n)])}function Gy(a){return Array.isArray(a)?a.join(" "):a}const So={};function V4(a){for(const t in a)So[t]=a[t],Yf(t)&&(So[t].isCSSVariable=!0)}function qv(a,{layout:t,layoutId:n}){return si.has(a)||a.startsWith("origin")||(t||n!==void 0)&&(!!So[a]||a==="opacity")}const B4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$4=ai.length;function q4(a,t,n){let r="",o=!0;for(let u=0;u<$4;u++){const d=ai[u],f=a[d];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(d.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=Dv(f,nm[d]);if(!m){o=!1;const y=B4[d]||d;r+=`${y}(${g}) `}n&&(t[d]=g)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function um(a,t,n){const{style:r,vars:o,transformOrigin:u}=a;let d=!1,f=!1;for(const m in t){const g=t[m];if(si.has(m)){d=!0;continue}else if(Yf(m)){o[m]=g;continue}else{const y=Dv(g,nm[m]);m.startsWith("origin")?(f=!0,u[m]=y):r[m]=y}}if(t.transform||(d||n?r.transform=q4(t,a.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=u;r.transformOrigin=`${m} ${g} ${y}`}}const dm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Iv(a,t,n){for(const r in t)!Ct(t[r])&&!qv(r,n)&&(a[r]=t[r])}function I4({transformTemplate:a},t){return w.useMemo(()=>{const n=dm();return um(n,t,a),Object.assign({},n.vars,n.style)},[t])}function H4(a,t){const n=a.style||{},r={};return Iv(r,n,a),Object.assign(r,I4(a,t)),r}function G4(a,t){const n={},r=H4(a,t);return a.drag&&a.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(n.tabIndex=0),n.style=r,n}const F4={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y4={offset:"strokeDashoffset",array:"strokeDasharray"};function X4(a,t,n=1,r=0,o=!0){a.pathLength=1;const u=o?F4:Y4;a[u.offset]=ye.transform(-r);const d=ye.transform(t),f=ye.transform(n);a[u.array]=`${d} ${f}`}function Hv(a,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:d=0,...f},m,g,y){if(um(a,f,g),m){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:x,style:v}=a;x.transform&&(v.transform=x.transform,delete x.transform),(v.transform||x.transformOrigin)&&(v.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),v.transform&&(v.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),o!==void 0&&X4(x,o,u,d,!1)}const Gv=()=>({...dm(),attrs:{}}),Fv=a=>typeof a=="string"&&a.toLowerCase()==="svg";function K4(a,t,n,r){const o=w.useMemo(()=>{const u=Gv();return Hv(u,t,Fv(r),a.transformTemplate,a.style),{...u.attrs,style:{...u.style}}},[t]);if(a.style){const u={};Iv(u,a.style,a),o.style={...u,...o.style}}return o}const Q4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hm(a){return typeof a!="string"||a.includes("-")?!1:!!(Q4.indexOf(a)>-1||/[A-Z]/u.test(a))}function W4(a,t,n,{latestValues:r},o,u=!1){const f=(hm(a)?K4:G4)(t,r,o,a),m=L4(t,typeof a=="string",u),g=a!==w.Fragment?{...m,...f,ref:n}:{},{children:y}=t,x=w.useMemo(()=>Ct(y)?y.get():y,[y]);return w.createElement(a,{...g,children:x})}function Fy(a){const t=[{},{}];return a==null||a.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function fm(a,t,n,r){if(typeof t=="function"){const[o,u]=Fy(r);t=t(n!==void 0?n:a.custom,o,u)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[o,u]=Fy(r);t=t(n!==void 0?n:a.custom,o,u)}return t}function _c(a){return Ct(a)?a.get():a}function Z4({scrapeMotionValuesFromProps:a,createRenderState:t},n,r,o){return{latestValues:J4(n,r,o,a),renderState:t()}}function J4(a,t,n,r){const o={},u=r(a,{});for(const v in u)o[v]=_c(u[v]);let{initial:d,animate:f}=a;const m=Yc(a),g=$v(a);t&&g&&!m&&a.inherit!==!1&&(d===void 0&&(d=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||d===!1;const x=y?f:d;if(x&&typeof x!="boolean"&&!Fc(x)){const v=Array.isArray(x)?x:[x];for(let j=0;j<v.length;j++){const S=fm(a,v[j]);if(S){const{transitionEnd:E,transition:T,...A}=S;for(const C in A){let N=A[C];if(Array.isArray(N)){const P=y?N.length-1:0;N=N[P]}N!==null&&(o[C]=N)}for(const C in E)o[C]=E[C]}}}return o}const Yv=a=>(t,n)=>{const r=w.useContext(Gc),o=w.useContext(Hc),u=()=>Z4(a,t,r,o);return n?u():zf(u)};function mm(a,t,n){var u;const{style:r}=a,o={};for(const d in r)(Ct(r[d])||t.style&&Ct(t.style[d])||qv(d,a)||((u=n==null?void 0:n.getValue(d))==null?void 0:u.liveStyle)!==void 0)&&(o[d]=r[d]);return o}const eT=Yv({scrapeMotionValuesFromProps:mm,createRenderState:dm});function Xv(a,t,n){const r=mm(a,t,n);for(const o in a)if(Ct(a[o])||Ct(t[o])){const u=ai.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=a[o]}return r}const tT=Yv({scrapeMotionValuesFromProps:Xv,createRenderState:Gv}),aT=Symbol.for("motionComponentSymbol");function zr(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function sT(a,t,n){return w.useCallback(r=>{r&&a.onMount&&a.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):zr(n)&&(n.current=r))},[t])}const gm=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nT="framerAppearId",Kv="data-"+gm(nT),Qv=w.createContext({});function rT(a,t,n,r,o){var E,T;const{visualElement:u}=w.useContext(Gc),d=w.useContext(Vv),f=w.useContext(Hc),m=w.useContext(om).reducedMotion,g=w.useRef(null);r=r||d.renderer,!g.current&&r&&(g.current=r(a,{visualState:t,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,x=w.useContext(Qv);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&iT(g.current,n,o,x);const v=w.useRef(!1);w.useInsertionEffect(()=>{y&&v.current&&y.update(n,f)});const j=n[Kv],S=w.useRef(!!j&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,j))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,j)));return Yb(()=>{y&&(v.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),S.current&&y.animationState&&y.animationState.animateChanges())}),w.useEffect(()=>{y&&(!S.current&&y.animationState&&y.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,j)}),S.current=!1),y.enteringChildren=void 0)}),y}function iT(a,t,n,r){const{layoutId:o,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;a.projection=new n(a.latestValues,t["data-framer-portal-id"]?void 0:Wv(a.parent)),a.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!d||f&&zr(f),visualElement:a,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:g})}function Wv(a){if(a)return a.options.allowProjection!==!1?a.projection:Wv(a.parent)}function _h(a,{forwardMotionProps:t=!1}={},n,r){n&&M4(n);const o=hm(a)?tT:eT;function u(f,m){let g;const y={...w.useContext(om),...f,layoutId:oT(f)},{isStatic:x}=y,v=z4(f),j=o(f,x);if(!x&&Vf){lT();const S=cT(y);g=S.MeasureLayout,v.visualElement=rT(a,j,y,r,S.ProjectionNode)}return l.jsxs(Gc.Provider,{value:v,children:[g&&v.visualElement?l.jsx(g,{visualElement:v.visualElement,...y}):null,W4(a,f,sT(j,v.visualElement,m),j,x,t)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const d=w.forwardRef(u);return d[aT]=a,d}function oT({layoutId:a}){const t=w.useContext(Uf).id;return t&&a!==void 0?t+"-"+a:a}function lT(a,t){w.useContext(Vv).strict}function cT(a){const{drag:t,layout:n}=Kr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(a)||n!=null&&n.isEnabled(a)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function uT(a,t){if(typeof Proxy>"u")return _h;const n=new Map,r=(u,d)=>_h(u,d,a,t),o=(u,d)=>r(u,d);return new Proxy(o,{get:(u,d)=>d==="create"?r:(n.has(d)||n.set(d,_h(d,void 0,a,t)),n.get(d))})}function Zv({top:a,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:a,max:r}}}function dT({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function hT(a,t){if(!t)return a;const n=t({x:a.left,y:a.top}),r=t({x:a.right,y:a.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sh(a){return a===void 0||a===1}function of({scale:a,scaleX:t,scaleY:n}){return!Sh(a)||!Sh(t)||!Sh(n)}function _n(a){return of(a)||Jv(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function Jv(a){return Yy(a.x)||Yy(a.y)}function Yy(a){return a&&a!=="0%"}function Pc(a,t,n){const r=a-n,o=t*r;return n+o}function Xy(a,t,n,r,o){return o!==void 0&&(a=Pc(a,o,r)),Pc(a,n,r)+t}function lf(a,t=0,n=1,r,o){a.min=Xy(a.min,t,n,r,o),a.max=Xy(a.max,t,n,r,o)}function e1(a,{x:t,y:n}){lf(a.x,t.translate,t.scale,t.originPoint),lf(a.y,n.translate,n.scale,n.originPoint)}const Ky=.999999999999,Qy=1.0000000000001;function fT(a,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,d;for(let f=0;f<o;f++){u=n[f],d=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Br(a,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,e1(a,d)),r&&_n(u.latestValues)&&Br(a,u.latestValues))}t.x<Qy&&t.x>Ky&&(t.x=1),t.y<Qy&&t.y>Ky&&(t.y=1)}function Vr(a,t){a.min=a.min+t,a.max=a.max+t}function Wy(a,t,n,r,o=.5){const u=Qe(a.min,a.max,o);lf(a,t,n,u,r)}function Br(a,t){Wy(a.x,t.x,t.scaleX,t.scale,t.originX),Wy(a.y,t.y,t.scaleY,t.scale,t.originY)}function t1(a,t){return Zv(hT(a.getBoundingClientRect(),t))}function mT(a,t,n){const r=t1(a,n),{scroll:o}=t;return o&&(Vr(r.x,o.offset.x),Vr(r.y,o.offset.y)),r}const Zy=()=>({translate:0,scale:1,origin:0,originPoint:0}),$r=()=>({x:Zy(),y:Zy()}),Jy=()=>({min:0,max:0}),nt=()=>({x:Jy(),y:Jy()}),cf={current:null},a1={current:!1};function gT(){if(a1.current=!0,!!Vf)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>cf.current=a.matches;a.addEventListener("change",t),t()}else cf.current=!1}const pT=new WeakMap;function yT(a,t,n){for(const r in t){const o=t[r],u=n[r];if(Ct(o))a.addValue(r,o);else if(Ct(u))a.addValue(r,Xr(o,{owner:a}));else if(u!==o)if(a.hasValue(r)){const d=a.getValue(r);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=a.getStaticValue(r);a.addValue(r,Xr(d!==void 0?d:o,{owner:a}))}}for(const r in n)t[r]===void 0&&a.removeValue(r);return t}const ex=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xT{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=am,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Bt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Fe.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=d;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=Yc(n),this.isVariantNode=$v(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in x){const j=x[v];m[v]!==void 0&&Ct(j)&&j.set(m[v])}}mount(t){var n;this.current=t,pT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),a1.current||gT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=si.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Kr){const n=Kr[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ex.length;r++){const o=ex[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,d=t[u];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=yT(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Xr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Xb(r)||Qb(r))?r=parseFloat(r):!E4(r)&&Xs.test(n)&&(r=Rv(t,n)),this.setBaseTarget(t,Ct(r)?r.get():r)),Ct(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var u;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const d=fm(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);d&&(r=d[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Ct(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Hf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){rm.render(this.render)}}class s1 extends xT{constructor(){super(...arguments),this.KeyframeResolver=p4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ct(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function n1(a,{style:t,vars:n},r,o){const u=a.style;let d;for(d in t)u[d]=t[d];o==null||o.applyProjectionStyles(u,r);for(d in n)u.setProperty(d,n[d])}function bT(a){return window.getComputedStyle(a)}class vT extends s1{constructor(){super(...arguments),this.type="html",this.renderInstance=n1}readValueFromInstance(t,n){var r;if(si.has(n))return(r=this.projection)!=null&&r.isProjecting?Jh(n):PN(t,n);{const o=bT(t),u=(Yf(n)?o.getPropertyValue(n):o[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:n}){return t1(t,n)}build(t,n,r){um(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return mm(t,n,r)}}const r1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wT(a,t,n,r){n1(a,t,void 0,r);for(const o in t.attrs)a.setAttribute(r1.has(o)?o:gm(o),t.attrs[o])}class jT extends s1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(si.has(n)){const r=Cv(n);return r&&r.default||0}return n=r1.has(n)?n:gm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Xv(t,n,r)}build(t,n,r){Hv(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){wT(t,n,r,o)}mount(t){this.isSVGTag=Fv(t.tagName),super.mount(t)}}const kT=(a,t)=>hm(a)?new jT(t):new vT(t,{allowProjection:a!==w.Fragment});function Gr(a,t,n){const r=a.getProps();return fm(r,t,n!==void 0?n:r.custom,a)}const uf=a=>Array.isArray(a);function _T(a,t,n){a.hasValue(t)?a.getValue(t).set(n):a.addValue(t,Xr(n))}function ST(a){return uf(a)?a[a.length-1]||0:a}function NT(a,t){const n=Gr(a,t);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const d in u){const f=ST(u[d]);_T(a,d,f)}}function TT(a){return!!(Ct(a)&&a.add)}function df(a,t){const n=a.getValue("willChange");if(TT(n))return n.add(t);if(!n&&ms.WillChange){const r=new ms.WillChange("auto");a.addValue("willChange",r),r.add(t)}}function i1(a){return a.props[Kv]}const ET=a=>a!==null;function AT(a,{repeat:t,repeatType:n="loop"},r){const o=a.filter(ET),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const CT={type:"spring",stiffness:500,damping:25,restSpeed:10},RT=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),DT={type:"keyframes",duration:.8},MT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OT=(a,{keyframes:t})=>t.length>2?DT:si.has(a)?a.startsWith("scale")?RT(t[1]):CT:MT;function PT({when:a,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:d,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const pm=(a,t,n,r={},o,u)=>d=>{const f=sm(r,a)||{},m=f.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Ua(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-g,onUpdate:v=>{t.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:a,motionValue:t,element:u?void 0:o};PT(f)||Object.assign(y,OT(a,y)),y.duration&&(y.duration=Ua(y.duration)),y.repeatDelay&&(y.repeatDelay=Ua(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(nf(y),y.delay===0&&(x=!0)),(ms.instantAnimations||ms.skipAnimations)&&(x=!0,nf(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,x&&!u&&t.get()!==void 0){const v=AT(y.keyframes,f);if(v!==void 0){Fe.update(()=>{y.onUpdate(v),y.onComplete()});return}}return f.isSync?new tm(y):new n4(y)};function LT({protectedKeys:a,needsAnimating:t},n){const r=a.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function o1(a,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=a.getDefaultTransition(),transitionEnd:d,...f}=t;r&&(u=r);const m=[],g=o&&a.animationState&&a.animationState.getState()[o];for(const y in f){const x=a.getValue(y,a.latestValues[y]??null),v=f[y];if(v===void 0||g&&LT(g,y))continue;const j={delay:n,...sm(u||{},y)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(v)&&v===S&&!j.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const A=i1(a);if(A){const C=window.MotionHandoffAnimation(A,y,Fe);C!==null&&(j.startTime=C,E=!0)}}df(a,y),x.start(pm(y,x,v,a.shouldReduceMotion&&Tv.has(y)?{type:!1}:j,a,E));const T=x.animation;T&&m.push(T)}return d&&Promise.all(m).then(()=>{Fe.update(()=>{d&&NT(a,d)})}),m}function l1(a,t,n,r=0,o=1){const u=Array.from(a).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),d=a.size,f=(d-1)*r;return typeof n=="function"?n(u,d):o===1?u*r:f-u*r}function hf(a,t,n={}){var m;const r=Gr(a,t,n.type==="exit"?(m=a.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=a.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(o1(a,r,n)):()=>Promise.resolve(),d=a.variantChildren&&a.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:v}=o;return UT(a,t,g,y,x,v,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[g,y]=f==="beforeChildren"?[u,d]:[d,u];return g().then(()=>y())}else return Promise.all([u(),d(n.delay)])}function UT(a,t,n=0,r=0,o=0,u=1,d){const f=[];for(const m of a.variantChildren)m.notify("AnimationStart",t),f.push(hf(m,t,{...d,delay:n+(typeof r=="function"?0:r)+l1(a.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function zT(a,t,n={}){a.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>hf(a,u,n));r=Promise.all(o)}else if(typeof t=="string")r=hf(a,t,n);else{const o=typeof t=="function"?Gr(a,t,n.custom):t;r=Promise.all(o1(a,o,n))}return r.then(()=>{a.notify("AnimationComplete",t)})}function c1(a,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==a.length)return!1;for(let r=0;r<n;r++)if(t[r]!==a[r])return!1;return!0}const VT=cm.length;function u1(a){if(!a)return;if(!a.isControllingVariants){const n=a.parent?u1(a.parent)||{}:{};return a.props.initial!==void 0&&(n.initial=a.props.initial),n}const t={};for(let n=0;n<VT;n++){const r=cm[n],o=a.props[r];(_o(o)||o===!1)&&(t[r]=o)}return t}const BT=[...lm].reverse(),$T=lm.length;function qT(a){return t=>Promise.all(t.map(({animation:n,options:r})=>zT(a,n,r)))}function IT(a){let t=qT(a),n=tx(),r=!0;const o=m=>(g,y)=>{var v;const x=Gr(a,y,m==="exit"?(v=a.presenceContext)==null?void 0:v.custom:void 0);if(x){const{transition:j,transitionEnd:S,...E}=x;g={...g,...E,...S}}return g};function u(m){t=m(a)}function d(m){const{props:g}=a,y=u1(a.parent)||{},x=[],v=new Set;let j={},S=1/0;for(let T=0;T<$T;T++){const A=BT[T],C=n[A],N=g[A]!==void 0?g[A]:y[A],P=_o(N),D=A===m?C.isActive:null;D===!1&&(S=T);let z=N===y[A]&&N!==g[A]&&P;if(z&&r&&a.manuallyAnimateOnMount&&(z=!1),C.protectedKeys={...j},!C.isActive&&D===null||!N&&!C.prevProp||Fc(N)||typeof N=="boolean")continue;const F=HT(C.prevProp,N);let W=F||A===m&&C.isActive&&!z&&P||T>S&&P,J=!1;const H=Array.isArray(N)?N:[N];let Z=H.reduce(o(A),{});D===!1&&(Z={});const{prevResolvedValues:Y={}}=C,re={...Y,...Z},ue=G=>{W=!0,v.has(G)&&(J=!0,v.delete(G)),C.needsAnimating[G]=!0;const I=a.getValue(G);I&&(I.liveStyle=!1)};for(const G in re){const I=Z[G],K=Y[G];if(j.hasOwnProperty(G))continue;let _=!1;uf(I)&&uf(K)?_=!c1(I,K):_=I!==K,_?I!=null?ue(G):v.add(G):I!==void 0&&v.has(G)?ue(G):C.protectedKeys[G]=!0}C.prevProp=N,C.prevResolvedValues=Z,C.isActive&&(j={...j,...Z}),r&&a.blockInitialAnimation&&(W=!1);const ne=z&&F;W&&(!ne||J)&&x.push(...H.map(G=>{const I={type:A};if(typeof G=="string"&&r&&!ne&&a.manuallyAnimateOnMount&&a.parent){const{parent:K}=a,_=Gr(K,G);if(K.enteringChildren&&_){const{delayChildren:O}=_.transition||{};I.delay=l1(K.enteringChildren,a,O)}}return{animation:G,options:I}}))}if(v.size){const T={};if(typeof g.initial!="boolean"){const A=Gr(a,Array.isArray(g.initial)?g.initial[0]:g.initial);A&&A.transition&&(T.transition=A.transition)}v.forEach(A=>{const C=a.getBaseTarget(A),N=a.getValue(A);N&&(N.liveStyle=!0),T[A]=C??null}),x.push({animation:T})}let E=!!x.length;return r&&(g.initial===!1||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(E=!1),r=!1,E?t(x):Promise.resolve()}function f(m,g){var x;if(n[m].isActive===g)return Promise.resolve();(x=a.variantChildren)==null||x.forEach(v=>{var j;return(j=v.animationState)==null?void 0:j.setActive(m,g)}),n[m].isActive=g;const y=d(m);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:d,setActive:f,setAnimateFunction:u,getState:()=>n,reset:()=>{n=tx(),r=!0}}}function HT(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!c1(t,a):!1}function wn(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tx(){return{animate:wn(!0),whileInView:wn(),whileHover:wn(),whileTap:wn(),whileDrag:wn(),whileFocus:wn(),exit:wn()}}class Qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class GT extends Qs{constructor(t){super(t),t.animationState||(t.animationState=IT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let FT=0;class YT extends Qs{constructor(){super(...arguments),this.id=FT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const XT={animation:{Feature:GT},exit:{Feature:YT}};function No(a,t,n,r={passive:!0}){return a.addEventListener(t,n,r),()=>a.removeEventListener(t,n)}function Uo(a){return{point:{x:a.pageX,y:a.pageY}}}const KT=a=>t=>im(t)&&a(t,Uo(t));function fo(a,t,n,r){return No(a,t,KT(n),r)}const d1=1e-4,QT=1-d1,WT=1+d1,h1=.01,ZT=0-h1,JT=0+h1;function Ot(a){return a.max-a.min}function eE(a,t,n){return Math.abs(a-t)<=n}function ax(a,t,n,r=.5){a.origin=r,a.originPoint=Qe(t.min,t.max,a.origin),a.scale=Ot(n)/Ot(t),a.translate=Qe(n.min,n.max,a.origin)-a.originPoint,(a.scale>=QT&&a.scale<=WT||isNaN(a.scale))&&(a.scale=1),(a.translate>=ZT&&a.translate<=JT||isNaN(a.translate))&&(a.translate=0)}function mo(a,t,n,r){ax(a.x,t.x,n.x,r?r.originX:void 0),ax(a.y,t.y,n.y,r?r.originY:void 0)}function sx(a,t,n){a.min=n.min+t.min,a.max=a.min+Ot(t)}function tE(a,t,n){sx(a.x,t.x,n.x),sx(a.y,t.y,n.y)}function nx(a,t,n){a.min=t.min-n.min,a.max=a.min+Ot(t)}function go(a,t,n){nx(a.x,t.x,n.x),nx(a.y,t.y,n.y)}function ia(a){return[a("x"),a("y")]}const f1=({current:a})=>a?a.ownerDocument.defaultView:null,rx=(a,t)=>Math.abs(a-t);function aE(a,t){const n=rx(a.x,t.x),r=rx(a.y,t.y);return Math.sqrt(n**2+r**2)}class m1{constructor(t,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Th(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,S=aE(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!S)return;const{point:E}=v,{timestamp:T}=St;this.history.push({...E,timestamp:T});const{onStart:A,onMove:C}=this.handlers;j||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,j)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Nh(j,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(v,j)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Th(v.type==="pointercancel"?this.lastMoveEventInfo:Nh(j,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,A),E&&E(v,A)},!im(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=d,this.contextWindow=o||window;const f=Uo(t),m=Nh(f,this.transformPagePoint),{point:g}=m,{timestamp:y}=St;this.history=[{...g,timestamp:y}];const{onSessionStart:x}=n;x&&x(t,Th(m,this.history)),this.removeListeners=Oo(fo(this.contextWindow,"pointermove",this.handlePointerMove),fo(this.contextWindow,"pointerup",this.handlePointerUp),fo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function Nh(a,t){return t?{point:t(a.point)}:a}function ix(a,t){return{x:a.x-t.x,y:a.y-t.y}}function Th({point:a},t){return{point:a,delta:ix(a,g1(t)),offset:ix(a,sE(t)),velocity:nE(t,.1)}}function sE(a){return a[0]}function g1(a){return a[a.length-1]}function nE(a,t){if(a.length<2)return{x:0,y:0};let n=a.length-1,r=null;const o=g1(a);for(;n>=0&&(r=a[n],!(o.timestamp-r.timestamp>Ua(t)));)n--;if(!r)return{x:0,y:0};const u=za(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const d={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function rE(a,{min:t,max:n},r){return t!==void 0&&a<t?a=r?Qe(t,a,r.min):Math.max(a,t):n!==void 0&&a>n&&(a=r?Qe(n,a,r.max):Math.min(a,n)),a}function ox(a,t,n){return{min:t!==void 0?a.min+t:void 0,max:n!==void 0?a.max+n-(a.max-a.min):void 0}}function iE(a,{top:t,left:n,bottom:r,right:o}){return{x:ox(a.x,n,o),y:ox(a.y,t,r)}}function lx(a,t){let n=t.min-a.min,r=t.max-a.max;return t.max-t.min<a.max-a.min&&([n,r]=[r,n]),{min:n,max:r}}function oE(a,t){return{x:lx(a.x,t.x),y:lx(a.y,t.y)}}function lE(a,t){let n=.5;const r=Ot(a),o=Ot(t);return o>r?n=wo(t.min,t.max-r,a.min):r>o&&(n=wo(a.min,a.max-o,t.min)),fs(0,1,n)}function cE(a,t){const n={};return t.min!==void 0&&(n.min=t.min-a.min),t.max!==void 0&&(n.max=t.max-a.min),n}const ff=.35;function uE(a=ff){return a===!1?a=0:a===!0&&(a=ff),{x:cx(a,"left","right"),y:cx(a,"top","bottom")}}function cx(a,t,n){return{min:ux(a,t),max:ux(a,n)}}function ux(a,t){return typeof a=="number"?a:a[t]||0}const dE=new WeakMap;class hE{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=x=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Uo(x).point)},d=(x,v)=>{const{drag:j,dragPropagation:S,onDragStart:E}=this.getProps();if(j&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v4(j),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ia(A=>{let C=this.getAxisMotionValue(A).get()||0;if(Va.test(C)){const{projection:N}=this.visualElement;if(N&&N.layout){const P=N.layout.layoutBox[A];P&&(C=Ot(P)*(parseFloat(C)/100))}}this.originPoint[A]=C}),E&&Fe.postRender(()=>E(x,v)),df(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},f=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v;const{dragPropagation:j,dragDirectionLock:S,onDirectionLock:E,onDrag:T}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:A}=v;if(S&&this.currentDirection===null){this.currentDirection=fE(A),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),T&&T(x,v)},m=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v,this.stop(x,v),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ia(x=>{var v;return this.getAnimationState(x)==="paused"&&((v=this.getAxisMotionValue(x).animation)==null?void 0:v.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new m1(t,{onSessionStart:u,onStart:d,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:f1(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:d}=o;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&Fe.postRender(()=>f(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!uc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(d=rE(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&zr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=iE(r.layoutBox,t):this.constraints=!1,this.elastic=uE(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ia(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=cE(r.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zr(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=mT(r,o.root,this.visualElement.getTransformPagePoint());let d=oE(o.layout.layoutBox,u);if(n){const f=n(dT(d));this.hasMutatedConstraints=!!f,f&&(d=Zv(f))}return d}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=ia(y=>{if(!uc(y,n,this.currentDirection))return;let x=m&&m[y]||{};d&&(x={min:0,max:0});const v=o?200:1e6,j=o?40:1e7,S={type:"inertia",velocity:r?t[y]:0,bounceStiffness:v,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...u,...x};return this.startAxisValueAnimation(y,S)});return Promise.all(g).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return df(this.visualElement,t),r.start(pm(t,r,0,n,this.visualElement,!1))}stopAnimation(){ia(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ia(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ia(n=>{const{drag:r}=this.getProps();if(!uc(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:d,max:f}=o.layout.layoutBox[n];u.set(t[n]-Qe(d,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ia(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const m=f.get();o[d]=lE({min:m,max:m},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ia(d=>{if(!uc(d,t,null))return;const f=this.getAxisMotionValue(d),{min:m,max:g}=this.constraints[d];f.set(Qe(m,g,o[d]))})}addListeners(){if(!this.visualElement.current)return;dE.set(this.visualElement,this);const t=this.visualElement.current,n=fo(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();zr(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Fe.read(r);const d=No(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ia(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=m[y].translate,x.set(x.get()+m[y].translate))}),this.visualElement.render())});return()=>{d(),n(),u(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:d=ff,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:d,dragMomentum:f}}}function uc(a,t,n){return(t===!0||t===a)&&(n===null||n===a)}function fE(a,t=10){let n=null;return Math.abs(a.y)>t?n="y":Math.abs(a.x)>t&&(n="x"),n}class mE extends Qs{constructor(t){super(t),this.removeGroupControls=oa,this.removeListeners=oa,this.controls=new hE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oa}unmount(){this.removeGroupControls(),this.removeListeners()}}const dx=a=>(t,n)=>{a&&Fe.postRender(()=>a(t,n))};class gE extends Qs{constructor(){super(...arguments),this.removePointerDownListener=oa}onPointerDown(t){this.session=new m1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:f1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:dx(t),onStart:dx(n),onMove:r,onEnd:(u,d)=>{delete this.session,o&&Fe.postRender(()=>o(u,d))}}}mount(){this.removePointerDownListener=fo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hx(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const io={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(ye.test(a))a=parseFloat(a);else return a;const n=hx(a,t.target.x),r=hx(a,t.target.y);return`${n}% ${r}%`}},pE={correct:(a,{treeScale:t,projectionDelta:n})=>{const r=a,o=Xs.parse(a);if(o.length>5)return r;const u=Xs.createTransformer(a),d=typeof o[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;o[0+d]/=f,o[1+d]/=m;const g=Qe(f,m,.5);return typeof o[2+d]=="number"&&(o[2+d]/=g),typeof o[3+d]=="number"&&(o[3+d]/=g),u(o)}};let Eh=!1;class yE extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;V4(xE),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),Eh&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Sc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,{projection:d}=r;return d&&(d.isPresent=u,Eh=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||Fe.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;Eh=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function p1(a){const[t,n]=zv(),r=w.useContext(Uf);return l.jsx(yE,{...a,layoutGroup:r,switchLayoutGroup:w.useContext(Qv),isPresent:t,safeToRemove:n})}const xE={borderRadius:{...io,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:io,borderTopRightRadius:io,borderBottomLeftRadius:io,borderBottomRightRadius:io,boxShadow:pE};function bE(a,t,n){const r=Ct(a)?a:Xr(a);return r.start(pm("",r,t,n)),r.animation}const vE=(a,t)=>a.depth-t.depth;class wE{constructor(){this.children=[],this.isDirty=!1}add(t){Bf(this.children,t),this.isDirty=!0}remove(t){$f(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vE),this.isDirty=!1,this.children.forEach(t)}}function jE(a,t){const n=Bt.now(),r=({timestamp:o})=>{const u=o-n;u>=t&&(Ys(r),a(u-t))};return Fe.setup(r,!0),()=>Ys(r)}const y1=["TopLeft","TopRight","BottomLeft","BottomRight"],kE=y1.length,fx=a=>typeof a=="string"?parseFloat(a):a,mx=a=>typeof a=="number"||ye.test(a);function _E(a,t,n,r,o,u){o?(a.opacity=Qe(0,n.opacity??1,SE(r)),a.opacityExit=Qe(t.opacity??1,0,NE(r))):u&&(a.opacity=Qe(t.opacity??1,n.opacity??1,r));for(let d=0;d<kE;d++){const f=`border${y1[d]}Radius`;let m=gx(t,f),g=gx(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||mx(m)===mx(g)?(a[f]=Math.max(Qe(fx(m),fx(g),r),0),(Va.test(g)||Va.test(m))&&(a[f]+="%")):a[f]=g}(t.rotate||n.rotate)&&(a.rotate=Qe(t.rotate||0,n.rotate||0,r))}function gx(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const SE=x1(0,.5,nv),NE=x1(.5,.95,oa);function x1(a,t,n){return r=>r<a?0:r>t?1:n(wo(a,t,r))}function px(a,t){a.min=t.min,a.max=t.max}function ra(a,t){px(a.x,t.x),px(a.y,t.y)}function yx(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}function xx(a,t,n,r,o){return a-=t,a=Pc(a,1/n,r),o!==void 0&&(a=Pc(a,1/o,r)),a}function TE(a,t=0,n=1,r=.5,o,u=a,d=a){if(Va.test(t)&&(t=parseFloat(t),t=Qe(d.min,d.max,t/100)-d.min),typeof t!="number")return;let f=Qe(u.min,u.max,r);a===u&&(f-=t),a.min=xx(a.min,t,n,f,o),a.max=xx(a.max,t,n,f,o)}function bx(a,t,[n,r,o],u,d){TE(a,t[n],t[r],t[o],t.scale,u,d)}const EE=["x","scaleX","originX"],AE=["y","scaleY","originY"];function vx(a,t,n,r){bx(a.x,t,EE,n?n.x:void 0,r?r.x:void 0),bx(a.y,t,AE,n?n.y:void 0,r?r.y:void 0)}function wx(a){return a.translate===0&&a.scale===1}function b1(a){return wx(a.x)&&wx(a.y)}function jx(a,t){return a.min===t.min&&a.max===t.max}function CE(a,t){return jx(a.x,t.x)&&jx(a.y,t.y)}function kx(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function v1(a,t){return kx(a.x,t.x)&&kx(a.y,t.y)}function _x(a){return Ot(a.x)/Ot(a.y)}function Sx(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}class RE{constructor(){this.members=[]}add(t){Bf(this.members,t),t.scheduleRender()}remove(t){if($f(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DE(a,t,n){let r="";const o=a.x.translate/t.x,u=a.y.translate/t.y,d=(n==null?void 0:n.z)||0;if((o||u||d)&&(r=`translate3d(${o}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:x,rotateY:v,skewX:j,skewY:S}=n;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),x&&(r+=`rotateX(${x}deg) `),v&&(r+=`rotateY(${v}deg) `),j&&(r+=`skewX(${j}deg) `),S&&(r+=`skewY(${S}deg) `)}const f=a.x.scale*t.x,m=a.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Ah=["","X","Y","Z"],ME=1e3;let OE=0;function Ch(a,t,n,r){const{latestValues:o}=t;o[a]&&(n[a]=o[a],t.setStaticValue(a,0),r&&(r[a]=0))}function w1(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const n=i1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=a.options;window.MotionCancelOptimisedAnimation(n,"transform",Fe,!(o||u))}const{parent:r}=a;r&&!r.hasCheckedOptimisedAppear&&w1(r)}function j1({attachResizeListener:a,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(d={},f=t==null?void 0:t()){this.id=OE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UE),this.nodes.forEach($E),this.nodes.forEach(qE),this.nodes.forEach(zE)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new wE)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Hf),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const m=this.eventHandlers.get(d);m&&m.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=Uv(d)&&!N4(d),this.instance=d;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),a){let y,x=0;const v=()=>this.root.updateBlockedByResize=!1;Fe.read(()=>{x=window.innerWidth}),a(d,()=>{const j=window.innerWidth;j!==x&&(x=j,this.root.updateBlockedByResize=!0,y&&y(),y=jE(v,250),Sc.hasAnimatedSinceResize&&(Sc.hasAnimatedSinceResize=!1,this.nodes.forEach(Ex)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x,hasRelativeLayoutChanged:v,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||YE,{onLayoutAnimationStart:E,onLayoutAnimationComplete:T}=g.getProps(),A=!this.targetLayout||!v1(this.targetLayout,j),C=!x&&v;if(this.options.layoutRoot||this.resumeFrom||C||x&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...sm(S,"layout"),onPlay:E,onComplete:T};(g.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(y,C)}else x||Ex(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IE),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&w1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Tx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BE),this.nodes.forEach(PE),this.nodes.forEach(LE)):this.nodes.forEach(Tx),this.clearAllSnapshots();const f=Bt.now();St.delta=fs(0,1e3/60,f-St.timestamp),St.timestamp=f,St.isProcessing=!0,xh.update.process(St),xh.preRender.process(St),xh.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VE),this.sharedNodes.forEach(HE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ot(this.snapshot.measuredBox.x)&&!Ot(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!b1(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(f||_n(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return d&&(m=this.removeTransform(m)),XE(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:d}=this.options;if(!d)return nt();const f=d.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(KE))){const{scroll:y}=this.root;y&&(Vr(f.x,y.offset.x),Vr(f.y,y.offset.y))}return f}removeElementScroll(d){var m;const f=nt();if(ra(f,d),(m=this.scroll)!=null&&m.wasRoot)return f;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:x,options:v}=y;y!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&ra(f,d),Vr(f.x,x.offset.x),Vr(f.y,x.offset.y))}return f}applyTransform(d,f=!1){const m=nt();ra(m,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Br(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),_n(y.latestValues)&&Br(m,y.latestValues)}return _n(this.latestValues)&&Br(m,this.latestValues),m}removeTransform(d){const f=nt();ra(f,d);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!_n(g.latestValues))continue;of(g.latestValues)&&g.updateSnapshot();const y=nt(),x=g.measurePageBox();ra(y,x),vx(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return _n(this.latestValues)&&vx(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var v;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:x}=this.options;if(!(!this.layout||!(y||x))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const j=this.getClosestProjectingParent();j&&j.layout&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),go(this.relativeTargetOrigin,this.layout.layoutBox,j.layout.layoutBox),ra(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ra(this.target,this.layout.layoutBox),e1(this.target,this.targetDelta)):ra(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const j=this.getClosestProjectingParent();j&&!!j.resumingFrom==!!this.resumingFrom&&!j.options.layoutScroll&&j.target&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),go(this.relativeTargetOrigin,this.target,j.target),ra(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||of(this.parent.latestValues)||Jv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===St.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ra(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,v=this.treeScale.y;fT(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=nt());const{target:j}=d;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yx(this.prevProjectionDelta.x,this.projectionDelta.x),yx(this.prevProjectionDelta.y,this.projectionDelta.y)),mo(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==v||!Sx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Sx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),d){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$r(),this.projectionDelta=$r(),this.projectionDeltaWithTransform=$r()}setAnimationOrigin(d,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},x=$r();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=nt(),j=m?m.source:void 0,S=this.layout?this.layout.source:void 0,E=j!==S,T=this.getStack(),A=!T||T.members.length<=1,C=!!(E&&!A&&this.options.crossfade===!0&&!this.path.some(FE));this.animationProgress=0;let N;this.mixTargetDelta=P=>{const D=P/1e3;Ax(x.x,d.x,D),Ax(x.y,d.y,D),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(go(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GE(this.relativeTarget,this.relativeTargetOrigin,v,D),N&&CE(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=nt()),ra(N,this.relativeTarget)),E&&(this.animationValues=y,_E(y,g,this.latestValues,D,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){var f,m,g;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(g=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{Sc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xr(0)),this.currentAnimation=bE(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),d.onUpdate&&d.onUpdate(y)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ME),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=d;if(!(!f||!m||!g)){if(this!==d&&this.layout&&g&&k1(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||nt();const x=Ot(this.layout.layoutBox.x);m.x.min=d.target.x.min,m.x.max=m.x.min+x;const v=Ot(this.layout.layoutBox.y);m.y.min=d.target.y.min,m.y.max=m.y.min+v}ra(f,m),Br(f,y),mo(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new RE),this.sharedNodes.get(d).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var f;const{layoutId:d}=this.options;return d?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:d}=this.options;return d?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:m}=d;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&Ch("z",d,g,this.animationValues);for(let y=0;y<Ah.length;y++)Ch(`rotate${Ah[y]}`,d,g,this.animationValues),Ch(`skew${Ah[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=_c(f==null?void 0:f.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=_c(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!_n(this.latestValues)&&(d.transform=m?m({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let x=DE(this.projectionDeltaWithTransform,this.treeScale,y);m&&(x=m(y,x)),d.transform=x;const{x:v,y:j}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${j.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in So){if(y[S]===void 0)continue;const{correct:E,applyTo:T,isCSSVariable:A}=So[S],C=x==="none"?y[S]:E(y[S],g);if(T){const N=T.length;for(let P=0;P<N;P++)d[T[P]]=C}else A?this.options.visualElement.renderState.vars[S]=C:d[S]=C}this.options.layoutId&&(d.pointerEvents=g===this?_c(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var f;return(f=d.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Nx),this.root.sharedNodes.clear()}}}function PE(a){a.updateLayout()}function LE(a){var n;const t=((n=a.resumeFrom)==null?void 0:n.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&t&&a.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=a.layout,{animationType:u}=a.options,d=t.source!==a.layout.source;u==="size"?ia(x=>{const v=d?t.measuredBox[x]:t.layoutBox[x],j=Ot(v);v.min=r[x].min,v.max=v.min+j}):k1(u,t.layoutBox,r)&&ia(x=>{const v=d?t.measuredBox[x]:t.layoutBox[x],j=Ot(r[x]);v.max=v.min+j,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[x].max=a.relativeTarget[x].min+j)});const f=$r();mo(f,r,t.layoutBox);const m=$r();d?mo(m,a.applyTransform(o,!0),t.measuredBox):mo(m,r,t.layoutBox);const g=!b1(f);let y=!1;if(!a.resumeFrom){const x=a.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:j}=x;if(v&&j){const S=nt();go(S,t.layoutBox,v.layoutBox);const E=nt();go(E,r,j.layoutBox),v1(S,E)||(y=!0),x.options.layoutRoot&&(a.relativeTarget=E,a.relativeTargetOrigin=S,a.relativeParent=x)}}}a.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(a.isLead()){const{onExitComplete:r}=a.options;r&&r()}a.options.transition=void 0}function UE(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function zE(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function VE(a){a.clearSnapshot()}function Nx(a){a.clearMeasurements()}function Tx(a){a.isLayoutDirty=!1}function BE(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function Ex(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function $E(a){a.resolveTargetDelta()}function qE(a){a.calcProjection()}function IE(a){a.resetSkewAndRotation()}function HE(a){a.removeLeadSnapshot()}function Ax(a,t,n){a.translate=Qe(t.translate,0,n),a.scale=Qe(t.scale,1,n),a.origin=t.origin,a.originPoint=t.originPoint}function Cx(a,t,n,r){a.min=Qe(t.min,n.min,r),a.max=Qe(t.max,n.max,r)}function GE(a,t,n,r){Cx(a.x,t.x,n.x,r),Cx(a.y,t.y,n.y,r)}function FE(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const YE={duration:.45,ease:[.4,0,.1,1]},Rx=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),Dx=Rx("applewebkit/")&&!Rx("chrome/")?Math.round:oa;function Mx(a){a.min=Dx(a.min),a.max=Dx(a.max)}function XE(a){Mx(a.x),Mx(a.y)}function k1(a,t,n){return a==="position"||a==="preserve-aspect"&&!eE(_x(t),_x(n),.2)}function KE(a){var t;return a!==a.root&&((t=a.scroll)==null?void 0:t.wasRoot)}const QE=j1({attachResizeListener:(a,t)=>No(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rh={current:void 0},_1=j1({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Rh.current){const a=new QE({});a.mount(window),a.setOptions({layoutScroll:!0}),Rh.current=a}return Rh.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),WE={pan:{Feature:gE},drag:{Feature:mE,ProjectionNode:_1,MeasureLayout:p1}};function Ox(a,t,n){const{props:r}=a;a.animationState&&r.whileHover&&a.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&Fe.postRender(()=>u(t,Uo(t)))}class ZE extends Qs{mount(){const{current:t}=this.node;t&&(this.unmount=w4(t,(n,r)=>(Ox(this.node,r,"Start"),o=>Ox(this.node,o,"End"))))}unmount(){}}class JE extends Qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oo(No(this.node.current,"focus",()=>this.onFocus()),No(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Px(a,t,n){const{props:r}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&r.whileTap&&a.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&Fe.postRender(()=>u(t,Uo(t)))}class eA extends Qs{mount(){const{current:t}=this.node;t&&(this.unmount=S4(t,(n,r)=>(Px(this.node,r,"Start"),(o,{success:u})=>Px(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mf=new WeakMap,Dh=new WeakMap,tA=a=>{const t=mf.get(a.target);t&&t(a)},aA=a=>{a.forEach(tA)};function sA({root:a,...t}){const n=a||document;Dh.has(n)||Dh.set(n,{});const r=Dh.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(aA,{root:a,...t})),r[o]}function nA(a,t,n){const r=sA(t);return mf.set(a,n),r.observe(a),()=>{mf.delete(a),r.unobserve(a)}}const rA={some:0,all:1};class iA extends Qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=t,d={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:rA[o]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),v=g?y:x;v&&v(m)};return nA(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(oA(t,n))&&this.startObserver()}unmount(){}}function oA({viewport:a={}},{viewport:t={}}={}){return n=>a[n]!==t[n]}const lA={inView:{Feature:iA},tap:{Feature:eA},focus:{Feature:JE},hover:{Feature:ZE}},cA={layout:{ProjectionNode:_1,MeasureLayout:p1}},uA={...XT,...lA,...WE,...cA},Re=uT(uA,kT),S1=()=>{const{theme:a,toggleTheme:t}=DS();return l.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full flex items-center justify-center text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors","aria-label":"Toggle theme",children:l.jsx(ni,{initial:!1,mode:"wait",children:l.jsx(Re.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:a==="light"?l.jsx(xS,{className:"w-5 h-5"}):l.jsx(F_,{className:"w-5 h-5"})},a)})})},dA="modulepreload",hA=function(a){return"/"+a},Lx={},zo=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let d=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=d(n.map(g=>{if(g=hA(g),g in Lx)return;Lx[g]=!0;const y=g.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":dA,y||(v.as="script"),v.crossOrigin="",v.href=g,m&&v.setAttribute("nonce",m),document.head.appendChild(v),y)return new Promise((j,S)=>{v.addEventListener("load",j),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return o.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})},fA=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...n)=>zo(async()=>{const{default:r}=await Promise.resolve().then(()=>ri);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ym extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class mA extends ym{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ux extends ym{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zx extends ym{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gf;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(gf||(gf={}));var gA=function(a,t,n,r){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(y){try{g(r.next(y))}catch(x){d(x)}}function m(y){try{g(r.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):o(y.value).then(f,m)}g((r=r.apply(a,t||[])).next())})};class pA{constructor(t,{headers:n={},customFetch:r,region:o=gf.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=fA(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return gA(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:d}=n;let f={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${t}`);m&&m!=="any"&&(f["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let y;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(f["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(f["Content-Type"]="application/json",y=JSON.stringify(d)));const x=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:y}).catch(E=>{throw new mA(E)}),v=x.headers.get("x-relay-error");if(v&&v==="true")throw new Ux(x);if(!x.ok)throw new zx(x);let j=((r=x.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return j==="application/json"?S=yield x.json():j==="application/octet-stream"?S=yield x.blob():j==="text/event-stream"?S=x:j==="multipart/form-data"?S=yield x.formData():S=yield x.text(),{data:S,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof zx||o instanceof Ux?o.context:void 0}}})}}var yt={},kr={},_r={},Sr={},Nr={},Tr={},yA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qr=yA();const xA=Qr.fetch,N1=Qr.fetch.bind(Qr),T1=Qr.Headers,bA=Qr.Request,vA=Qr.Response,ri=Object.freeze(Object.defineProperty({__proto__:null,Headers:T1,Request:bA,Response:vA,default:N1,fetch:xA},Symbol.toStringTag,{value:"Module"})),wA=ij(ri);var dc={},Vx;function E1(){if(Vx)return dc;Vx=1,Object.defineProperty(dc,"__esModule",{value:!0});class a extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return dc.default=a,dc}var Bx;function A1(){if(Bx)return Tr;Bx=1;var a=Tr&&Tr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Tr,"__esModule",{value:!0});const t=a(wA),n=a(E1());class r{constructor(u){var d,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(d=u.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=new Headers(this.headers),this.headers.set(u,d),this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,x,v,j;let S=null,E=null,T=null,A=g.status,C=g.statusText;if(g.ok){if(this.method!=="HEAD"){const z=await g.text();z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?E=z:E=JSON.parse(z))}const P=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),D=(v=g.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");P&&D&&D.length>1&&(T=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(S={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,T=null,A=406,C="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const P=await g.text();try{S=JSON.parse(P),Array.isArray(S)&&g.status===404&&(E=[],S=null,A=200,C="OK")}catch{g.status===404&&P===""?(A=204,C="No Content"):S={message:P}}if(S&&this.isMaybeSingle&&(!((j=S==null?void 0:S.details)===null||j===void 0)&&j.includes("0 rows"))&&(S=null,A=200,C="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:E,count:T,status:A,statusText:C}});return this.shouldThrowOnError||(m=m.catch(g=>{var y,x,v;return{error:{message:`${(y=g==null?void 0:g.name)!==null&&y!==void 0?y:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(x=g==null?void 0:g.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(v=g==null?void 0:g.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,d)}returns(){return this}overrideTypes(){return this}}return Tr.default=r,Tr}var $x;function C1(){if($x)return Nr;$x=1;var a=Nr&&Nr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nr,"__esModule",{value:!0});const t=a(A1());class n extends t.default{select(o){let u=!1;const d=(o??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:d,foreignTable:f,referencedTable:m=f}={}){const g=m?`${m}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${o}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,u,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(g,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:d=!1,buffers:f=!1,wal:m=!1,format:g="text"}={}){var y;const x=[o?"analyze":null,u?"verbose":null,d?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),v=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${v}"; options=${x};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Nr.default=n,Nr}var qx;function xm(){if(qx)return Sr;qx=1;var a=Sr&&Sr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sr,"__esModule",{value:!0});const t=a(C1());class n extends t.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const d=Array.from(new Set(u)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:d,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${m}fts${g}.${u}`),this}match(o){return Object.entries(o).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(o,u,d){return this.url.searchParams.append(o,`not.${u}.${d}`),this}or(o,{foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,u,d){return this.url.searchParams.append(o,`${u}.${d}`),this}}return Sr.default=n,Sr}var Ix;function R1(){if(Ix)return _r;Ix=1;var a=_r&&_r.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_r,"__esModule",{value:!0});const t=a(xm());class n{constructor(o,{headers:u={},schema:d,fetch:f}){this.url=o,this.headers=new Headers(u),this.schema=d,this.fetch=f}select(o,{head:u=!1,count:d}={}){const f=u?"HEAD":"GET";let m=!1;const g=(o??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:d=!0}={}){var f;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(g.length>0){const y=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:d=!1,count:f,defaultToNull:m=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const x=o.reduce((v,j)=>v.concat(Object.keys(j)),[]);if(x.length>0){const v=[...new Set(x)].map(j=>`"${j}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:u}={}){var d;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var u;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return _r.default=n,_r}var Hx;function jA(){if(Hx)return kr;Hx=1;var a=kr&&kr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(kr,"__esModule",{value:!0});const t=a(R1()),n=a(xm());class r{constructor(u,{headers:d={},schema:f,fetch:m}={}){this.url=u,this.headers=new Headers(d),this.schemaName=f,this.fetch=m}from(u){const d=new URL(`${this.url}/${u}`);return new t.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new r(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:m=!1,count:g}={}){var y;let x;const v=new URL(`${this.url}/rpc/${u}`);let j;f||m?(x=f?"HEAD":"GET",Object.entries(d).filter(([E,T])=>T!==void 0).map(([E,T])=>[E,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([E,T])=>{v.searchParams.append(E,T)})):(x="POST",j=d);const S=new Headers(this.headers);return g&&S.set("Prefer",`count=${g}`),new n.default({method:x,url:v,headers:S,schema:this.schemaName,body:j,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return kr.default=r,kr}var Gx;function kA(){if(Gx)return yt;Gx=1;var a=yt&&yt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const t=a(jA());yt.PostgrestClient=t.default;const n=a(R1());yt.PostgrestQueryBuilder=n.default;const r=a(xm());yt.PostgrestFilterBuilder=r.default;const o=a(C1());yt.PostgrestTransformBuilder=o.default;const u=a(A1());yt.PostgrestBuilder=u.default;const d=a(E1());return yt.PostgrestError=d.default,yt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:d.default},yt}var _A=kA();const SA=yb(_A),{PostgrestClient:NA,PostgrestQueryBuilder:H6,PostgrestFilterBuilder:G6,PostgrestTransformBuilder:F6,PostgrestBuilder:Y6,PostgrestError:X6}=SA;class TA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const EA="2.15.4",AA=`realtime-js/${EA}`,CA="1.0.0",pf=1e4,RA=1e3,DA=100;var po;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(po||(po={}));var ht;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(ht||(ht={}));var ya;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(ya||(ya={}));var yf;(function(a){a.websocket="websocket"})(yf||(yf={}));var Tn;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Tn||(Tn={}));class MA{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),u=n.getUint8(2);let d=this.HEADER_LENGTH+2;const f=r.decode(t.slice(d,d+o));d=d+o;const m=r.decode(t.slice(d,d+u));d=d+u;const g=JSON.parse(r.decode(t.slice(d,t.byteLength)));return{ref:null,topic:f,event:m,payload:g}}}class D1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(qe||(qe={}));const Fx=(a,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((u,d)=>(u[d]=OA(d,a,t,o),u),{})},OA=(a,t,n,r)=>{const o=t.find(f=>f.name===a),u=o==null?void 0:o.type,d=n[a];return u&&!r.includes(u)?M1(u,d):xf(d)},M1=(a,t)=>{if(a.charAt(0)==="_"){const n=a.slice(1,a.length);return zA(t,n)}switch(a){case qe.bool:return PA(t);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return LA(t);case qe.json:case qe.jsonb:return UA(t);case qe.timestamp:return VA(t);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return xf(t);default:return xf(t)}},xf=a=>a,PA=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},LA=a=>{if(typeof a=="string"){const t=parseFloat(a);if(!Number.isNaN(t))return t}return a},UA=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(t){return console.log(`JSON parse error: ${t}`),a}return a},zA=(a,t)=>{if(typeof a!="string")return a;const n=a.length-1,r=a[n];if(a[0]==="{"&&r==="}"){let u;const d=a.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>M1(t,f))}return a},VA=a=>typeof a=="string"?a.replace(" ","T"):a,O1=a=>{let t=a;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Mh{constructor(t,n,r={},o=pf){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yx;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Yx||(Yx={}));class yo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yo.syncState(this.state,o,u,d),this.pendingDiffs.forEach(m=>{this.state=yo.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=yo.syncDiff(this.state,o,u,d),f())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const u=this.cloneDeep(t),d=this.transformState(n),f={},m={};return this.map(u,(g,y)=>{d[g]||(m[g]=y)}),this.map(d,(g,y)=>{const x=u[g];if(x){const v=y.map(T=>T.presence_ref),j=x.map(T=>T.presence_ref),S=y.filter(T=>j.indexOf(T.presence_ref)<0),E=x.filter(T=>v.indexOf(T.presence_ref)<0);S.length>0&&(f[g]=S),E.length>0&&(m[g]=E)}else f[g]=y}),this.syncDiff(u,{joins:f,leaves:m},r,o)}static syncDiff(t,n,r,o){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(u,(f,m)=>{var g;const y=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(m),y.length>0){const x=t[f].map(j=>j.presence_ref),v=y.filter(j=>x.indexOf(j.presence_ref)<0);t[f].unshift(...v)}r(f,y,m)}),this.map(d,(f,m)=>{let g=t[f];if(!g)return;const y=m.map(x=>x.presence_ref);g=g.filter(x=>y.indexOf(x.presence_ref)<0),t[f]=g,o(f,g,m),g.length===0&&delete t[f]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xx;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Xx||(Xx={}));var xo;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(xo||(xo={}));var us;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(us||(us={}));class bm{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mh(this,ya.join,this.params,this.timeout),this.rejoinTimer=new D1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ya.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new yo(this),this.broadcastEndpointURL=O1(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:d,presence:f,private:m}}=this.params,g=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(j=>j.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[xo.PRESENCE]&&this.bindings[xo.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,x={},v={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(j=>t==null?void 0:t(us.CHANNEL_ERROR,j)),this._onClose(()=>t==null?void 0:t(us.CLOSED)),this.updateJoinPayload(Object.assign({config:v},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:j})=>{var S;if(this.socket.setAuth(),j===void 0){t==null||t(us.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,A=[];for(let C=0;C<T;C++){const N=E[C],{filter:{event:P,schema:D,table:z,filter:F}}=N,W=j&&j[C];if(W&&W.event===P&&W.schema===D&&W.table===z&&W.filter===F)A.push(Object.assign(Object.assign({},N),{id:W.id}));else{this.unsubscribe(),this.state=ht.errored,t==null||t(us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(us.SUBSCRIBED);return}}).receive("error",j=>{this.state=ht.errored,t==null||t(us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ht.joined&&t===xo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:d}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,m;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ya.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Mh(this,ya.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const o=new AbortController,u=setTimeout(()=>o.abort(),r),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(u),d}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Mh(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>DA){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,u;const d=t.toLocaleLowerCase(),{close:f,error:m,leave:g,join:y}=ya;if(r&&[f,m,g,y].indexOf(d)>=0&&r!==this._joinRef())return;let v=this._onMessage(d,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(j=>{var S,E,T;return((S=j.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(E=j.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===d}).map(j=>j.callback(v,r)):(u=this.bindings[d])===null||u===void 0||u.filter(j=>{var S,E,T,A,C,N;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const P=j.id,D=(S=j.filter)===null||S===void 0?void 0:S.event;return P&&((E=n.ids)===null||E===void 0?void 0:E.includes(P))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const P=(C=(A=j==null?void 0:j.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return P==="*"||P===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:E,table:T,commit_timestamp:A,type:C,errors:N}=S;v=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:A,eventType:C,new:{},old:{},errors:N}),this._getPayloadRecords(S))}j.callback(v,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),u={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&bm.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ya.close,{},t)}_onError(t){this._on(ya.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Fx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Fx(t.columns,t.old_record)),n}}const Oh=()=>{},hc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},BA=[1e3,2e3,5e3,1e4],$A=1e4,qA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class IA{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pf,this.transport=null,this.heartbeatIntervalMs=hc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oh,this.ref=0,this.reconnectTimer=null,this.logger=Oh,this.conn=null,this.sendBuffer=[],this.serializer=new MA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...d)=>zo(async()=>{const{default:f}=await Promise.resolve().then(()=>ri);return{default:f}},void 0).then(({default:f})=>f(...d)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...d)=>u(...d)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${yf.websocket}`,this.httpEndpoint=O1(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:CA}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case po.connecting:return Tn.Connecting;case po.open:return Tn.Open;case po.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===r);if(o)return o;{const u=new bm(`realtime:${t}`,n,this);return this.channels.push(u),u}}push(t){const{topic:n,event:r,payload:o,ref:u}=t,d=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${r} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RA,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:u,ref:d}=n,f=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${r} ${o} ${f}`.trim(),u),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(o,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ya.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([qA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:AA};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(ya.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new D1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,u,d,f,m,g,y;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:pf,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:hc.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t==null?void 0:t.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:Oh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:x=>BA[x-1]||$A,this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:(x,v)=>v(JSON.stringify(x)),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class vm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ft(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class HA extends vm{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bf extends vm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var GA=function(a,t,n,r){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(y){try{g(r.next(y))}catch(x){d(x)}}function m(y){try{g(r.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):o(y.value).then(f,m)}g((r=r.apply(a,t||[])).next())})};const P1=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...n)=>zo(async()=>{const{default:r}=await Promise.resolve().then(()=>ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},FA=()=>GA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zo(()=>Promise.resolve().then(()=>ri),void 0)).Response:Response}),vf=a=>{if(Array.isArray(a))return a.map(n=>vf(n));if(typeof a=="function"||a!==Object(a))return a;const t={};return Object.entries(a).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=vf(r)}),t},YA=a=>{if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)};var Ln=function(a,t,n,r){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(y){try{g(r.next(y))}catch(x){d(x)}}function m(y){try{g(r.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):o(y.value).then(f,m)}g((r=r.apply(a,t||[])).next())})};const Ph=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),XA=(a,t,n)=>Ln(void 0,void 0,void 0,function*(){const r=yield FA();a instanceof r&&!(n!=null&&n.noResolveJson)?a.json().then(o=>{const u=a.status||500,d=(o==null?void 0:o.statusCode)||u+"";t(new HA(Ph(o),u,d))}).catch(o=>{t(new bf(Ph(o),o))}):t(new bf(Ph(a),a))}),KA=(a,t,n,r)=>{const o={method:a,headers:(t==null?void 0:t.headers)||{}};return a==="GET"||!r?o:(YA(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function Vo(a,t,n,r,o,u){return Ln(this,void 0,void 0,function*(){return new Promise((d,f)=>{a(n,KA(t,r,o,u)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>XA(m,f,r))})})}function Lc(a,t,n,r){return Ln(this,void 0,void 0,function*(){return Vo(a,"GET",t,n,r)})}function Oa(a,t,n,r,o){return Ln(this,void 0,void 0,function*(){return Vo(a,"POST",t,r,o,n)})}function wf(a,t,n,r,o){return Ln(this,void 0,void 0,function*(){return Vo(a,"PUT",t,r,o,n)})}function QA(a,t,n,r){return Ln(this,void 0,void 0,function*(){return Vo(a,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function L1(a,t,n,r,o){return Ln(this,void 0,void 0,function*(){return Vo(a,"DELETE",t,r,o,n)})}var Mt=function(a,t,n,r){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(y){try{g(r.next(y))}catch(x){d(x)}}function m(y){try{g(r.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):o(y.value).then(f,m)}g((r=r.apply(a,t||[])).next())})};const WA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZA{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=P1(o)}uploadOrUpdate(t,n,r,o){return Mt(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Kx),o);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=r,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o!=null&&o.headers&&(f=Object.assign(Object.assign({},f),o.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),x=yield(t=="PUT"?wf:Oa)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:x.Id,fullPath:x.Key},error:null}}catch(u){if(ft(u))return{data:null,error:u};throw u}})}upload(t,n,r){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Mt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),d=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",n);try{let m;const g=Object.assign({upsert:Kx.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",g.cacheControl)):(m=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const x=yield wf(this.fetch,f.toString(),m,{headers:y});return{data:{path:u,fullPath:x.Key},error:null}}catch(m){if(ft(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return Mt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const u=yield Oa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),d=new URL(this.url+u.url),f=d.searchParams.get("token");if(!f)throw new vm("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:f},error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}update(t,n,r){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Mt(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(ft(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Mt(this,void 0,void 0,function*(){try{return{data:{path:(yield Oa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(ft(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Mt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),u=yield Oa(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(ft(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Mt(this,void 0,void 0,function*(){try{const o=yield Oa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(ft(o))return{data:null,error:o};throw o}})}download(t,n){return Mt(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield Lc(this.fetch,`${this.url}/${o}/${f}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(ft(f))return{data:null,error:f};throw f}})}info(t){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Lc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vf(r),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}exists(t){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield QA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ft(r)&&r instanceof bf){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&o.push(u);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&o.push(m);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${g}`)}}}remove(t){return Mt(this,void 0,void 0,function*(){try{return{data:yield L1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}list(t,n,r){return Mt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},WA),n),{prefix:t||""});return{data:yield Oa(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(ft(o))return{data:null,error:o};throw o}})}listV2(t,n){return Mt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Oa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const JA="2.11.1",e5={"X-Client-Info":`storage-js/${JA}`};var Er=function(a,t,n,r){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(y){try{g(r.next(y))}catch(x){d(x)}}function m(y){try{g(r.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):o(y.value).then(f,m)}g((r=r.apply(a,t||[])).next())})};class t5{constructor(t,n={},r,o){const u=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},e5),n),this.fetch=P1(r)}listBuckets(){return Er(this,void 0,void 0,function*(){try{return{data:yield Lc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ft(t))return{data:null,error:t};throw t}})}getBucket(t){return Er(this,void 0,void 0,function*(){try{return{data:yield Lc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Er(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Er(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Er(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Er(this,void 0,void 0,function*(){try{return{data:yield L1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}}class a5 extends t5{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new ZA(this.url,this.headers,t,this.fetch)}}const s5="2.57.0";let lo="";typeof Deno<"u"?lo="deno":typeof document<"u"?lo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lo="react-native":lo="node";const n5={"X-Client-Info":`supabase-js-${lo}/${s5}`},r5={headers:n5},i5={schema:"public"},o5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l5={};var c5=function(a,t,n,r){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(y){try{g(r.next(y))}catch(x){d(x)}}function m(y){try{g(r.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):o(y.value).then(f,m)}g((r=r.apply(a,t||[])).next())})};const u5=a=>{let t;return a?t=a:typeof fetch>"u"?t=N1:t=fetch,(...n)=>t(...n)},d5=()=>typeof Headers>"u"?T1:Headers,h5=(a,t,n)=>{const r=u5(n),o=d5();return(u,d)=>c5(void 0,void 0,void 0,function*(){var f;const m=(f=yield t())!==null&&f!==void 0?f:a;let g=new o(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),r(u,Object.assign(Object.assign({},d),{headers:g}))})};var f5=function(a,t,n,r){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(y){try{g(r.next(y))}catch(x){d(x)}}function m(y){try{g(r.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):o(y.value).then(f,m)}g((r=r.apply(a,t||[])).next())})};function m5(a){return a.endsWith("/")?a:a+"/"}function g5(a,t){var n,r;const{db:o,auth:u,realtime:d,global:f}=a,{db:m,auth:g,realtime:y,global:x}=t,v={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},x),f),{headers:Object.assign(Object.assign({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f5(this,void 0,void 0,function*(){return""})};return a.accessToken?v.accessToken=a.accessToken:delete v.accessToken,v}const U1="2.71.1",Pr=30*1e3,jf=3,Lh=jf*Pr,p5="http://localhost:9999",y5="supabase.auth.token",x5={"X-Client-Info":`gotrue-js/${U1}`},kf="X-Supabase-Api-Version",z1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,v5=10*60*1e3;class wm extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ve(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class w5 extends wm{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function j5(a){return ve(a)&&a.name==="AuthApiError"}class V1 extends wm{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ws extends wm{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class Is extends Ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k5(a){return ve(a)&&a.name==="AuthSessionMissingError"}class fc extends Ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mc extends Ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gc extends Ws{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _5(a){return ve(a)&&a.name==="AuthImplicitGrantRedirectError"}class Qx extends Ws{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _f extends Ws{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Uh(a){return ve(a)&&a.name==="AuthRetryableFetchError"}class Wx extends Ws{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Sf extends Ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zx=` 	
\r=`.split(""),S5=(()=>{const a=new Array(128);for(let t=0;t<a.length;t+=1)a[t]=-1;for(let t=0;t<Zx.length;t+=1)a[Zx[t].charCodeAt(0)]=-2;for(let t=0;t<Uc.length;t+=1)a[Uc[t].charCodeAt(0)]=t;return a})();function Jx(a,t,n){if(a!==null)for(t.queue=t.queue<<8|a,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Uc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Uc[r]),t.queuedBits-=6}}function B1(a,t,n){const r=S5[a];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function eb(a){const t=[],n=d=>{t.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{E5(d,r,n)};for(let d=0;d<a.length;d+=1)B1(a.charCodeAt(d),o,u);return t.join("")}function N5(a,t){if(a<=127){t(a);return}else if(a<=2047){t(192|a>>6),t(128|a&63);return}else if(a<=65535){t(224|a>>12),t(128|a>>6&63),t(128|a&63);return}else if(a<=1114111){t(240|a>>18),t(128|a>>12&63),t(128|a>>6&63),t(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function T5(a,t){for(let n=0;n<a.length;n+=1){let r=a.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(a.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}N5(r,t)}}function E5(a,t,n){if(t.utf8seq===0){if(a<=127){n(a);return}for(let r=1;r<6;r+=1)if((a>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=a&31;else if(t.utf8seq===3)t.codepoint=a&15;else if(t.utf8seq===4)t.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|a&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function A5(a){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<a.length;o+=1)B1(a.charCodeAt(o),n,r);return new Uint8Array(t)}function C5(a){const t=[];return T5(a,n=>t.push(n)),new Uint8Array(t)}function R5(a){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return a.forEach(o=>Jx(o,n,r)),Jx(null,n,r),t.join("")}function D5(a){return Math.round(Date.now()/1e3)+a}function M5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const t=Math.random()*16|0;return(a=="x"?t:t&3|8).toString(16)})}const ga=()=>typeof window<"u"&&typeof document<"u",jn={tested:!1,writable:!1},$1=()=>{if(!ga())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jn.tested)return jn.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),jn.tested=!0,jn.writable=!0}catch{jn.tested=!0,jn.writable=!1}return jn.writable};function O5(a){const t={},n=new URL(a);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const q1=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...n)=>zo(async()=>{const{default:r}=await Promise.resolve().then(()=>ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},P5=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Lr=async(a,t,n)=>{await a.setItem(t,JSON.stringify(n))},kn=async(a,t)=>{const n=await a.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bs=async(a,t)=>{await a.removeItem(t)};class Xc{constructor(){this.promise=new Xc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Xc.promiseConstructor=Promise;function zh(a){const t=a.split(".");if(t.length!==3)throw new Sf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!b5.test(t[r]))throw new Sf("JWT not in base64url format");return{header:JSON.parse(eb(t[0])),payload:JSON.parse(eb(t[1])),signature:A5(t[2]),raw:{header:t[0],payload:t[1]}}}async function L5(a){return await new Promise(t=>{setTimeout(()=>t(null),a)})}function U5(a,t){return new Promise((r,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await a(u);if(!t(u,null,d)){r(d);return}}catch(d){if(!t(u,d)){o(d);return}}})()})}function z5(a){return("0"+a.toString(16)).substr(-2)}function V5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let u=0;u<56;u++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,z5).join("")}async function B5(a){const n=new TextEncoder().encode(a),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function $5(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const n=await B5(a);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ar(a,t,n=!1){const r=V5();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Lr(a,`${t}-code-verifier`,o);const u=await $5(r);return[u,r===u?"plain":"s256"]}const q5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I5(a){const t=a.headers.get(kf);if(!t||!t.match(q5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function H5(a){if(!a)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(a<=t)throw new Error("JWT has expired")}function G5(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const F5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(a){if(!F5.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vh(){const a={};return new Proxy(a,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tb(a){return JSON.parse(JSON.stringify(a))}var Y5=function(a,t){var n={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&t.indexOf(r)<0&&(n[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(a);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(a,r[o])&&(n[r[o]]=a[r[o]]);return n};const Sn=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),X5=[502,503,504];async function ab(a){var t;if(!P5(a))throw new _f(Sn(a),0);if(X5.includes(a.status))throw new _f(Sn(a),a.status);let n;try{n=await a.json()}catch(u){throw new V1(Sn(u),u)}let r;const o=I5(a);if(o&&o.getTime()>=z1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wx(Sn(n),a.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Is}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Wx(Sn(n),a.status,n.weak_password.reasons);throw new w5(Sn(n),a.status||500,r)}const K5=(a,t,n,r)=>{const o={method:a,headers:(t==null?void 0:t.headers)||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function Te(a,t,n,r){var o;const u=Object.assign({},r==null?void 0:r.headers);u[kf]||(u[kf]=z1["2024-01-01"].name),r!=null&&r.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const d=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(d.redirect_to=r.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await Q5(a,t,n+f,{headers:u,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function Q5(a,t,n,r,o,u){const d=K5(t,r,o,u);let f;try{f=await a(n,Object.assign({},d))}catch(m){throw console.error(m),new _f(Sn(m),0)}if(f.ok||await ab(f),r!=null&&r.noResolveJson)return f;try{return await f.json()}catch(m){await ab(m)}}function cs(a){var t;let n=null;eC(a)&&(n=Object.assign({},a),a.expires_at||(n.expires_at=D5(a.expires_in)));const r=(t=a.user)!==null&&t!==void 0?t:a;return{data:{session:n,user:r},error:null}}function sb(a){const t=cs(a);return!t.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=a.weak_password),t}function Hs(a){var t;return{data:{user:(t=a.user)!==null&&t!==void 0?t:a},error:null}}function W5(a){return{data:a,error:null}}function Z5(a){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:u}=a,d=Y5(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:u},m=Object.assign({},d);return{data:{properties:f,user:m},error:null}}function J5(a){return a}function eC(a){return a.access_token&&a.refresh_token&&a.expires_in}const Bh=["global","local","others"];var tC=function(a,t){var n={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&t.indexOf(r)<0&&(n[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(a);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(a,r[o])&&(n[r[o]]=a[r[o]]);return n};class aC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=q1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Bh[0]){if(Bh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bh.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Hs})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=tC(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Z5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hs})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,u,d,f,m;try{const g={nextPage:null,lastPage:0,total:0},y=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(u=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:J5});if(y.error)throw y.error;const x=await y.json(),v=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return j.length>0&&(j.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);g[`${T}Page`]=E}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(ve(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Cr(t);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hs})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Cr(t);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Hs})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Cr(t);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Hs})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Cr(t.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Cr(t.userId),Cr(t.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}}function nb(a={}){return{getItem:t=>a[t]||null,setItem:(t,n)=>{a[t]=n},removeItem:t=>{delete a[t]}}}function sC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rr={debug:!!(globalThis&&$1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nC extends I1{}async function rC(a,t,n){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await n()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(t===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new nC(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Rr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}sC();const iC={url:p5,storageKey:y5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rb(a,t,n){return await n()}const Dr={};class To{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=To.nextInstanceID,To.nextInstanceID+=1,this.instanceID>0&&ga()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},iC),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new aC({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=q1(o.fetch),this.lock=o.lock||rb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ga()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rC:this.lock=rb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:$1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nb(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=nb(this.memoryStorage)),ga()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Dr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Dr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${U1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=O5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ga()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:u}=await this._getSessionFromURL(n,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),_5(u)){const m=(t=u.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ve(n)?{error:n}:{error:new V1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const u=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:cs}),{data:d,error:f}=u;if(f||!d)return{data:{user:null,session:null},error:f};const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var n,r,o;try{let u;if("email"in t){const{email:y,password:x,options:v}=t;let j=null,S=null;this.flowType==="pkce"&&([j,S]=await Ar(this.storage,this.storageKey)),u=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:y,password:x,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:j,code_challenge_method:S},xform:cs})}else if("phone"in t){const{phone:y,password:x,options:v}=t;u=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:cs})}else throw new mc("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return{data:{user:null,session:null},error:f};const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let n;if("email"in t){const{email:u,password:d,options:f}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:sb})}else if("phone"in t){const{phone:u,password:d,options:f}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:sb})}else throw new mc("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new fc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,o,u,d,f,m,g,y,x,v,j;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:T,wallet:A,statement:C,options:N}=t;let P;if(ga())if(typeof A=="object")P=A;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))P=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=A}const D=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const z=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),C?{statement:C}:null));let F;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")F=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)F=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)S=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),E=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${D.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((g=N==null?void 0:N.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((x=(y=N==null?void 0:N.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...N.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const z=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=z}}try{const{data:T,error:A}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:R5(E)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:cs});if(A)throw A;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new fc}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:A})}catch(T){if(ve(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(t){const n=await kn(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:u,error:d}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:cs});if(await Bs(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new fc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(ve(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:u,nonce:d}=t,f=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:cs}),{data:m,error:g}=f;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new fc}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,u,d;try{if("email"in t){const{email:f,options:m}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ar(this.storage,this.storageKey));const{error:x}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:f,options:m}=t,{data:g,error:y}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new mc("You must provide either an email or phone number.")}catch(f){if(ve(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var n,r;try{let o,u;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,u=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:f}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:cs});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await Ar(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:W5})}catch(u){if(ve(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Is;const{error:o}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:u}=t,{error:d}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:r,type:o,options:u}=t,{data:d,error:f}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new mc("You must provide either an email or phone number and a type")}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Lh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const d=await kn(this.userStorage,this.storageKey+"-user");d!=null&&d.user?t.user=d.user:t.user=Vh()}if(this.storage.isServer&&t.user){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,g,y)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,g,y))})}return{data:{session:t},error:null}}const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hs}):await this._useSession(async n=>{var r,o,u;const{data:d,error:f}=n;if(f)throw f;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Is}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Hs})})}catch(n){if(ve(n))return k5(n)&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:u}=r;if(u)throw u;if(!o.session)throw new Is;const d=o.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await Ar(this.storage,this.storageKey));const{data:g,error:y}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:d.access_token,xform:Hs});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Is;const n=Date.now()/1e3;let r=n,o=!0,u=null;const{payload:d}=zh(t.access_token);if(d.exp&&(r=d.exp,o=r<=n),o){const{session:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(ve(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:d,error:f}=n;if(f)throw f;t=(r=d.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Is;const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ga())throw new gc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qx("No code detected.");const{data:C,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:f,expires_at:m,token_type:g}=t;if(!u||!f||!d||!g)throw new gc("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(f);let v=y+x;m&&(v=parseInt(m));const j=v-y;j*1e3<=Pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${x}s`);const S=v-x;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,y);const{data:E,error:T}=await this._getUser(u);if(T)throw T;const A={provider_token:r,provider_refresh_token:o,access_token:u,expires_in:x,expires_at:v,refresh_token:d,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:t.type},error:null}}catch(r){if(ve(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await kn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:u}=n;if(u)return{error:u};const d=(r=o.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(j5(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=M5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:u},error:d}=n;if(d)throw d;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Ar(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(ve(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async u=>{var d,f,m,g,y;const{data:x,error:v}=u;if(v)throw v;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",j,{headers:this.headers,jwt:(y=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return ga()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ve(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:u,error:d}=n;if(d)throw d;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await U5(async o=>(o>0&&await L5(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cs})),(o,u)=>{const d=200*Math.pow(2,o);return u&&Uh(u)&&Date.now()+d-r<Pr})}catch(r){if(this._debug(n,"error",r),ve(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ga()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await kn(this.storage,this.storageKey);if(o&&this.userStorage){let d=await kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Lr(this.userStorage,this.storageKey+"-user",d)),o.user=(t=d==null?void 0:d.user)!==null&&t!==void 0?t:Vh()}else if(o&&!o.user&&!o.user){const d=await kn(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(o.user=d.user,await Bs(this.storage,this.storageKey+"-user"),await Lr(this.storage,this.storageKey,o)):o.user=Vh()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const u=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Lh;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${Lh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),Uh(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(o.access_token);!f&&(d!=null&&d.user)?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Xc;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new Is;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={session:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(o,"error",u),ve(u)){const d={session:null,error:u};return Uh(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,n)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Lr(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const u=tb(o);await Lr(this.storage,this.storageKey,u)}else{const o=tb(n);await Lr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Bs(this.storage,this.storageKey),await Bs(this.storage,this.storageKey+"-code-verifier"),await Bs(this.storage,this.storageKey+"-user"),this.userStorage&&await Bs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ga()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Pr}ms, refresh threshold is ${jf} ticks`),o<=jf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof I1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ga()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,d]=await Ar(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(f.toString())}if(r!=null&&r.queryParams){const u=new URLSearchParams(r.queryParams);o.push(u.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:u}=n;return u?{data:null,error:u}:await Te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:u,error:d}=n;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:g}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:u}=n;if(u)return{data:null,error:u};const{data:d,error:f}=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(n){if(ve(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:u}=n;return u?{data:null,error:u}:await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ve(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=r.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:r,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:u}=t;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=zh(o.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(f=>f.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(f=>f.kid===t),r&&this.jwks_cached_at+v5>o)return r;const{data:u,error:d}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,r=u.keys.find(f=>f.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:j,error:S}=await this.getSession();if(S||!j.session)return{data:null,error:S};r=j.session.access_token}const{header:o,payload:u,signature:d,raw:{header:f,payload:m}}=zh(r);n!=null&&n.allowExpired||H5(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:j}=await this.getUser(r);if(j)throw j;return{data:{claims:u,header:o,signature:d},error:null}}const y=G5(o.alg),x=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,d,C5(`${f}.${m}`)))throw new Sf("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}To.nextInstanceID=0;const oC=To;class lC extends oC{constructor(t){super(t)}}var cC=function(a,t,n,r){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(y){try{g(r.next(y))}catch(x){d(x)}}function m(y){try{g(r.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):o(y.value).then(f,m)}g((r=r.apply(a,t||[])).next())})};class uC{constructor(t,n,r){var o,u,d;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=m5(t),m=new URL(f);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:i5,realtime:l5,auth:Object.assign(Object.assign({},o5),{storageKey:g}),global:r5},x=g5(r??{},y);this.storageKey=(o=x.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=x.global.headers)!==null&&u!==void 0?u:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(v,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=x.auth)!==null&&d!==void 0?d:{},this.headers,x.global.fetch),this.fetch=h5(n,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new NA(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new a5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new pA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return cC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:u,storageKey:d,flowType:f,lock:m,debug:g},y,x){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lC({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),y),storageKey:d,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:u,flowType:f,lock:m,debug:g,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new IA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dC=(a,t,n)=>new uC(a,t,n);function hC(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const t=a.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}hC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fC="https://cmrukbrqkjvqeoxueltt.supabase.co",mC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNtcnVrYnJxa2p2cWVveHVlbHR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwMjkxMTUsImV4cCI6MjA3MjYwNTExNX0.IBzjeyuE7LIusF54PIrgbDdDyrq8WLIntBS68U44tUQ",de=dC(fC,mC),Bo=a=>{if(!a||!a.id)return null;const n=(Array.isArray(a.inspections)?a.inspections:[]).filter(o=>o&&o.id&&o.created_at).map(o=>({id:o.id,status:o.status,inspection_type:o.inspection_type,photoCount:o.photoCount||0,general_observations:o.general_observations,created_at:o.created_at})),r=a.created_at&&!isNaN(new Date(a.created_at).getTime())?new Date(a.created_at):new Date;return{id:a.id,name:a.name,address:a.address,type:a.type,description:a.description||"",facadePhoto:a.facade_photo_url||void 0,createdAt:r,inspections:n,user_id:a.user_id,responsibleName:a.responsible_name||"Não informado",companyName:a.company_name||void 0,companyLogoUrl:a.company_logo_url||void 0}},H1=w.createContext(void 0),gC=({children:a})=>{const[t,n]=w.useState(null),[r,o]=w.useState(null),[u,d]=w.useState(null),[f,m]=w.useState(!0),g=w.useCallback(async v=>{try{const j=new Promise((A,C)=>{setTimeout(()=>C(new Error("Timeout na busca do perfil")),3e3)}),S=de.from("profiles").select("full_name, company_name, company_logo_url").eq("id",v).single(),{data:E,error:T}=await Promise.race([S,j]);T&&T.code!=="PGRST116"?d(null):d(E??null)}catch{d(null)}},[]),y=w.useCallback(async()=>{t&&await g(t.id)},[t,g]);w.useEffect(()=>{(async()=>{var S;try{const{data:E}=await de.auth.getSession(),T=((S=E.session)==null?void 0:S.user)??null;o(E.session),n(T),T?await g(T.id):d(null)}catch(E){console.error("Error getting session:",E)}finally{m(!1)}})();const{data:j}=de.auth.onAuthStateChange(async(S,E)=>{const T=(E==null?void 0:E.user)??null;o(E),n(T),T?await g(T.id):d(null),m(!1)});return()=>{j.subscription.unsubscribe()}},[g]);const x={user:t,session:r,profile:u,loading:f,refetchProfile:y};return l.jsx(H1.Provider,{value:x,children:a})},Pt=()=>{const a=w.useContext(H1);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},pC=()=>{var g;const a=wa(),t=$t(),{user:n,profile:r}=Pt(),[o,u]=w.useState(!1),d=w.useRef(null);w.useEffect(()=>{const y=x=>{d.current&&!d.current.contains(x.target)&&u(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const f=async()=>{console.log("Iniciando logout...");try{localStorage.clear(),sessionStorage.clear();const{error:y}=await de.auth.signOut();y?console.log("Aviso no logout:",y.message):console.log("Logout realizado com sucesso"),await new Promise(x=>setTimeout(x,50)),t("/login",{replace:!0})}catch(y){console.log("Erro inesperado no logout, fazendo logout local:",y),localStorage.clear(),sessionStorage.clear(),await new Promise(x=>setTimeout(x,50)),t("/login",{replace:!0})}},m=[{name:"Dashboard",href:"/dashboard",icon:P_},{name:"Meus Imóveis",href:"/properties",icon:Mo}];return l.jsx("header",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700 sticky top-0 z-40 no-print",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs(Ie,{to:"/dashboard",className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(xt,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"VistorIA"})]})}),l.jsx("nav",{className:"hidden md:flex space-x-8",children:m.map(y=>{const x=y.icon,v=a.pathname.startsWith(y.href);return l.jsxs(Ie,{to:y.href,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${v?"text-blue-600 bg-blue-50 dark:text-blue-400 dark:bg-blue-500/10":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[l.jsx(x,{className:"w-4 h-4"}),l.jsx("span",{children:y.name})]},y.name)})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative",ref:d,children:[l.jsxs("button",{onClick:()=>u(!o),className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-slate-700 flex items-center justify-center overflow-hidden",children:r!=null&&r.company_logo_url?l.jsx("img",{src:r.company_logo_url,alt:"Logo",className:"w-full h-full object-cover"}):l.jsx(Ir,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),l.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 hidden sm:block",children:["Olá, ",(r==null?void 0:r.full_name)||((g=n==null?void 0:n.email)==null?void 0:g.split("@")[0])]}),l.jsx(r_,{className:`w-4 h-4 text-gray-500 transition-transform ${o?"rotate-180":""}`})]}),o&&l.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-gray-200 dark:border-slate-700 py-1 z-50",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-slate-700",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:(r==null?void 0:r.full_name)||"Usuário"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:n==null?void 0:n.email})]}),l.jsxs(Ie,{to:"/profile",onClick:()=>u(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[l.jsx(qb,{className:"w-4 h-4 mr-3"}),"Configurações"]}),l.jsxs(Ie,{to:"/profile/password",onClick:()=>u(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[l.jsx(wc,{className:"w-4 h-4 mr-3"}),"Alterar Senha"]}),l.jsxs(Ie,{to:"/subscription",onClick:()=>u(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[l.jsx(On,{className:"w-4 h-4 mr-3"}),"Planos e Assinatura"]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 my-1"}),l.jsxs("button",{onClick:()=>{u(!1),f()},className:"w-full flex items-center px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors",children:[l.jsx(Bb,{className:"w-4 h-4 mr-3"}),"Sair"]})]})]}),l.jsx(S1,{})]})]})})})},yC=()=>l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[l.jsx(pC,{}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(Tb,{})})]}),xC=({title:a,value:t,icon:n,bgColor:r,textColor:o,delay:u})=>l.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u},className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:t})]}),l.jsx("div",{className:`p-3 rounded-full ${r}`,children:l.jsx(n,{className:`w-6 h-6 ${o}`})})]})}),bC=({stats:a})=>{const t=[{title:"Total de Imóveis",value:(a==null?void 0:a.totalProperties)||0,icon:Mo,bgColor:"bg-blue-100 dark:bg-blue-500/20",textColor:"text-blue-600 dark:text-blue-400"},{title:"Total de Vistorias",value:(a==null?void 0:a.totalInspections)||0,icon:xt,bgColor:"bg-green-100 dark:bg-green-500/20",textColor:"text-green-600 dark:text-green-400"},{title:"Em Andamento",value:(a==null?void 0:a.pendingInspections)||0,icon:Ec,bgColor:"bg-orange-100 dark:bg-orange-500/20",textColor:"text-orange-600 dark:text-orange-400"},{title:"Itens Faltando",value:(a==null?void 0:a.criticalIssues)||0,icon:Fs,bgColor:"bg-red-100 dark:bg-red-500/20",textColor:"text-red-600 dark:text-red-400"}];return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((n,r)=>l.jsx(xC,{title:n.title,value:n.value,icon:n.icon,bgColor:n.bgColor,textColor:n.textColor,delay:r*.1},n.title))})},vC=({activity:a})=>{const t=r=>{switch(r){case"property":return l.jsx(Mo,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"});case"inspection":return l.jsx(xt,{className:"w-4 h-4 text-green-600 dark:text-green-400"});case"report":return l.jsx(qa,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"});default:return l.jsx(Ih,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}},n=r=>{switch(r){case"property":return"bg-blue-100 dark:bg-blue-500/20";case"inspection":return"bg-green-100 dark:bg-green-500/20";case"report":return"bg-purple-100 dark:bg-purple-500/20";default:return"bg-gray-100 dark:bg-gray-500/20"}};return l.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-slate-700",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[l.jsx(Ih,{className:"w-5 h-5 mr-2"}),"Atividade Recente"]}),l.jsx("div",{className:"space-y-4",children:a&&a.length>0?a.map((r,o)=>l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[l.jsx("div",{className:`p-2 rounded-full ${n(r.type)}`,children:t(r.type)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.title}),r.propertyName&&l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:r.propertyName}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:r.date.toLocaleDateString("pt-BR")})]})]},o)):l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"Nenhuma atividade recente"})})]})},G1=w.createContext(void 0),wC=({children:a})=>{const[t,n]=w.useState([]),r=w.useCallback((f,m,g)=>{const y=g||crypto.randomUUID();return n(x=>[...x,{id:y,message:f,type:m}]),y},[]),o=w.useCallback(f=>{n(m=>m.filter(g=>g.id!==f))},[]),u=w.useCallback((f,m,g)=>{n(y=>y.map(x=>x.id===f?{...x,message:m,type:g}:x))},[]),d={toasts:t,addToast:r,removeToast:o,updateToast:u};return l.jsx(G1.Provider,{value:d,children:a})},gs=()=>{const a=w.useContext(G1);if(!a)throw new Error("useToast must be used within a ToastProvider");return a},jC=({onUltimaVistoria:a,onRelatorios:t,isRelatoriosDisabled:n})=>l.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-slate-700",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[l.jsx(vS,{className:"w-5 h-5 mr-2"}),"Ações Rápidas"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Ie,{to:"/properties",className:"w-full flex items-center px-4 py-3 bg-blue-50 dark:bg-blue-500/10 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-500/20 transition-colors",children:[l.jsx(Mo,{className:"w-4 h-4 mr-3"}),"Gerenciar Imóveis"]}),l.jsxs("button",{onClick:a,className:"w-full flex items-center px-4 py-3 bg-green-50 dark:bg-green-500/10 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-100 dark:hover:bg-green-500/20 transition-colors",children:[l.jsx(xt,{className:"w-4 h-4 mr-3"}),"Última Vistoria"]}),l.jsxs("button",{onClick:t,disabled:n,className:"w-full flex items-center px-4 py-3 bg-purple-50 dark:bg-purple-500/10 text-purple-700 dark:text-purple-400 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-500/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(qa,{className:"w-4 h-4 mr-3"}),"Último Relatório"]})]})]}),kC=()=>{const{user:a}=Pt(),t=$t(),{addToast:n}=gs(),[r,o]=w.useState(null),[u,d]=w.useState(!0),[f,m]=w.useState(null),[g,y]=w.useState(null);w.useEffect(()=>{a&&x()},[a]);const x=async()=>{if(a)try{d(!0);const{data:S,error:E}=await de.from("properties").select("*, inspections (id, status, inspection_type, general_observations, created_at)").eq("user_id",a.id).order("created_at",{ascending:!1});if(E)throw E;const T=S.map(K=>Bo(K)).filter(K=>K!==null),{data:A,error:C}=await de.from("inspections").select("*, properties!inner(*)").eq("properties.user_id",a.id);if(C)throw C;const{data:N,error:P}=await de.from("inspection_photos").select("*").in("inspection_id",A.map(K=>K.id));if(P)throw P;const D=new Date,z=new Date(D.getFullYear(),D.getMonth()-6,1),F=A.filter(K=>new Date(K.created_at)>=z),W=A.filter(K=>K.status==="completed"),J=A.filter(K=>K.status==="in-progress"),H={};F.forEach(K=>{const _=new Date(K.created_at),O=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}`;H[O]||(H[O]={entry:0,exit:0}),K.inspection_type==="entry"?H[O].entry++:H[O].exit++});const Z=Object.entries(H).map(([K,_])=>({month:new Date(K+"-01").toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),..._})).slice(-6),Y=[];N.forEach(K=>{var _,O;(_=K.analysis_result)!=null&&_.objectsDetected&&K.analysis_result.objectsDetected.forEach(X=>{if(X.condition==="damaged"||X.condition==="not_found"){const se=(X.condition==="not_found","high");Y.push({name:X.item||"Item não identificado",severity:se})}}),(O=K.analysis_result)!=null&&O.issues&&K.analysis_result.issues.forEach(X=>{Y.push({name:X.description,severity:X.severity})})});const re=Y.reduce((K,_)=>{const O=K.find(X=>X.name===_.name);return O?O.count++:K.push({name:_.name,count:1,severity:_.severity}),K},[]).sort((K,_)=>_.count-K.count).slice(0,8),ue=[...T.slice(0,3).map(K=>({type:"property",title:`Propriedade "${K.name}" cadastrada`,date:new Date(K.createdAt),propertyName:K.name})),...F.slice(0,5).map(K=>{var _;return{type:"inspection",title:`Vistoria ${K.inspection_type==="entry"?"de entrada":"de saída"} ${K.status==="completed"?"concluída":"iniciada"}`,date:new Date(K.created_at),propertyName:(_=K.properties)==null?void 0:_.name}})].sort((K,_)=>_.date.getTime()-K.date.getTime()).slice(0,6);let ne=0;const U=A.filter(K=>K.status==="completed"&&K.inspection_type==="exit");if(U.length>0){const K=U.sort((O,X)=>new Date(X.created_at).getTime()-new Date(O.created_at).getTime())[0],_=A.find(O=>O.property_id===K.property_id&&O.inspection_type==="entry"&&O.status==="completed");if(_){const O=N.filter(te=>te.inspection_id===_.id),X=N.filter(te=>te.inspection_id===K.id);[...new Set([...O.map(te=>te.room),...X.map(te=>te.room)])].forEach(te=>{const le=O.filter(xe=>xe.room===te).flatMap(xe=>{var We;return((We=xe.ai_analysis_result)==null?void 0:We.objectsDetected)||[]}),he=X.filter(xe=>xe.room===te).flatMap(xe=>{var We;return((We=xe.ai_analysis_result)==null?void 0:We.objectsDetected)||[]}),Be=[...le];he.forEach(xe=>{if(xe.condition==="not_found")return;const We=Be.findIndex(ua=>ua.item.toLowerCase().trim()===xe.item.toLowerCase().trim());We>-1&&Be.splice(We,1)}),ne+=Be.length})}}const G={totalProperties:T.length,totalInspections:A.length,pendingInspections:J.length,completedInspections:W.length,avgInspectionTime:W.length>0?Math.round(N.length/W.length):0,criticalIssues:ne,recentActivity:ue,monthlyInspections:Z,issueTypes:re};o(G),T.length>0&&m(T[0]);const I=T.filter(K=>K.inspections.some(_=>_.inspection_type==="entry"&&_.status==="completed")&&K.inspections.some(_=>_.inspection_type==="exit"&&_.status==="completed"));if(I.length>0){const K=I[0],_=K.inspections.find(X=>X.inspection_type==="entry"&&X.status==="completed"),O=K.inspections.find(X=>X.inspection_type==="exit"&&X.status==="completed");_&&O&&y({entryId:_.id,exitId:O.id})}else{const K=A.filter(_=>_.status==="completed").sort((_,O)=>new Date(O.created_at).getTime()-new Date(_.created_at).getTime());K.length>0?y({singleId:K[0].id}):y(null)}}catch(S){console.error("Error fetching dashboard data:",S)}finally{d(!1)}},v=()=>{t(f?`/property/${f.id}`:"/properties")},j=()=>{g?"entryId"in g?t(`/compare/${g.entryId}/${g.exitId}`):t(`/reports/${g.singleId}`):n("Nenhum relatório concluído foi encontrado.","error")};return u?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ih,{className:"w-8 h-8 animate-pulse text-blue-500 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Carregando..."})]})}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Dashboard VistorIA"}),l.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Visão geral das suas vistorias e propriedades"})]}),l.jsxs(Ie,{to:"/properties",className:"mt-4 lg:mt-0 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Gs,{className:"w-5 h-5 mr-2"}),"Nova Propriedade"]})]}),l.jsx(bC,{stats:r}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx(vC,{activity:r==null?void 0:r.recentActivity}),l.jsx(jC,{onUltimaVistoria:v,onRelatorios:j,isRelatoriosDisabled:!g})]})]})},F1=6048e5,_C=864e5,ib=Symbol.for("constructDateFrom");function Ks(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&ib in a?a[ib](t):a instanceof Date?new a.constructor(t):new Date(t)}function ja(a,t){return Ks(t||a,a)}let SC={};function Kc(){return SC}function Eo(a,t){var f,m,g,y;const n=Kc(),r=(t==null?void 0:t.weekStartsOn)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,o=ja(a,t==null?void 0:t.in),u=o.getDay(),d=(u<r?7:0)+u-r;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function zc(a,t){return Eo(a,{...t,weekStartsOn:1})}function Y1(a,t){const n=ja(a,t==null?void 0:t.in),r=n.getFullYear(),o=Ks(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const u=zc(o),d=Ks(n,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const f=zc(d);return n.getTime()>=u.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function ob(a){const t=ja(a),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+a-+n}function NC(a,...t){const n=Ks.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function lb(a,t){const n=ja(a,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function TC(a,t,n){const[r,o]=NC(n==null?void 0:n.in,a,t),u=lb(r),d=lb(o),f=+u-ob(u),m=+d-ob(d);return Math.round((f-m)/_C)}function EC(a,t){const n=Y1(a,t),r=Ks(a,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),zc(r)}function AC(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function CC(a){return!(!AC(a)&&typeof a!="number"||isNaN(+ja(a)))}function RC(a,t){const n=ja(a,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const DC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MC=(a,t,n)=>{let r;const o=DC[a];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Fr(a){return(t={})=>{const n=t.width?String(t.width):a.defaultWidth;return a.formats[n]||a.formats[a.defaultWidth]}}const OC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},PC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UC={date:Fr({formats:OC,defaultWidth:"full"}),time:Fr({formats:PC,defaultWidth:"full"}),dateTime:Fr({formats:LC,defaultWidth:"full"})},zC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VC=(a,t,n,r)=>zC[a];function Pa(a){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&a.formattingValues){const d=a.defaultFormattingWidth||a.defaultWidth,f=n!=null&&n.width?String(n.width):d;o=a.formattingValues[f]||a.formattingValues[d]}else{const d=a.defaultWidth,f=n!=null&&n.width?String(n.width):a.defaultWidth;o=a.values[f]||a.values[d]}const u=a.argumentCallback?a.argumentCallback(t):t;return o[u]}}const BC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$C={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},HC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FC=(a,t)=>{const n=Number(a),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},YC={ordinalNumber:FC,era:Pa({values:BC,defaultWidth:"wide"}),quarter:Pa({values:$C,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Pa({values:qC,defaultWidth:"wide"}),day:Pa({values:IC,defaultWidth:"wide"}),dayPeriod:Pa({values:HC,defaultWidth:"wide",formattingValues:GC,defaultFormattingWidth:"wide"})};function La(a){return(t,n={})=>{const r=n.width,o=r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth],u=t.match(o);if(!u)return null;const d=u[0],f=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],m=Array.isArray(f)?KC(f,x=>x.test(d)):XC(f,x=>x.test(d));let g;g=a.valueCallback?a.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const y=t.slice(d.length);return{value:g,rest:y}}}function XC(a,t){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n)&&t(a[n]))return n}function KC(a,t){for(let n=0;n<a.length;n++)if(t(a[n]))return n}function X1(a){return(t,n={})=>{const r=t.match(a.matchPattern);if(!r)return null;const o=r[0],u=t.match(a.parsePattern);if(!u)return null;let d=a.valueCallback?a.valueCallback(u[0]):u[0];d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}const QC=/^(\d+)(th|st|nd|rd)?/i,WC=/\d+/i,ZC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},JC={any:[/^b/i,/^(a|c)/i]},e3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t3={any:[/1/i,/2/i,/3/i,/4/i]},a3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},s3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},o3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l3={ordinalNumber:X1({matchPattern:QC,parsePattern:WC,valueCallback:a=>parseInt(a,10)}),era:La({matchPatterns:ZC,defaultMatchWidth:"wide",parsePatterns:JC,defaultParseWidth:"any"}),quarter:La({matchPatterns:e3,defaultMatchWidth:"wide",parsePatterns:t3,defaultParseWidth:"any",valueCallback:a=>a+1}),month:La({matchPatterns:a3,defaultMatchWidth:"wide",parsePatterns:s3,defaultParseWidth:"any"}),day:La({matchPatterns:n3,defaultMatchWidth:"wide",parsePatterns:r3,defaultParseWidth:"any"}),dayPeriod:La({matchPatterns:i3,defaultMatchWidth:"any",parsePatterns:o3,defaultParseWidth:"any"})},c3={code:"en-US",formatDistance:MC,formatLong:UC,formatRelative:VC,localize:YC,match:l3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function u3(a,t){const n=ja(a,t==null?void 0:t.in);return TC(n,RC(n))+1}function d3(a,t){const n=ja(a,t==null?void 0:t.in),r=+zc(n)-+EC(n);return Math.round(r/F1)+1}function K1(a,t){var y,x,v,j;const n=ja(a,t==null?void 0:t.in),r=n.getFullYear(),o=Kc(),u=(t==null?void 0:t.firstWeekContainsDate)??((x=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??o.firstWeekContainsDate??((j=(v=o.locale)==null?void 0:v.options)==null?void 0:j.firstWeekContainsDate)??1,d=Ks((t==null?void 0:t.in)||a,0);d.setFullYear(r+1,0,u),d.setHours(0,0,0,0);const f=Eo(d,t),m=Ks((t==null?void 0:t.in)||a,0);m.setFullYear(r,0,u),m.setHours(0,0,0,0);const g=Eo(m,t);return+n>=+f?r+1:+n>=+g?r:r-1}function h3(a,t){var f,m,g,y;const n=Kc(),r=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=K1(a,t),u=Ks((t==null?void 0:t.in)||a,0);return u.setFullYear(o,0,r),u.setHours(0,0,0,0),Eo(u,t)}function f3(a,t){const n=ja(a,t==null?void 0:t.in),r=+Eo(n,t)-+h3(n,t);return Math.round(r/F1)+1}function Pe(a,t){const n=a<0?"-":"",r=Math.abs(a).toString().padStart(t,"0");return n+r}const $s={y(a,t){const n=a.getFullYear(),r=n>0?n:1-n;return Pe(t==="yy"?r%100:r,t.length)},M(a,t){const n=a.getMonth();return t==="M"?String(n+1):Pe(n+1,2)},d(a,t){return Pe(a.getDate(),t.length)},a(a,t){const n=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(a,t){return Pe(a.getHours()%12||12,t.length)},H(a,t){return Pe(a.getHours(),t.length)},m(a,t){return Pe(a.getMinutes(),t.length)},s(a,t){return Pe(a.getSeconds(),t.length)},S(a,t){const n=t.length,r=a.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Pe(o,t.length)}},Mr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cb={G:function(a,t,n){const r=a.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(a,t,n){if(t==="yo"){const r=a.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return $s.y(a,t)},Y:function(a,t,n,r){const o=K1(a,r),u=o>0?o:1-o;if(t==="YY"){const d=u%100;return Pe(d,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Pe(u,t.length)},R:function(a,t){const n=Y1(a);return Pe(n,t.length)},u:function(a,t){const n=a.getFullYear();return Pe(n,t.length)},Q:function(a,t,n){const r=Math.ceil((a.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Pe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(a,t,n){const r=Math.ceil((a.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Pe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(a,t,n){const r=a.getMonth();switch(t){case"M":case"MM":return $s.M(a,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(a,t,n){const r=a.getMonth();switch(t){case"L":return String(r+1);case"LL":return Pe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(a,t,n,r){const o=f3(a,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Pe(o,t.length)},I:function(a,t,n){const r=d3(a);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Pe(r,t.length)},d:function(a,t,n){return t==="do"?n.ordinalNumber(a.getDate(),{unit:"date"}):$s.d(a,t)},D:function(a,t,n){const r=u3(a);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pe(r,t.length)},E:function(a,t,n){const r=a.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(a,t,n,r){const o=a.getDay(),u=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Pe(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(a,t,n,r){const o=a.getDay(),u=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Pe(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(a,t,n){const r=a.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return Pe(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(a,t,n){const o=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(a,t,n){const r=a.getHours();let o;switch(r===12?o=Mr.noon:r===0?o=Mr.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(a,t,n){const r=a.getHours();let o;switch(r>=17?o=Mr.evening:r>=12?o=Mr.afternoon:r>=4?o=Mr.morning:o=Mr.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(a,t,n){if(t==="ho"){let r=a.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $s.h(a,t)},H:function(a,t,n){return t==="Ho"?n.ordinalNumber(a.getHours(),{unit:"hour"}):$s.H(a,t)},K:function(a,t,n){const r=a.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pe(r,t.length)},k:function(a,t,n){let r=a.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pe(r,t.length)},m:function(a,t,n){return t==="mo"?n.ordinalNumber(a.getMinutes(),{unit:"minute"}):$s.m(a,t)},s:function(a,t,n){return t==="so"?n.ordinalNumber(a.getSeconds(),{unit:"second"}):$s.s(a,t)},S:function(a,t){return $s.S(a,t)},X:function(a,t,n){const r=a.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return db(r);case"XXXX":case"XX":return Nn(r);case"XXXXX":case"XXX":default:return Nn(r,":")}},x:function(a,t,n){const r=a.getTimezoneOffset();switch(t){case"x":return db(r);case"xxxx":case"xx":return Nn(r);case"xxxxx":case"xxx":default:return Nn(r,":")}},O:function(a,t,n){const r=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ub(r,":");case"OOOO":default:return"GMT"+Nn(r,":")}},z:function(a,t,n){const r=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ub(r,":");case"zzzz":default:return"GMT"+Nn(r,":")}},t:function(a,t,n){const r=Math.trunc(+a/1e3);return Pe(r,t.length)},T:function(a,t,n){return Pe(+a,t.length)}};function ub(a,t=""){const n=a>0?"-":"+",r=Math.abs(a),o=Math.trunc(r/60),u=r%60;return u===0?n+String(o):n+String(o)+t+Pe(u,2)}function db(a,t){return a%60===0?(a>0?"-":"+")+Pe(Math.abs(a)/60,2):Nn(a,t)}function Nn(a,t=""){const n=a>0?"-":"+",r=Math.abs(a),o=Pe(Math.trunc(r/60),2),u=Pe(r%60,2);return n+o+t+u}const hb=(a,t)=>{switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Q1=(a,t)=>{switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},m3=(a,t)=>{const n=a.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return hb(a,t);let u;switch(r){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",hb(r,t)).replace("{{time}}",Q1(o,t))},g3={p:Q1,P:m3},p3=/^D+$/,y3=/^Y+$/,x3=["D","DD","YY","YYYY"];function b3(a){return p3.test(a)}function v3(a){return y3.test(a)}function w3(a,t,n){const r=j3(a,t,n);if(console.warn(r),x3.includes(a))throw new RangeError(r)}function j3(a,t,n){const r=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const k3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S3=/^'([^]*?)'?$/,N3=/''/g,T3=/[a-zA-Z]/;function Ba(a,t,n){var y,x,v,j,S,E,T,A;const r=Kc(),o=(n==null?void 0:n.locale)??r.locale??c3,u=(n==null?void 0:n.firstWeekContainsDate)??((x=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??r.firstWeekContainsDate??((j=(v=r.locale)==null?void 0:v.options)==null?void 0:j.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((E=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((A=(T=r.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)??0,f=ja(a,n==null?void 0:n.in);if(!CC(f))throw new RangeError("Invalid time value");let m=t.match(_3).map(C=>{const N=C[0];if(N==="p"||N==="P"){const P=g3[N];return P(C,o.formatLong)}return C}).join("").match(k3).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const N=C[0];if(N==="'")return{isToken:!1,value:E3(C)};if(cb[N])return{isToken:!0,value:C};if(N.match(T3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:C}});o.localize.preprocessor&&(m=o.localize.preprocessor(f,m));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:o};return m.map(C=>{if(!C.isToken)return C.value;const N=C.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&v3(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&b3(N))&&w3(N,t,String(a));const P=cb[N[0]];return P(f,N,o.localize,g)}).join("")}function E3(a){const t=a.match(S3);return t?t[1].replace(N3,"'"):a}const A3={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},C3=(a,t,n)=>{let r;const o=A3[a];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"há "+r:r},R3={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},D3={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},M3={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O3={date:Fr({formats:R3,defaultWidth:"full"}),time:Fr({formats:D3,defaultWidth:"full"}),dateTime:Fr({formats:M3,defaultWidth:"full"})},P3={lastWeek:a=>{const t=a.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},L3=(a,t,n,r)=>{const o=P3[a];return typeof o=="function"?o(t):o},U3={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},z3={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},V3={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},B3={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},$3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},q3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},I3=(a,t)=>{const n=Number(a);return(t==null?void 0:t.unit)==="week"?n+"ª":n+"º"},H3={ordinalNumber:I3,era:Pa({values:U3,defaultWidth:"wide"}),quarter:Pa({values:z3,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Pa({values:V3,defaultWidth:"wide"}),day:Pa({values:B3,defaultWidth:"wide"}),dayPeriod:Pa({values:$3,defaultWidth:"wide",formattingValues:q3,defaultFormattingWidth:"wide"})},G3=/^(\d+)[ºªo]?/i,F3=/\d+/i,Y3={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},X3={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},K3={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Q3={any:[/1/i,/2/i,/3/i,/4/i]},W3={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Z3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},J3={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},e6={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},t6={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},a6={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},s6={ordinalNumber:X1({matchPattern:G3,parsePattern:F3,valueCallback:a=>parseInt(a,10)}),era:La({matchPatterns:Y3,defaultMatchWidth:"wide",parsePatterns:X3,defaultParseWidth:"any"}),quarter:La({matchPatterns:K3,defaultMatchWidth:"wide",parsePatterns:Q3,defaultParseWidth:"any",valueCallback:a=>a+1}),month:La({matchPatterns:W3,defaultMatchWidth:"wide",parsePatterns:Z3,defaultParseWidth:"any"}),day:La({matchPatterns:J3,defaultMatchWidth:"wide",parsePatterns:e6,defaultParseWidth:"any"}),dayPeriod:La({matchPatterns:t6,defaultMatchWidth:"any",parsePatterns:a6,defaultParseWidth:"any"})},$a={code:"pt-BR",formatDistance:C3,formatLong:O3,formatRelative:L3,localize:H3,match:s6,options:{weekStartsOn:0,firstWeekContainsDate:1}},n6={blue:{base:220,spread:200},purple:{base:280,spread:300},green:{base:120,spread:200},red:{base:0,spread:200},orange:{base:30,spread:200}},r6={sm:"w-48 h-64",md:"w-64 h-80",lg:"w-80 h-96"},i6=({children:a,className:t="",glowColor:n="blue",size:r="md",width:o,height:u,customSize:d=!1})=>{const f=w.useRef(null),m=w.useRef(null);w.useEffect(()=>{var T;const S=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,E=A=>{var P;if(S&&A.pointerType==="touch"&&!((P=f.current)!=null&&P.contains(A.target)))return;const{clientX:C,clientY:N}=A;f.current&&(f.current.style.setProperty("--x",C.toFixed(2)),f.current.style.setProperty("--xp",(C/window.innerWidth).toFixed(2)),f.current.style.setProperty("--y",N.toFixed(2)),f.current.style.setProperty("--yp",(N/window.innerHeight).toFixed(2)))};if(S){const A=C=>{var P;const N=C.touches[0];if(N&&((P=f.current)!=null&&P.contains(C.target))){const D={clientX:N.clientX,clientY:N.clientY,pointerType:"touch",target:C.target};E(D)}};return(T=f.current)==null||T.addEventListener("touchmove",A,{passive:!0}),()=>{var C;return(C=f.current)==null?void 0:C.removeEventListener("touchmove",A)}}else return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)},[]);const{base:g,spread:y}=n6[n],x=()=>d?"":r6[r],v=()=>{const S=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,E={"--base":g,"--spread":y,"--radius":"14","--border":"3","--backdrop":"hsl(0 0% 60% / 0.12)","--backup-border":"var(--backdrop)","--size":"200","--outer":"1","--border-size":"calc(var(--border, 2) * 1px)","--spotlight-size":"calc(var(--size, 150) * 1px)","--hue":"calc(var(--base) + (var(--xp, 0) * var(--spread, 0)))",backgroundColor:"var(--backdrop, transparent)",border:"var(--border-size) solid var(--backup-border)",position:"relative",touchAction:"pan-y pan-x"};return S||(E.backgroundImage=`radial-gradient(
        var(--spotlight-size) var(--spotlight-size) at
        calc(var(--x, 0) * 1px)
        calc(var(--y, 0) * 1px),
        hsl(var(--hue, 210) calc(var(--saturation, 100) * 1%) calc(var(--lightness, 70) * 1%) / var(--bg-spot-opacity, 0.1)), transparent
      )`,E.backgroundSize="calc(100% + (2 * var(--border-size))) calc(100% + (2 * var(--border-size)))",E.backgroundPosition="50% 50%",E.backgroundAttachment="fixed"),o!==void 0&&(E.width=typeof o=="number"?`${o}px`:o),u!==void 0&&(E.height=typeof u=="number"?`${u}px`:u),E};return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:`
    [data-glow]::before,
    [data-glow]::after {
      pointer-events: none;
      content: "";
      position: absolute;
      inset: calc(var(--border-size) * -1);
      border: var(--border-size) solid transparent;
      border-radius: calc(var(--radius) * 1px);
      background-attachment: fixed;
      background-size: calc(100% + (2 * var(--border-size))) calc(100% + (2 * var(--border-size)));
      background-repeat: no-repeat;
      background-position: 50% 50%;
      mask: linear-gradient(transparent, transparent), linear-gradient(white, white);
      mask-clip: padding-box, border-box;
      mask-composite: intersect;
    }
    
    [data-glow]::before {
      background-image: radial-gradient(
        calc(var(--spotlight-size) * 0.75) calc(var(--spotlight-size) * 0.75) at
        calc(var(--x, 0) * 1px)
        calc(var(--y, 0) * 1px),
        hsl(var(--hue, 210) calc(var(--saturation, 100) * 1%) calc(var(--lightness, 50) * 1%) / var(--border-spot-opacity, 1)), transparent 100%
      );
      filter: brightness(2);
    }
    
    [data-glow]::after {
      background-image: radial-gradient(
        calc(var(--spotlight-size) * 0.5) calc(var(--spotlight-size) * 0.5) at
        calc(var(--x, 0) * 1px)
        calc(var(--y, 0) * 1px),
        hsl(0 100% 100% / var(--border-light-opacity, 1)), transparent 100%
      );
    }
    
    [data-glow] [data-glow] {
      position: absolute;
      inset: 0;
      will-change: filter;
      opacity: var(--outer, 1);
      border-radius: calc(var(--radius) * 1px);
      border-width: calc(var(--border-size) * 20);
      filter: blur(calc(var(--border-size) * 10));
      background: none;
      pointer-events: none;
      border: none;
    }
    
    [data-glow] > [data-glow]::before {
      inset: -10px;
      border-width: 10px;
    }
  `}}),l.jsxs("div",{ref:f,"data-glow":!0,style:v(),className:`
          ${x()}
          ${d?"":"aspect-[3/4]"}
          rounded-2xl 
          relative 
          grid 
          grid-rows-[1fr_auto] 
          shadow-[0_1rem_2rem_-1rem_black] 
          p-4 
          gap-4 
          backdrop-blur-[5px]
          ${t}
        `,children:[l.jsx("div",{ref:m,"data-glow":!0}),a]})]})},Qc=({isOpen:a,onClose:t,imageUrl:n})=>l.jsx(ni,{children:a&&l.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs(Re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"relative",onClick:r=>r.stopPropagation(),children:[l.jsx("img",{src:n,alt:"Visualização ampliada",className:"max-w-[90vw] max-h-[90vh] object-contain rounded-lg shadow-2xl"}),l.jsx("button",{onClick:t,className:"absolute -top-4 -right-4 bg-white dark:bg-slate-800 text-gray-800 dark:text-gray-200 rounded-full h-10 w-10 flex items-center justify-center shadow-lg hover:scale-110 transition-transform","aria-label":"Fechar imagem",children:l.jsx(ba,{className:"w-6 h-6"})})]})})}),o6=({inspections:a})=>{const t=a.find(u=>u.inspection_type==="entry"),n=a.find(u=>u.inspection_type==="exit");let r;t?t.status==="in-progress"?r={text:"Entrada em Andamento",icon:Ec,color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}:t.status==="completed"&&!n?r={text:"Aguardando Saída",icon:Mn,color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"}:(n==null?void 0:n.status)==="in-progress"?r={text:"Saída em Andamento",icon:Ec,color:"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300"}:t.status==="completed"&&(n==null?void 0:n.status)==="completed"?r={text:"Vistorias Concluídas",icon:Yr,color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}:r={text:"Status Indefinido",icon:Pb,color:"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-200"}:r={text:"Nenhuma Vistoria",icon:c_,color:"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-200"};const o=r.icon;return l.jsxs("div",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium ${r.color}`,children:[l.jsx(o,{className:"w-4 h-4 mr-1.5"}),r.text]})},l6=({property:a,onViewDetails:t,onEdit:n,onDelete:r,onViewReport:o})=>{const[u,d]=w.useState(!1),f={apartment:{glow:"blue",badge:"bg-blue-100 text-blue-800 dark:bg-blue-500/20 dark:text-blue-200 border border-blue-200 dark:border-blue-400/50"},house:{glow:"green",badge:"bg-green-100 text-green-800 dark:bg-green-500/20 dark:text-green-200 border border-green-200 dark:border-green-400/50"},commercial_room:{glow:"purple",badge:"bg-purple-100 text-purple-800 dark:bg-purple-500/20 dark:text-purple-200 border border-purple-200 dark:border-purple-400/50"},office:{glow:"orange",badge:"bg-orange-100 text-orange-800 dark:bg-orange-500/20 dark:text-orange-200 border border-orange-200 dark:border-orange-400/50"},store:{glow:"red",badge:"bg-red-100 text-red-800 dark:bg-red-500/20 dark:text-red-200 border border-red-200 dark:border-red-400/50"},warehouse:{glow:"blue",badge:"bg-indigo-100 text-indigo-800 dark:bg-indigo-500/20 dark:text-indigo-200 border border-indigo-200 dark:border-indigo-400/50"},land:{glow:"green",badge:"bg-lime-100 text-lime-800 dark:bg-lime-500/20 dark:text-lime-200 border border-lime-200 dark:border-lime-400/50"}},m=f[a.type]||f.apartment,g=S=>({apartment:"Apartamento",house:"Casa",commercial_room:"Sala Comercial",office:"Escritório",store:"Loja",warehouse:"Galpão",land:"Terreno"})[S]||S,y=a.facadePhoto||`https://source.unsplash.com/random/800x600?building&sig=${a.id}`,x=a.inspections.some(S=>S.status==="completed"),v=a.inspections.find(S=>S.inspection_type==="entry"),j=a.inspections.find(S=>S.inspection_type==="exit");return l.jsxs(l.Fragment,{children:[l.jsx(i6,{glowColor:m.glow,customSize:!0,className:"!p-0 !gap-0 !grid-rows-none !shadow-lg !shadow-black/20",children:l.jsxs("div",{className:"w-full h-full bg-white/70 dark:bg-black/30 backdrop-blur-md rounded-2xl overflow-hidden flex flex-col transition-all duration-300",children:[l.jsxs("div",{className:"h-48 bg-slate-100 dark:bg-slate-800 relative cursor-pointer group",onClick:()=>d(!0),children:[l.jsx("img",{src:y,alt:`Fachada de ${a.name}`,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity duration-300",children:l.jsx(Ic,{className:"w-8 h-8 text-white"})}),l.jsx("div",{className:`absolute top-3 right-3 px-3 py-1.5 rounded-lg text-sm font-medium shadow-sm backdrop-blur-sm ${m.badge}`,children:g(a.type)})]}),l.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-1",children:a.name}),l.jsxs("div",{className:"flex items-start text-gray-700 dark:text-gray-300 mb-3",children:[l.jsx(Pn,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0 text-gray-500 dark:text-gray-400"}),l.jsx("span",{className:"text-sm line-clamp-2",children:a.address})]}),l.jsxs("div",{className:"flex items-center text-gray-800 dark:text-gray-200 mb-4",children:[l.jsx(Ir,{className:"w-4 h-4 mr-2 flex-shrink-0 text-gray-500 dark:text-gray-400"}),l.jsx("span",{className:"text-sm font-medium",children:a.responsibleName})]}),l.jsx("div",{className:"mb-4",children:l.jsx(o6,{inspections:a.inspections||[]})}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mt-2 space-x-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(xt,{className:"w-3.5 h-3.5 mr-1.5"}),"Entrada: ",l.jsxs("strong",{children:[(v==null?void 0:v.photoCount)||0," fotos"]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(xt,{className:"w-3.5 h-3.5 mr-1.5"}),"Saída: ",l.jsxs("strong",{children:[(j==null?void 0:j.photoCount)||0," fotos"]})]})]}),l.jsx("div",{className:"flex-grow"}),l.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 my-4",children:[l.jsx(Ob,{className:"w-4 h-4 mr-1.5"}),l.jsxs("span",{className:"text-xs",children:["Cadastrado em ",Ba(new Date(a.createdAt),"dd/MM/yyyy",{locale:$a})]})]}),l.jsx("div",{className:"border-t border-gray-900/10 dark:border-white/10 pt-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>n(a),className:"p-2 text-gray-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 hover:bg-gray-900/5 dark:hover:bg-white/10 rounded-full transition-colors",title:"Editar Imóvel",children:l.jsx(Lf,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>r(a),className:"p-2 text-gray-600 dark:text-gray-300 hover:text-red-500 dark:hover:text-red-400 hover:bg-gray-900/5 dark:hover:bg-white/10 rounded-full transition-colors",title:"Excluir Imóvel",children:l.jsx(co,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[x&&l.jsxs("button",{onClick:()=>o(a),className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600",children:[l.jsx(qa,{className:"w-4 h-4 mr-1.5"}),"Relatório"]}),l.jsxs("button",{onClick:()=>t(a),className:"bg-blue-600 text-white px-4 py-2.5 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center justify-center shadow-lg shadow-blue-500/20",children:[l.jsx(hS,{className:"w-4 h-4 mr-1.5"}),"Gerenciar"]})]})]})})]})]})}),l.jsx(Qc,{isOpen:u,onClose:()=>d(!1),imageUrl:y})]})},c6=({isOpen:a,onClose:t,onSubmit:n,propertyToEdit:r})=>{const[o,u]=w.useState(1),[d,f]=w.useState({name:"",address:"",type:"apartment",description:"",facadePhotoFile:null,facadePhotoPreview:null}),m=!!r,{user:g}=Pt();w.useEffect(()=>{m&&r?(f({id:r.id,name:r.name,address:r.address,type:r.type,description:r.description,facadePhotoPreview:r.facadePhoto,facadePhotoFile:null}),u(1)):(f({name:"",address:"",type:"apartment",description:"",facadePhotoFile:null,facadePhotoPreview:null}),u(1))},[r,m,a]);const y=C=>{var P;const N=(P=C.target.files)==null?void 0:P[0];if(N&&N.type.startsWith("image/")){const D=new FileReader;D.onload=z=>{f(F=>{var W;return{...F,facadePhotoFile:N,facadePhotoPreview:(W=z.target)==null?void 0:W.result}})},D.readAsDataURL(N)}},x=()=>{f(C=>({...C,facadePhotoFile:null,facadePhotoPreview:null}))},v=()=>{n(d)},j=()=>{o<2&&u(o+1)},S=()=>{o>1&&u(o-1)},E=()=>{switch(o){case 1:return d.name.trim()!==""&&d.type!=="";case 2:return d.address.trim()!=="";default:return!1}},T=C=>({apartment:"Apartamento",house:"Casa",commercial_room:"Sala Comercial",office:"Escritório",store:"Loja",warehouse:"Galpão",land:"Terreno"})[C]||C;if(!a)return null;const A=[{number:1,title:"Identificação",icon:qr},{number:2,title:"Localização",icon:Pn}];return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-75 flex items-center justify-center z-50 p-2 sm:p-4",children:l.jsxs(Re.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-4 sm:px-8 py-4 sm:py-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:m?"Editar Imóvel":"Cadastrar Novo Imóvel"}),l.jsx("p",{className:"text-blue-100 dark:text-blue-200 mt-1 text-sm sm:text-base",children:m?"Atualize as informações do imóvel":"Adicione as informações do imóvel para vistoria"})]}),l.jsx("button",{onClick:t,className:"text-blue-100 hover:text-white transition-colors p-2 hover:bg-blue-600 rounded-lg flex-shrink-0",children:l.jsx(ba,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})}),l.jsx("div",{className:"px-4 sm:px-8 py-4 sm:py-6 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700",children:l.jsx("div",{className:"flex items-center justify-between",children:A.map((C,N)=>{const P=C.icon,D=o===C.number,z=o>C.number;return l.jsxs(uj.Fragment,{children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center border-2 transition-all ${z?"bg-green-100 dark:bg-green-900/30 border-green-500 text-green-700 dark:text-green-400":D?"bg-blue-100 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-400":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-400 dark:text-slate-400"}`,children:l.jsx(P,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),l.jsxs("div",{className:"ml-2 sm:ml-3 hidden sm:block",children:[l.jsxs("p",{className:`text-sm font-medium ${D?"text-blue-700 dark:text-blue-400":z?"text-green-700 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:["Etapa ",C.number]}),l.jsx("p",{className:`text-xs ${D?"text-blue-600 dark:text-blue-400":z?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-slate-500"}`,children:C.title})]}),l.jsx("div",{className:"ml-2 sm:hidden",children:l.jsx("p",{className:`text-xs font-medium ${D?"text-blue-700 dark:text-blue-400":z?"text-green-700 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:C.number})})]}),N<A.length-1&&l.jsx("div",{className:`flex-1 h-1 mx-2 sm:mx-4 rounded ${o>C.number?"bg-green-200 dark:bg-green-800/50":"bg-gray-200 dark:bg-slate-700"}`})]},C.number)})})}),l.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[l.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-8 py-4 sm:py-6 bg-white dark:bg-slate-900",children:l.jsxs(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[o===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[l.jsx(qr,{className:"w-12 h-12 sm:w-16 sm:h-16 text-blue-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Identificação do Imóvel"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base",children:"Vamos começar com as informações básicas"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome/Identificação *"}),l.jsx("input",{type:"text",required:!0,value:d.name,onChange:C=>f({...d,name:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-800 dark:text-white dark:placeholder-slate-400",placeholder:"Ex: Apartamento Centro, Casa da Praia..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo do Imóvel *"}),l.jsxs("select",{value:d.type,onChange:C=>f({...d,type:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-800 dark:text-white",children:[l.jsx("option",{value:"apartment",children:"Apartamento"}),l.jsx("option",{value:"house",children:"Casa"}),l.jsx("option",{value:"commercial_room",children:"Sala Comercial"}),l.jsx("option",{value:"office",children:"Escritório"}),l.jsx("option",{value:"store",children:"Loja"}),l.jsx("option",{value:"warehouse",children:"Galpão"}),l.jsx("option",{value:"land",children:"Terreno"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Foto da Fachada"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden",id:"facade-photo"}),l.jsx("label",{htmlFor:"facade-photo",className:"w-full h-32 sm:h-40 border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:d.facadePhotoPreview?l.jsxs("div",{className:"relative w-full h-full",children:[l.jsx("img",{src:d.facadePhotoPreview,alt:"Preview da fachada",className:"w-full h-full object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:C=>{C.preventDefault(),x()},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",children:l.jsx(ba,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(xt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 dark:text-slate-400 mb-2"}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 text-center px-2",children:"Clique para adicionar foto"})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descrição (Opcional)"}),l.jsx("textarea",{value:d.description,onChange:C=>f({...d,description:C.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none bg-white dark:bg-slate-800 dark:text-white dark:placeholder-slate-400",placeholder:"Informações adicionais..."})]})]})]}),o===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[l.jsx(Pn,{className:"w-12 h-12 sm:w-16 sm:h-16 text-blue-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Localização e Resumo"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base",children:"Confirme as informações para finalizar"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Endereço Completo *"}),l.jsx("textarea",{required:!0,value:d.address,onChange:C=>f({...d,address:C.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none bg-white dark:bg-slate-800 dark:text-white dark:placeholder-slate-400",placeholder:`Rua, número, complemento
Bairro, Cidade, Estado
CEP`})]}),l.jsxs("div",{className:"mt-6 sm:mt-8 p-4 sm:p-6 bg-gray-50 dark:bg-slate-800 rounded-lg",children:[l.jsxs("h4",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[l.jsx(qa,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Resumo"]}),l.jsxs("div",{className:"space-y-3 sm:space-y-4 text-sm",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Nome:"}),l.jsx("p",{className:"text-gray-900 dark:text-gray-100 break-words",children:d.name||"Não informado"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Tipo:"}),l.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:T(d.type)})]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Endereço:"}),l.jsx("p",{className:"text-gray-900 dark:text-gray-100 break-words whitespace-pre-line",children:d.address||"Não informado"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Responsável:"}),l.jsx("p",{className:"text-gray-900 dark:text-gray-100 break-words",children:g==null?void 0:g.email})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Foto:"}),l.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:d.facadePhotoPreview?"Adicionada ✅":"Não adicionada ❌"})]})]})]})]})]})]},o)}),l.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-4 sm:px-8 py-4 sm:py-6 flex-shrink-0",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("button",{type:"button",onClick:o===1?t:S,className:"px-4 sm:px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 font-medium text-sm sm:text-base",children:o===1?"Cancelar":"Voltar"}),l.jsx("div",{className:"flex space-x-3",children:o<2?l.jsx("button",{type:"button",onClick:j,disabled:!E(),className:"px-4 sm:px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 dark:disabled:bg-slate-600 font-medium text-sm sm:text-base",children:"Próximo"}):l.jsxs("button",{type:"button",onClick:v,disabled:!E(),className:`px-4 sm:px-6 py-2 text-white rounded-lg font-medium flex items-center text-sm sm:text-base ${m?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} disabled:bg-gray-400 dark:disabled:bg-slate-600`,children:[m?l.jsx(Cc,{className:"w-4 h-4 mr-2"}):l.jsx(qr,{className:"w-4 h-4 mr-2"}),m?"Salvar Alterações":"Cadastrar Imóvel"]})})]})})]})]})})},Nf=({isOpen:a,onClose:t,onConfirm:n,title:r,message:o,confirmText:u="Confirmar",cancelText:d="Cancelar"})=>a?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 dark:bg-opacity-75 flex items-center justify-center z-50 p-4",children:l.jsxs(Re.div,{initial:{opacity:0,scale:.9,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md",children:[l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/30 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx(Fs,{className:"h-6 w-6 text-red-600 dark:text-red-400","aria-hidden":"true"})}),l.jsxs("div",{className:"ml-4 text-left",children:[l.jsx("h3",{className:"text-lg leading-6 font-bold text-gray-900 dark:text-gray-100",id:"modal-title",children:r}),l.jsx("div",{className:"mt-2",children:l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o})})]})]})}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 px-6 py-4 flex flex-col sm:flex-row-reverse gap-3 rounded-b-2xl",children:[l.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:w-auto sm:text-sm",onClick:n,children:u}),l.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-slate-600 shadow-sm px-4 py-2 bg-white dark:bg-slate-700 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:t,children:d})]})]})}):null,Wc=()=>{const{user:a}=Pt(),[t,n]=w.useState([]),[r,o]=w.useState(null),[u,d]=w.useState(null),[f,m]=w.useState(!0),[g,y]=w.useState(null),x=w.useRef(null),v={Gratuito:{properties_limit:1,environments_limit:3,photos_per_environment_limit:5,ai_analysis_limit:null},Básico:{properties_limit:2,environments_limit:null,photos_per_environment_limit:5,ai_analysis_limit:null},Premium:{properties_limit:null,environments_limit:null,photos_per_environment_limit:5,ai_analysis_limit:null}},j=w.useCallback(async()=>{n([{id:"7d66e56a-bea2-4c10-b9ca-0f23f2231a56",name:"Gratuito",price:0,currency:"BRL",interval_type:"month",properties_limit:1,environments_limit:3,photos_per_environment_limit:5,ai_analysis_limit:null,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"f9de3820-0950-4370-99e2-f3bf517ba85d",name:"Básico",price:47,currency:"BRL",interval_type:"month",properties_limit:2,environments_limit:null,photos_per_environment_limit:5,ai_analysis_limit:null,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"d6fa6dd4-bb8c-4461-9172-6d90b4832a43",name:"Premium",price:77,currency:"BRL",interval_type:"month",properties_limit:null,environments_limit:null,photos_per_environment_limit:5,ai_analysis_limit:null,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}])},[]),S=w.useCallback(async()=>{if(a)try{let N="Gratuito";const P=localStorage.getItem("vistoria_subscription");if(P)try{const J=JSON.parse(P);N=J.plan_name||"Gratuito",J.user_id!==a.id&&(localStorage.removeItem("vistoria_subscription"),N="Gratuito")}catch{localStorage.removeItem("vistoria_subscription"),N="Gratuito"}let D=0,z=0,F=0;try{const{data:J}=await de.rpc("get_properties_with_details");J&&Array.isArray(J)&&(D=J.filter(H=>H.user_id===a.id).length,z=J.filter(H=>H.user_id===a.id).reduce((H,Z)=>{var Y;return H+(((Y=Z.inspections)==null?void 0:Y.length)||0)},0),F=J.filter(H=>H.user_id===a.id).reduce((H,Z)=>{var re;const Y=((re=Z.inspections)==null?void 0:re.reduce((ue,ne)=>{var U;return ue+(((U=ne.photos)==null?void 0:U.length)||0)},0))||0;return H+Y},0))}catch(J){console.error("Error fetching usage data:",J),D=0,z=0,F=0}const W=v[N]||v.Gratuito;o({plan_name:N,properties_limit:W.properties_limit,environments_limit:W.environments_limit,photos_per_environment_limit:W.photos_per_environment_limit,ai_analysis_limit:W.ai_analysis_limit,properties_used:D,environments_used:z,photos_uploaded:F,ai_analyses_used:0})}catch(N){console.error("Error fetching user limits:",N),y("Erro ao carregar limites do usuário")}},[a]);w.useEffect(()=>{x.current=S}),w.useEffect(()=>{const N=z=>{z.key==="vistoria_subscription"&&a&&x.current&&x.current()},P=z=>{a&&x.current&&x.current()},D=()=>{!document.hidden&&a&&x.current&&x.current()};return window.addEventListener("storage",N),window.addEventListener("subscriptionUpdated",P),document.addEventListener("visibilitychange",D),()=>{window.removeEventListener("storage",N),window.removeEventListener("subscriptionUpdated",P),document.removeEventListener("visibilitychange",D)}},[a]);const E=w.useCallback(async()=>{if(!a){d(null);return}try{const N=localStorage.getItem("vistoria_subscription");if(N)try{const P=JSON.parse(N);if(P.user_id===a.id&&P.status==="active"){d({id:P.id||1,user_id:P.user_id,plan_name:P.plan_name,price:P.price,asaas_subscription_id:P.asaas_subscription_id||null,asaas_customer_id:P.asaas_customer_id||null,status:P.status,billing_type:P.billing_type||"CREDIT_CARD",created_at:P.created_at||new Date().toISOString(),updated_at:P.updated_at||new Date().toISOString()});return}}catch(P){console.warn("Invalid subscription data in localStorage:",P)}d(null)}catch(N){console.error("Error fetching subscription:",N),d(null)}},[a]),T=w.useCallback(N=>{if(!r)return!1;switch(N){case"create_property":return r.properties_limit===null||r.properties_used<r.properties_limit;case"add_environment":return r.environments_limit===null||r.environments_used<r.environments_limit;case"upload_photo":return!0;default:return!1}},[r]),A=w.useCallback(N=>{if(!r)return{used:0,remaining:0,unlimited:!1};const P=N==="properties"?r.properties_limit:r.environments_limit,D=N==="properties"?r.properties_used:r.environments_used;return P===null?{used:D,remaining:1/0,unlimited:!0}:{used:D,remaining:Math.max(0,P-D),unlimited:!1}},[r]),C=w.useCallback(async(N,P=1)=>{if(!a)return!1;try{return await S(),!0}catch(D){return console.error("Error updating usage:",D),!1}},[a,S]);return w.useEffect(()=>{j()},[]),w.useEffect(()=>{a&&S()},[a,S]),w.useEffect(()=>{a&&E()},[a,E]),w.useEffect(()=>{t.length>0&&(r!==null||!a)&&m(!1)},[t,r,a]),{plans:t,userLimits:r,currentSubscription:u,loading:f,error:g,canPerformAction:T,getRemainingUsage:A,updateUsage:C,refetchLimits:S,refetchSubscription:E}},fb=({action:a,children:t,fallbackMessage:n})=>{const{canPerformAction:r,userLimits:o,getRemainingUsage:u,loading:d}=Wc();if(d)return l.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-slate-700 rounded h-10"});if(r(a))return l.jsx(l.Fragment,{children:t});const m=()=>{switch(a){case"create_property":const v=u("properties");return{title:"Limite de Propriedades Atingido",message:`Você atingiu o limite de ${v.used+v.remaining} propriedades do plano ${o==null?void 0:o.plan_name}.`,cta:"Fazer Upgrade para Criar Mais Propriedades"};case"add_environment":const j=u("environments");return{title:"Limite de Ambientes Atingido",message:`Você atingiu o limite de ${j.used+j.remaining} ambientes do plano ${o==null?void 0:o.plan_name}.`,cta:"Fazer Upgrade para Adicionar Mais Ambientes"};default:return{title:"Limite Atingido",message:n||"Você atingiu o limite do seu plano atual.",cta:"Fazer Upgrade de Plano"}}},{title:g,message:y,cta:x}=m();return l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 text-center",children:[l.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/50 rounded-full mx-auto mb-4",children:l.jsx(vo,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:g}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:y}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l.jsxs(Ie,{to:"/subscription",className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[l.jsx(Hr,{className:"w-4 h-4"}),x]}),l.jsxs(Ie,{to:"/subscription",className:"inline-flex items-center gap-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 px-6 py-3 rounded-lg font-medium transition-colors",children:[l.jsx(On,{className:"w-4 h-4"}),"Ver Todos os Planos"]})]}),o&&l.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["Plano atual: ",o.plan_name]})]})},mb=({type:a,className:t=""})=>{const{getRemainingUsage:n,userLimits:r,loading:o}=Wc();if(o||!r)return l.jsx("div",{className:`animate-pulse bg-gray-200 dark:bg-slate-700 rounded h-6 w-24 ${t}`});const u=n(a),d=u.unlimited?0:u.used/(u.used+u.remaining)*100,f=()=>{switch(a){case"properties":return l.jsx(qa,{className:"w-4 h-4"});case"environments":return l.jsx(Pn,{className:"w-4 h-4"});default:return l.jsx(xt,{className:"w-4 h-4"})}},m=()=>{switch(a){case"properties":return"Propriedades";case"environments":return"Ambientes";default:return"Uso"}},g=()=>u.unlimited?"text-green-600 dark:text-green-400":d>=90?"text-red-600 dark:text-red-400":d>=70?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400",y=()=>u.unlimited?"bg-green-500":d>=90?"bg-red-500":d>=70?"bg-yellow-500":"bg-blue-500";return l.jsxs("div",{className:`flex items-center gap-3 lg:gap-4 ${t}`,children:[l.jsx("div",{className:`${g()} p-2 lg:p-3 rounded-lg bg-opacity-10 ${g().includes("text-blue")?"bg-blue-500":g().includes("text-green")?"bg-green-500":g().includes("text-yellow")?"bg-yellow-500":"bg-red-500"} bg-opacity-10`,children:f()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm lg:text-base mb-1",children:[l.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:m()}),l.jsxs("span",{className:`font-semibold ${g()} text-sm lg:text-base`,children:[u.used," / ",u.unlimited?l.jsx(E_,{className:"w-4 h-4 inline"}):u.unlimited?"∞":u.used+u.remaining]})]}),!u.unlimited&&l.jsx("div",{className:"mt-2",children:l.jsx("div",{className:"h-2 lg:h-3 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-300 ${y()} rounded-full`,style:{width:`${Math.min(d,100)}%`}})})}),u.unlimited&&l.jsx("div",{className:"mt-2 text-xs lg:text-sm text-green-600 dark:text-green-400 font-medium",children:"Uso Ilimitado"})]})]})},u6=()=>{const[a,t]=w.useState([]),[n,r]=w.useState(!0),[o,u]=w.useState(!1),[d,f]=w.useState(""),[m,g]=w.useState(null),[y,x]=w.useState(null),[v,j]=w.useState(!1),S=$t(),{user:E}=Pt(),{updateUsage:T,userLimits:A}=Wc(),C=w.useCallback(async()=>{if(E){r(!0);try{const{data:Y,error:re}=await de.rpc("get_properties_with_details");if(re)console.error("Error fetching properties from RPC:",re),t([]);else if(Y&&Array.isArray(Y)){const ue=Y.map(ne=>Bo(ne,ne.responsible_name)).filter(Boolean);t(ue)}}catch(Y){console.error("An unexpected error occurred while fetching properties:",Y),t([])}finally{r(!1)}}},[E]);w.useEffect(()=>{E&&C()},[E,C]);const N=a.filter(Y=>Y.name.toLowerCase().includes(d.toLowerCase())||Y.address.toLowerCase().includes(d.toLowerCase())),P=async Y=>{if(!E){console.error("User not available");return}const{facadePhotoFile:re,id:ue,...ne}=Y;let U=(m==null?void 0:m.facadePhoto)||null;if(re){const I=re.name.split(".").pop()||"png",K=re.name.replace(`.${I}`,"").toLowerCase().replace(/[^a-z0-9_.-]/g,"-").replace(/\s+/g,"-").replace(/-+/g,"-"),_=`${E.id}/${Date.now()}-${K}.${I}`,{error:O}=await de.storage.from("property_facades").upload(_,re);if(O){console.error("Error uploading photo:",O);return}const{data:X}=de.storage.from("property_facades").getPublicUrl(_);if(U=X.publicUrl,m!=null&&m.facadePhoto){const se=m.facadePhoto.split("/property_facades/").pop();se&&await de.storage.from("property_facades").remove([se])}}else if(!Y.facadePhotoPreview&&(m!=null&&m.facadePhoto)){const I=m.facadePhoto.split("/property_facades/").pop();I&&await de.storage.from("property_facades").remove([I]),U=null}const G={name:ne.name,address:ne.address,type:ne.type,description:ne.description,facade_photo_url:U,user_id:E.id};if(ue){const{error:I}=await de.from("properties").update(G).eq("id",ue);I&&console.error("Error updating property:",I)}else{const{error:I}=await de.from("properties").insert(G);I?console.error("Error creating property:",I):await T("properties",1)}C(),u(!1),g(null)},D=()=>{g(null),u(!0)},z=Y=>{g(Y),u(!0)},F=Y=>{x(Y),j(!0)},W=async()=>{if(!y)return;const{data:Y,error:re}=await de.from("inspections").select("id").eq("property_id",y.id);if(re){console.error("Error fetching inspections for deletion:",re);return}if(Y&&Y.length>0){const ne=Y.map(I=>I.id),{data:U,error:G}=await de.from("inspection_photos").select("photo_url").in("inspection_id",ne);if(G){console.error("Error fetching inspection photos for deletion:",G);return}if(U&&U.length>0){const I=U.map(K=>K.photo_url.split("/inspection_photos/").pop()).filter(Boolean);if(I.length>0){const{error:K}=await de.storage.from("inspection_photos").remove(I);K&&console.error("Error deleting inspection photos from storage:",K)}}}if(y.facadePhoto){const ne=y.facadePhoto.split("/property_facades/").pop();ne&&await de.storage.from("property_facades").remove([ne])}const{error:ue}=await de.from("properties").delete().eq("id",y.id);ue?console.error("Error deleting property:",ue):C(),j(!1),x(null)},J=Y=>{S(`/property/${Y.id}`)},H=Y=>{const re=Y.inspections.filter(G=>G.status==="completed");if(re.length===0)return;const ue=re.find(G=>G.inspection_type==="entry"),ne=re.find(G=>G.inspection_type==="exit");if(ue&&ne){S(`/compare/${ue.id}/${ne.id}`);return}const U=re.sort((G,I)=>new Date(I.created_at).getTime()-new Date(G.created_at).getTime())[0];U&&S(`/reports/${U.id}`)},Z=y?`Tem certeza que deseja excluir o imóvel "${y.name}"? ${y.inspections&&y.inspections.length>0?"Todas as vistorias associadas a ele também serão excluídas permanentemente. ":""}Esta ação não pode ser desfeita.`:"";return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[l.jsx("div",{className:"mb-8 lg:mb-12",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 lg:gap-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-gray-100",children:"Dashboard"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 text-base lg:text-lg",children:"Gerencie seus imóveis e vistorias"})]}),l.jsx(fb,{action:"create_property",children:l.jsxs("button",{onClick:D,className:"inline-flex items-center justify-center px-6 py-3 lg:px-8 lg:py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow-md font-medium text-sm lg:text-base",children:[l.jsx(Gs,{className:"w-5 h-5 mr-2"}),"Novo Imóvel"]})})]})}),l.jsxs("div",{className:"mb-8 lg:mb-12",children:[l.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 lg:mb-6",children:"Status da Conta"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 lg:p-6 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-slate-700",children:l.jsx(mb,{type:"properties"})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 lg:p-6 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-slate-700",children:l.jsx(mb,{type:"environments"})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 lg:p-6 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-slate-700 md:col-span-2 xl:col-span-1",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-blue-600 dark:text-blue-400",children:l.jsx(On,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium text-sm lg:text-base",children:"Plano Atual"}),l.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400 text-sm lg:text-base",children:(A==null?void 0:A.plan_name)||"Carregando..."})]})})]})})]})]}),l.jsx("div",{className:"mb-8 lg:mb-10",children:l.jsxs("div",{className:"relative max-w-md lg:max-w-lg",children:[l.jsx(rS,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Pesquisar por nome ou endereço...",value:d,onChange:Y=>f(Y.target.value),className:"w-full pl-12 pr-4 py-3 lg:py-4 border border-gray-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-800 dark:text-white shadow-sm hover:shadow-md transition-all duration-200 text-sm lg:text-base"})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:n?l.jsx("div",{className:"flex justify-center items-center py-16 lg:py-24",children:l.jsx(la,{className:"w-12 h-12 lg:w-16 lg:h-16 text-blue-500 animate-spin"})}):N.length===0?l.jsxs("div",{className:"text-center py-16 lg:py-24 px-4",children:[l.jsx("div",{className:"w-32 h-32 lg:w-40 lg:h-40 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6 lg:mb-8",children:l.jsx(Mo,{className:"w-12 h-12 lg:w-16 lg:h-16 text-gray-400 dark:text-slate-500"})}),l.jsx("h3",{className:"text-xl lg:text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-3 lg:mb-4",children:d?"Nenhum imóvel encontrado":"Nenhum imóvel cadastrado"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 lg:mb-8 max-w-md lg:max-w-lg mx-auto text-base lg:text-lg",children:d?"Tente ajustar sua pesquisa para encontrar o imóvel desejado":"Comece adicionando seu primeiro imóvel para realizar vistorias"}),!d&&l.jsx(fb,{action:"create_property",children:l.jsxs("button",{onClick:D,className:"inline-flex items-center px-6 py-3 lg:px-8 lg:py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow-md font-medium text-sm lg:text-base",children:[l.jsx(Gs,{className:"w-5 h-5 mr-2"}),"Cadastrar Primeiro Imóvel"]})})]}):l.jsxs("div",{className:"p-4 lg:p-6",children:[l.jsxs("div",{className:"mb-4 lg:mb-6",children:[l.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Meus Imóveis"}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm lg:text-base mt-1",children:["Total: ",N.length," imóvel",N.length!==1?"s":""]})]}),l.jsx(Re.div,{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4 lg:gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:N.map((Y,re)=>l.jsx(Re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2,delay:re*.05},children:l.jsx(l6,{property:Y,onViewDetails:J,onEdit:z,onDelete:F,onViewReport:H})},Y.id))})]})})]}),l.jsx(c6,{isOpen:o,onClose:()=>{u(!1),g(null)},onSubmit:P,propertyToEdit:m}),l.jsx(Nf,{isOpen:v,onClose:()=>j(!1),onConfirm:W,title:"Confirmar Exclusão",message:Z,confirmText:"Excluir",cancelText:"Cancelar"})]})},d6=({onPhotoUploaded:a,idSuffix:t,roomName:n})=>{const[r,o]=w.useState(!1),u=`photo-upload-${t}`,d=w.useCallback(y=>{const x=y[0];x&&x.type.startsWith("image/")&&a(x)},[a]),f=w.useCallback(y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?o(!0):y.type==="dragleave"&&o(!1)},[]),m=w.useCallback(y=>{y.preventDefault(),y.stopPropagation(),o(!1),y.dataTransfer.files&&y.dataTransfer.files[0]&&d(y.dataTransfer.files)},[d]),g=w.useCallback(y=>{y.target.files&&y.target.files[0]&&d(y.target.files)},[d]);return l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-slate-600 hover:border-gray-400 dark:hover:border-slate-500"}`,onDragEnter:f,onDragLeave:f,onDragOver:f,onDrop:m,children:[l.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"hidden",id:u}),l.jsx(xt,{className:"w-12 h-12 text-gray-400 dark:text-slate-500 mx-auto mb-4"}),l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:["Adicionar Foto para Análise da ",l.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:n})]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Arraste uma foto aqui ou clique para selecionar"}),l.jsxs("label",{htmlFor:u,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer transition-colors",children:[l.jsx(Hb,{className:"w-4 h-4 mr-2"}),"Selecionar Foto"]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:"Formatos suportados: JPG, PNG, WebP"})]})},W1=()=>{const[a,t]=w.useState(""),[n,r]=w.useState(!1),[o,u]=w.useState(null),d=w.useRef(null);w.useEffect(()=>{const x=window.SpeechRecognition||window.webkitSpeechRecognition;if(x){const v=new x;v.continuous=!1,v.interimResults=!1,v.lang="pt-BR",v.onresult=j=>{const S=j.results[0][0].transcript;t(S),u(null)},v.onerror=j=>{console.error("Speech recognition error",j.error),j.error==="not-allowed"||j.error==="service-not-allowed"?u('Acesso ao microfone negado. Para usar o ditado por voz, siga estes passos: 1. Clique no ícone de cadeado 🔒 na barra de endereço. 2. Encontre "Microfone" e mude para "Permitir". 3. Recarregue a página.'):u(`Erro no reconhecimento de voz: ${j.error}`),r(!1)},v.onend=()=>{r(!1)},d.current=v}},[]);const f=w.useCallback(()=>{if(d.current&&!n){t(""),u(null);try{d.current.start(),r(!0)}catch(x){console.error("Error starting speech recognition:",x),u(`Não foi possível iniciar o microfone: ${x.message}`),r(!1)}}},[n]),m=w.useCallback(()=>{d.current&&n&&(d.current.stop(),r(!1))},[n]),g=w.useCallback(()=>{u(null)},[]),y=!!(window.SpeechRecognition||window.webkitSpeechRecognition);return{transcript:a,isListening:n,startListening:f,stopListening:m,hasRecognitionSupport:y,error:o,clearError:g}},h6=({isOpen:a,onClose:t,onSubmit:n,itemType:r,itemToEdit:o})=>{const u=!!o,[d,f]=w.useState({}),[m,g]=w.useState(null),{transcript:y,isListening:x,startListening:v,stopListening:j,hasRecognitionSupport:S,error:E,clearError:T}=W1();w.useEffect(()=>{f(u&&o?o:r==="object"?{item:"",color:"",material:"",condition:"good"}:r==="issue"?{type:"",description:"",location:"",severity:"low"}:{element:"piso",material:"",color:"",condition:"good"}),T()},[a,u,o,r,T]),w.useEffect(()=>{y&&m&&f(J=>({...J,[m]:J[m]?`${J[m]} ${y}`:y}))},[y,m]);const A=J=>{const{name:H,value:Z}=J.target;f(Y=>({...Y,[H]:Z}))},C=J=>{J.preventDefault(),n(d)},N=J=>{x?(j(),g(null)):(T(),g(J),v())};if(!a)return null;const P=u?`Editar ${r==="object"?"Objeto":r==="issue"?"Problema":"Acabamento"}`:`Adicionar Novo ${r==="object"?"Objeto":r==="issue"?"Problema":"Acabamento"}`,D=J=>{if(!S)return null;const H=x&&m===J;return l.jsx("button",{type:"button",onClick:()=>N(J),className:`absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-full transition-colors ${H?"bg-red-500 text-white animate-pulse":"bg-gray-200 dark:bg-slate-600 text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-slate-500"}`,children:l.jsx(Fh,{className:"w-4 h-4"})})},z=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Item"}),l.jsx("input",{type:"text",name:"item",value:d.item||"",onChange:A,required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),D("item")]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cor"}),l.jsx("input",{type:"text",name:"color",value:d.color||"",onChange:A,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),D("color")]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Material"}),l.jsx("input",{type:"text",name:"material",value:d.material||"",onChange:A,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),D("material")]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Condição"}),l.jsxs("select",{name:"condition",value:d.condition||"good",onChange:A,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"new",children:"Novo"}),l.jsx("option",{value:"good",children:"Bom"}),l.jsx("option",{value:"worn",children:"Desgastado"}),l.jsx("option",{value:"damaged",children:"Danificado"}),l.jsx("option",{value:"not_found",children:"Não encontrada"})]})]})]}),F=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo do Problema"}),l.jsx("input",{type:"text",name:"type",value:d.type||"",onChange:A,required:!0,placeholder:"Ex: Rachadura na parede",className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),D("type")]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descrição"}),l.jsx("textarea",{name:"description",value:d.description||"",onChange:A,required:!0,rows:3,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white resize-none"}),D("description")]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Localização"}),l.jsx("input",{type:"text",name:"location",value:d.location||"",onChange:A,required:!0,placeholder:"Ex: Canto superior direito",className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),D("location")]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Severidade"}),l.jsxs("select",{name:"severity",value:d.severity||"low",onChange:A,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"low",children:"Baixa"}),l.jsx("option",{value:"medium",children:"Média"}),l.jsx("option",{value:"high",children:"Alta"}),l.jsx("option",{value:"critical",children:"Crítica"})]})]})]}),W=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Elemento"}),l.jsxs("select",{name:"element",value:d.element||"piso",onChange:A,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"piso",children:"Piso"}),l.jsx("option",{value:"parede",children:"Parede"}),l.jsx("option",{value:"teto",children:"Teto"}),l.jsx("option",{value:"esquadria",children:"Esquadria"}),l.jsx("option",{value:"bancada",children:"Bancada"}),l.jsx("option",{value:"etc",children:"Outro"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Material"}),l.jsx("input",{type:"text",name:"material",value:d.material||"",onChange:A,required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),D("material")]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cor"}),l.jsx("input",{type:"text",name:"color",value:d.color||"",onChange:A,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),D("color")]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Condição"}),l.jsxs("select",{name:"condition",value:d.condition||"good",onChange:A,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"new",children:"Novo"}),l.jsx("option",{value:"good",children:"Bom"}),l.jsx("option",{value:"worn",children:"Desgastado"}),l.jsx("option",{value:"damaged",children:"Danificado"}),l.jsx("option",{value:"not_found",children:"Não encontrada"})]})]})]});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 dark:bg-opacity-75 flex items-center justify-center z-50 p-4",children:l.jsx(Re.div,{initial:{opacity:0,scale:.9,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-lg",children:l.jsxs("form",{onSubmit:C,children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-slate-700",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:P}),l.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700",children:l.jsx(ba,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),l.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[E&&l.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 dark:bg-red-900/30 dark:border-red-400 dark:text-red-200 p-4 rounded-md",role:"alert",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"py-1",children:l.jsx(Fs,{className:"h-5 w-5 text-red-500 dark:text-red-400 mr-3"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:"Permissão Necessária"}),l.jsx("p",{className:"text-sm",children:E})]}),l.jsx("button",{type:"button",onClick:T,className:"ml-auto -mx-1.5 -my-1.5 p-1.5 rounded-lg focus:ring-2 focus:ring-red-400 inline-flex h-8 w-8",children:l.jsx(ba,{className:"h-5 w-5"})})]})}),r==="object"&&z(),r==="issue"&&F(),r==="finish"&&W()]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 px-6 py-4 flex justify-end gap-3 rounded-b-2xl",children:[l.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 dark:bg-slate-600 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-slate-500",onClick:t,children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[l.jsx(Cc,{className:"w-4 h-4 mr-2"}),u?"Salvar Alterações":"Adicionar Item"]})]})]})})})},Nc=a=>typeof a!="string"||!a?a:a.charAt(0).toUpperCase()+a.slice(1).toLowerCase(),Ao=a=>({new:"Novo",good:"Bom",worn:"Desgastado",damaged:"Danificado",not_found:"Não encontrada"})[a]||a,f6=a=>({excellent:"Excelente",good:"Bom",fair:"Regular",poor:"Ruim"})[a]||a,jm=a=>({low:"Baixa",medium:"Média",high:"Alta",critical:"Crítica"})[a]||a,Tf=a=>!!a&&a.toLowerCase()!=="not_found"&&a.toLowerCase()!=="n/a"&&a.trim()!=="",pc=a=>Tf(a)?Nc(a):"Não informado",Co=a=>{const t=[Tf(a.material)?Nc(a.material):null,Tf(a.color)?Nc(a.color):null].filter(Boolean),n=Nc(a.item);return t.length>0?`${n} (${t.join(", ")})`:n},Dn=a=>{switch(a){case"new":case"excellent":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300";case"good":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";case"worn":case"fair":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"damaged":case"poor":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300";case"not_found":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300 font-bold";default:return"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-200"}},Vc=a=>{switch(a){case"low":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"medium":return"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300";case"high":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300";case"critical":return"bg-red-200 text-red-900 dark:bg-red-800/50 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-200"}},m6=({analysis:a,photoId:t,photoUrl:n,onUpdateAnalysis:r,onDeletePhoto:o})=>{var H,Z,Y,re,ue,ne,U,G;const[u,d]=w.useState(a),[f,m]=w.useState(!1),[g,y]=w.useState(a.description),[x,v]=w.useState(!1),[j,S]=w.useState(!1),[E,T]=w.useState(null),[A,C]=w.useState(null);w.useEffect(()=>{d(a),y(a.description)},[a]);const N=I=>{d(I),r(t,I)},P=()=>{const I={...u,description:g};N(I),m(!1)},D=(I,K)=>{T({type:I,item:K}),S(!0)},z=(I,K)=>{let _;I==="object"?_={...u,objectsDetected:u.objectsDetected.filter(O=>O.id!==K)}:I==="issue"?_={...u,issues:u.issues.filter(O=>O.id!==K)}:_={...u,finishes:u.finishes.filter(O=>O.id!==K)},N(_)},F=I=>{if(!E)return;const{type:K,item:_}=E;let O;const X={...I,id:_?_.id:crypto.randomUUID(),isManual:!0,confidence:1};if(K==="object"){const se=_?u.objectsDetected.map(te=>te.id===X.id?X:te):[...u.objectsDetected,X];O={...u,objectsDetected:se}}else if(K==="issue"){const se=_?u.issues.map(te=>te.id===X.id?X:te):[...u.issues,X];O={...u,issues:se}}else{const se=_?u.finishes.map(te=>te.id===X.id?X:te):[...u.finishes,X];O={...u,finishes:se}}N(O),S(!1),T(null)},W=I=>{if(!A)return;const K=I.currentTarget.getBoundingClientRect(),_=(I.clientX-K.left)/K.width*100,O=(I.clientY-K.top)/K.height*100,X=u.objectsDetected.map(se=>se.id===A.id?{...se,markerCoordinates:{x:_,y:O}}:se);N({...u,objectsDetected:X}),C(null)},J=I=>{switch(I){case"excellent":case"good":case"new":return l.jsx(Mn,{className:"w-4 h-4"});case"fair":case"worn":return l.jsx(Fs,{className:"w-4 h-4"});case"poor":case"damaged":return l.jsx(Lb,{className:"w-4 h-4"});default:return null}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md overflow-hidden relative",children:[l.jsx("button",{onClick:o,className:"absolute top-3 right-3 z-10 p-2 text-gray-500 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm rounded-full hover:bg-red-100 dark:hover:bg-red-900/50 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Excluir esta foto e análise",children:l.jsx(co,{className:"w-4 h-4"})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:`relative w-full h-64 rounded-lg overflow-hidden group bg-slate-100 dark:bg-slate-900/50 ${A?"cursor-crosshair":"cursor-pointer"}`,onClick:A?W:()=>v(!0),children:[l.jsx("img",{src:n,alt:"Foto analisada",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"}),!A&&l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity duration-300",onClick:I=>{I.stopPropagation(),v(!0)},children:l.jsx(Ic,{className:"w-8 h-8 text-white"})}),A&&l.jsxs("div",{className:"absolute inset-0 bg-blue-500/30 flex flex-col items-center justify-center text-white p-4 text-center",children:[l.jsx(X_,{className:"w-10 h-10 mb-2"}),l.jsx("p",{className:"font-bold",children:"Clique na imagem"}),l.jsxs("p",{className:"text-sm",children:['Marque onde o item "',A.item,'" deveria estar.']})]})]}),l.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[l.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center ${Dn(u.roomCondition)}`,children:[J(u.roomCondition),l.jsx("span",{className:"ml-1.5 capitalize",children:f6(u.roomCondition)})]}),l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Confiança: ",(u.confidence*100).toFixed(0),"%"]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Descrição do Ambiente"}),l.jsx("button",{onClick:()=>m(!f),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-1 rounded-full",children:l.jsx(yh,{className:"w-4 h-4"})})]}),f?l.jsxs("div",{className:"space-y-2",children:[l.jsx("textarea",{value:g,onChange:I=>y(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",rows:3}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:P,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:"Salvar"}),l.jsx("button",{onClick:()=>{m(!1),y(u.description)},className:"px-3 py-1 bg-gray-200 dark:bg-slate-600 text-gray-700 dark:text-gray-200 text-sm rounded-md hover:bg-gray-300 dark:hover:bg-slate-500",children:"Cancelar"})]})]}):l.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:g})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[l.jsx(Vb,{className:"w-4 h-4 mr-2 text-gray-500"}),"Objetos Identificados"]}),l.jsxs("button",{onClick:()=>D("object"),className:"flex items-center text-sm text-blue-600 dark:text-blue-400 hover:underline",children:[l.jsx(Gs,{className:"w-3 h-3 mr-1"}),"Adicionar"]})]}),l.jsx("div",{className:"space-y-2",children:(H=u.objectsDetected)==null?void 0:H.map((I,K)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-slate-700/50 rounded-md group",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:Co(I)}),I.isManual&&l.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-1.5 py-0.5 rounded-full",children:"Manual"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Dn(I.condition)}`,children:Ao(I.condition)}),l.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[I.condition==="not_found"&&l.jsx("button",{onClick:()=>C(I),className:"p-1 text-gray-500 hover:text-blue-500 dark:hover:text-blue-400",title:"Marcar Local na Foto",children:l.jsx(Pn,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>D("object",I),className:"p-1 text-gray-500 hover:text-blue-500 dark:hover:text-blue-400",children:l.jsx(yh,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>z("object",I.id),className:"p-1 text-gray-500 hover:text-red-500 dark:hover:text-red-400",children:l.jsx(co,{className:"w-3 h-3"})})]})]})]},`object-${I.id||K}`))}),l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[l.jsx(Q_,{className:"w-4 h-4 mr-2 text-gray-500"}),"Acabamentos"]}),l.jsxs("button",{onClick:()=>D("finish"),className:"flex items-center text-sm text-blue-600 dark:text-blue-400 hover:underline",children:[l.jsx(Gs,{className:"w-3 h-3 mr-1"}),"Adicionar"]})]}),l.jsx("div",{className:"space-y-2",children:(Z=u.finishes)==null?void 0:Z.map((I,K)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-slate-700/50 rounded-md group",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 capitalize",children:[I.element,": ",pc(I.material)," (",pc(I.color),")"]}),I.isManual&&l.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-1.5 py-0.5 rounded-full",children:"Manual"})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Dn(I.condition)}`,children:Ao(I.condition)})})]},`finish-${I.id||K}`))}),l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[l.jsx(Fs,{className:"w-4 h-4 mr-2 text-gray-500"}),"Problemas Identificados"]}),l.jsxs("button",{onClick:()=>D("issue"),className:"flex items-center text-sm text-blue-600 dark:text-blue-400 hover:underline",children:[l.jsx(Gs,{className:"w-3 h-3 mr-1"}),"Adicionar"]})]}),l.jsx("div",{className:"space-y-2",children:(Y=u.issues)==null?void 0:Y.map((I,K)=>l.jsxs("div",{className:"p-3 border border-gray-200 dark:border-slate-700 rounded-md group",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"font-medium text-sm text-gray-800 dark:text-gray-200",children:I.type}),l.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${Vc(I.severity)}`,children:jm(I.severity)}),I.isManual&&l.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-1.5 py-0.5 rounded-full",children:"Manual"})]}),l.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>D("issue",I),className:"p-1 text-gray-500 hover:text-blue-500 dark:hover:text-blue-400",children:l.jsx(yh,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>z("issue",I.id),className:"p-1 text-gray-500 hover:text-red-500 dark:hover:text-red-400",children:l.jsx(co,{className:"w-3 h-3"})})]})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:I.description}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:I.location})]},`issue-${I.id||K}`))}),l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[l.jsx(uS,{className:"w-4 h-4 mr-2 text-gray-500"}),"Segurança"]})}),l.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Fechaduras:"})," ",pc((re=u.safety)==null?void 0:re.locks)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Elétrica:"})," ",pc((ue=u.safety)==null?void 0:ue.electrical)]}),(U=(ne=u.safety)==null?void 0:ne.hazards)==null?void 0:U.map((I,K)=>l.jsxs("p",{children:[l.jsx("strong",{children:"Risco:"})," ",I]},K))]}),l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[l.jsx(ES,{className:"w-4 h-4 mr-2 text-gray-500"}),"Recomendações"]})}),l.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700 dark:text-gray-300 space-y-1",children:(G=u.maintenanceRecommendations)==null?void 0:G.map((I,K)=>l.jsx("li",{children:I},K))})]})]})]})]}),l.jsx(Qc,{isOpen:x,onClose:()=>v(!1),imageUrl:n}),j&&E&&l.jsx(h6,{isOpen:j,onClose:()=>S(!1),onSubmit:F,itemType:E.type,itemToEdit:E.item})]})},g6=({roomName:a,photos:t,onPhotoAnalyzed:n,onUpdateAnalysis:r,onDeleteRoom:o,onDeletePhoto:u,uploadError:d,clearError:f,isAnalyzing:m})=>{const g=t.length,y=g<5,x=j=>{n(j,a)},v=a.replace(/\s+/g,"-").toLowerCase();return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:a}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 px-3 py-1 rounded-full",children:[g," / 5 fotos"]}),l.jsxs("button",{onClick:o,className:"flex items-center px-3 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 rounded-lg hover:bg-red-200 dark:hover:bg-red-800/50",title:"Excluir este ambiente e todas as suas fotos permanentemente.",children:[l.jsx(co,{className:"w-4 h-4 mr-1.5"}),"Excluir Ambiente"]})]})]}),d&&l.jsxs("div",{className:"mb-4 p-4 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-600 rounded-lg text-red-700 dark:text-red-200 flex items-center justify-between",children:[l.jsx("p",{className:"text-sm",children:d}),l.jsx("button",{onClick:f,className:"p-1 rounded-full hover:bg-red-200 dark:hover:bg-red-800/50",children:l.jsx(ba,{className:"w-4 h-4"})})]}),m&&l.jsxs("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg text-blue-700 dark:text-blue-200 flex items-center justify-center",children:[l.jsx(la,{className:"w-5 h-5 mr-3 animate-spin"}),l.jsx("p",{className:"text-sm font-medium",children:"Analisando imagem com a IA..."})]}),l.jsx("div",{className:"space-y-4",children:t.map(j=>l.jsx(m6,{photoId:j.id,analysis:j.analysisResult,photoUrl:j.url,onUpdateAnalysis:r,onDeletePhoto:()=>u(j)},j.id))}),y&&!m?l.jsx("div",{className:"mt-6",children:l.jsx(d6,{onPhotoUploaded:x,idSuffix:v,roomName:a})}):!m&&l.jsx("div",{className:"mt-6 text-center p-4 bg-green-50 dark:bg-green-900/30 rounded-lg",children:l.jsx("p",{className:"font-medium text-green-700 dark:text-green-300",children:"Limite de 5 fotos atingido para este ambiente."})})]})},p6=["Sala de Estar","Cozinha","Banheiro","Quarto 1","Garagem","Área de Serviço","Varanda","Lavanderia","Closet","Copa"],y6=async(a,t,n,r=!1,o)=>{var S,E;const u=T=>{let A=0;for(let C=0;C<T.length;C++){const N=T.charCodeAt(C);A=(A<<5)-A+N,A=A&A}return Math.abs(A)};if(r&&o&&n)return console.log("🔄 Using conservative analysis for duplicate image"),{...o,objectsDetected:o.objectsDetected.map(A=>({...A,id:crypto.randomUUID(),condition:A.condition==="not_found"?"good":A.condition,isManual:!1})),issues:o.issues.map(A=>({...A,id:crypto.randomUUID(),isManual:!1})),finishes:o.finishes.map(A=>({...A,id:crypto.randomUUID(),isManual:!1})),description:`Análise conservativa aplicada - mesma imagem da entrada. ${o.description}`,confidence:Math.min(o.confidence,.95)};const d=u(a),m=(T=>{const A=T.toLowerCase();return A.includes("sala")||A.includes("estar")?"OBJETOS PRIORITÁRIOS PARA SALA: sofá, poltrona, mesa de centro, mesa lateral, televisão, estante, rack para TV, tapete, almofadas, cortinas, luminária, abajur, quadros, plantas, ar-condicionado, ventilador de teto, mesa de jantar, cadeiras de jantar, buffet, cristaleira.":A.includes("cozinha")?"OBJETOS PRIORITÁRIOS PARA COZINHA: geladeira, fogão, forno, micro-ondas, coifa, exaustor, pia, torneira, armários superiores, armários inferiores, bancada, mesa, cadeiras, banquetas, liquidificador, batedeira, cafeteira, torradeira, panelas, utensílios pendurados.":A.includes("banheiro")||A.includes("lavabo")?"OBJETOS PRIORITÁRIOS PARA BANHEIRO: vaso sanitário, pia, torneira, chuveiro, ducha, box, espelho, armário, gabinete, toalhas, tapete, porta-toalhas, saboneteira, suporte papel higiênico, lixeira, produtos de higiene visíveis.":A.includes("quarto")||A.includes("dormitório")?"OBJETOS PRIORITÁRIOS PARA QUARTO: cama, colchão, travesseiros, lençóis, guarda-roupa, cômoda, criado-mudo, penteadeira, cadeira, poltrona, espelho, luminária, abajur, cortinas, tapete, televisão, ar-condicionado, ventilador.":A.includes("área")||A.includes("serviço")||A.includes("lavanderia")?"OBJETOS PRIORITÁRIOS PARA ÁREA DE SERVIÇO: máquina de lavar, secadora, tanque, torneira, armários, prateleiras, varal, tábua de passar, ferro de passar, produtos de limpeza, vassouras, rodos, baldes.":A.includes("garagem")?"OBJETOS PRIORITÁRIOS PARA GARAGEM: portão, motor do portão, estantes, armários, ferramentas, equipamentos, bicicletas, objetos pendurados, workbench, compressor, aspirador.":"OBJETOS PRIORITÁRIOS GERAIS: identifique TODOS os móveis, eletrodomésticos, utensílios, decorações e instalações visíveis no ambiente."})(t),{data:g,error:y}=await de.functions.invoke("analyze-image",{body:{imageUrl:a,roomName:t,entryObjects:n,imageSeed:d,isDuplicateImage:r,consistencyMode:n?"comparison":"initial",standardDetectionInstructions:`DETECÇÃO PADRONIZADA DE OBJETOS: Analise esta imagem sendo EXTREMAMENTE CONSISTENTE na identificação de objetos. 

CRITÉRIOS OBRIGATÓRIOS:
1. NOMENCLATURA: Use nomes específicos e padronizados (ex: "sofá", "mesa de centro", "televisão", "geladeira")
2. MATERIAL: Seja preciso (tecido, madeira, metal, vidro, cerâmica, couro, plástico)
3. COR: Use cores básicas consistentes (branco, preto, cinza, marrom, bege, azul, verde, vermelho, amarelo)
4. CONDIÇÃO: excellent/good/fair/poor baseado no estado visual do objeto
5. DETECÇÃO: Identifique TODOS os objetos móveis, eletrodomésticos, utensílios e acessórios

${m}

IMPORTANTE: Mantenha CONSISTÊNCIA total entre análises - mesmo objeto deve ter SEMPRE o mesmo nome, material e cor em análises diferentes.`,analysisInstructions:n?`ANÁLISE DE SAÍDA: Esta é uma vistoria de SAÍDA. Analise os objetos usando EXATAMENTE os mesmos critérios da entrada. ${r?"CRÍTICO: Esta parece ser a mesma imagem da entrada. Seja EXTREMAMENTE conservador - só reporte diferenças se tiver 100% de certeza.":"Compare com os objetos da entrada fornecidos e detecte: 1) Objetos presentes com MESMA nomenclatura/material/cor 2) Objetos com condição alterada 3) Objetos não encontrados (condition: not_found) 4) Objetos novos não presentes na entrada. MANTENHA consistência na nomenclatura!"}`:"ANÁLISE DE ENTRADA: Esta é uma vistoria de ENTRADA. Crie o inventário base que será usado para comparação futura. Seja MUITO preciso na nomenclatura, material e cor pois isso será a referência para a vistoria de saída."}});if(y){console.error("Error invoking edge function:",y);const T=((E=(S=y.context)==null?void 0:S.error)==null?void 0:E.message)||y.message;throw new Error(T)}const x=g,v=(T,A,C)=>{const P={"vaso sanitário":{x:25,y:70},pia:{x:75,y:60},torneira:{x:75,y:50},espelho:{x:75,y:30},chuveiro:{x:20,y:30},ralo:{x:20,y:85},"porta-toalhas":{x:60,y:40},"suporte de papel higiênico":{x:15,y:60},iluminação:{x:50,y:15},lixeira:{x:80,y:80},tapete:{x:40,y:75},toalhas:{x:60,y:40},geladeira:{x:20,y:50},fogão:{x:50,y:60},"micro-ondas":{x:70,y:40},"pia da cozinha":{x:75,y:65},armário:{x:50,y:30},gaveta:{x:50,y:70},sofá:{x:50,y:70},televisão:{x:50,y:40},"mesa de centro":{x:50,y:60},poltrona:{x:25,y:65},estante:{x:20,y:40},cama:{x:50,y:60},"guarda-roupa":{x:20,y:40},"criado-mudo":{x:75,y:55},cômoda:{x:80,y:40},janela:{x:80,y:30},porta:{x:10,y:50},interruptor:{x:15,y:45},tomada:{x:20,y:75},cortina:{x:80,y:30},ventilador:{x:50,y:20}}[T.toLowerCase()];if(P)return P;const D=Math.ceil(Math.sqrt(C)),z=Math.floor(A/D);return{x:20+A%D*60/Math.max(1,D-1),y:25+z*50/Math.max(1,Math.ceil(C/D)-1)}};return{...x,objectsDetected:(x.objectsDetected||[]).map((T,A,C)=>({...T,id:crypto.randomUUID(),isManual:!1,markerCoordinates:T.markerCoordinates||v(T.item,A,C.length)})),issues:(x.issues||[]).map(T=>({...T,id:crypto.randomUUID(),isManual:!1})),finishes:(x.finishes||[]).map(T=>({...T,id:crypto.randomUUID(),isManual:!1}))}},x6=()=>{var Ho,Go,tn;const a=wa(),t=$t(),{user:n}=Pt(),r=(Ho=a.state)==null?void 0:Ho.property,o=(Go=a.state)==null?void 0:Go.inspectionType,u=(tn=a.state)==null?void 0:tn.inspectionId,[d,f]=w.useState(u||null),[m,g]=w.useState("pending"),[y,x]=w.useState([]),[v,j]=w.useState([]),[S,E]=w.useState(""),[T,A]=w.useState(!0),[C,N]=w.useState("Iniciando nova vistoria..."),[P,D]=w.useState(""),[z,F]=w.useState(!1),[W,J]=w.useState(!1),[H,Z]=w.useState(null),[Y,re]=w.useState(!1),[ue,ne]=w.useState(null),[U,G]=w.useState(!1),{transcript:I,isListening:K,startListening:_,stopListening:O,hasRecognitionSupport:X,error:se,clearError:te}=W1(),{addToast:le,updateToast:he}=gs(),[Be,xe]=w.useState(null),[We,ua]=w.useState(null),[Un,Ia]=w.useState({}),[Zs,ii]=w.useState([]);w.useEffect(()=>{I&&E(ie=>ie?`${ie} ${I}`:I)},[I]);const $o=w.useCallback(async ie=>{N("Carregando vistoria existente..."),A(!0);const{data:be,error:je}=await de.from("inspections").select(`
        *,
        inspection_photos (
          id,
          photo_url,
          room,
          ai_analysis_result,
          created_at
        )
      `).eq("id",ie).single();if(je||!be){console.error("Error fetching existing inspection with photos:",je),A(!1);return}const Ze=be,lt=(be.inspection_photos||[]).map(bt=>({id:bt.id,url:bt.photo_url,room:bt.room,analysisResult:bt.ai_analysis_result,uploadedAt:new Date(bt.created_at)}));x(lt),g(Ze.status),D(Ze.general_observations||"");const Ha=[...new Set(lt.map(bt=>bt.room))].filter(bt=>bt);j(Ha),A(!1)},[]),oi=w.useCallback(async()=>{if(!r||!o||!n)return;N("Iniciando nova vistoria..."),A(!0);const{data:ie,error:be}=await de.from("inspections").insert({property_id:r.id,inspection_date:new Date().toISOString(),status:"in-progress",inspection_type:o}).select().single();be?console.error("Error creating inspection:",be):(f(ie.id),g("in-progress")),A(!1)},[r,o,n]),qt=w.useCallback(async()=>{if(!r)return;N("Carregando ambientes da vistoria de entrada..."),A(!0);const ie=r.inspections.find(Ze=>Ze.inspection_type==="entry");if(!ie){A(!1);return}const{data:be,error:je}=await de.from("inspection_photos").select("*").eq("inspection_id",ie.id);if(je)console.error("Error fetching entry inspection photos:",je);else{const Ze=be.map(lt=>({id:lt.id,url:lt.photo_url,room:lt.room,analysisResult:lt.ai_analysis_result,uploadedAt:new Date(lt.created_at)}));ii(Ze);const He=[...new Set(Ze.map(lt=>lt.room))].filter(lt=>lt);j(He)}},[r]);if(w.useEffect(()=>{if(!r||!o){A(!1);return}u?$o(u):o==="exit"?qt().then(()=>oi()):oi()},[r,o,u,oi,$o,qt]),!r||!o)return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Informações incompletas para iniciar a vistoria."}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Por favor, inicie a vistoria a partir da página de detalhes do imóvel."}),l.jsx("button",{onClick:()=>t("/dashboard"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:"Voltar para o Dashboard"})]});const Zc=async(ie,be)=>{var Vn,Bn,li,Yo,da,ct,vt,Ga,$n,Xo,Ko,ci,ys,qn,Fa,Ya;if(!d){le("ID da vistoria não encontrado. Recarregue a página.","error");return}ua(be),Ia(De=>({...De,[be]:null}));const je=le(`Analisando imagem para ${be}...`,"loading"),Ze=ie.name.split(".").pop()||"png",He=ie.name.replace(`.${Ze}`,"").toLowerCase().replace(/[^a-z0-9_.-]/g,"-").replace(/\s+/g,"-").replace(/-+/g,"-"),lt=`${d}/${Date.now()}-${He}.${Ze}`,{error:Ha}=await de.storage.from("inspection_photos").upload(lt,ie);if(Ha){console.error("Error uploading photo:",Ha),he(je,`Falha no upload da foto: ${Ha.message}`,"error"),ua(null),Ia(De=>({...De,[be]:`Falha no upload: ${Ha.message}`}));return}const{data:bt}=de.storage.from("inspection_photos").getPublicUrl(lt);let ps;try{const De=o==="exit"?Zs.filter(_a=>_a.room===be).flatMap(_a=>{var Sa;return((Sa=_a.analysisResult)==null?void 0:Sa.objectsDetected)||[]}):void 0;let wt=!1,Xe=null;if(o==="exit"&&Zs.length>0){const _a=Zs.find(Sa=>Sa.room===be);if(_a){const Sa=_a.url,Na=bt.publicUrl,Ta=((Vn=Sa.split("/").pop())==null?void 0:Vn.split("?")[0])||"",ui=((Bn=Na.split("/").pop())==null?void 0:Bn.split("?")[0])||"";(Ta===ui||Ta.includes("sala")&&ui.includes("sala")||Ta.includes("cozinha")&&ui.includes("cozinha"))&&(console.log("🔍 Detected potential duplicate image for room:",be),console.log("Entry URL:",Sa),console.log("Current URL:",Na),wt=!0,Xe=_a.analysisResult)}}ps=await y6(bt.publicUrl,be,De,wt,Xe)}catch(De){console.error("Error getting AI analysis:",De);let wt="";(li=De.message)!=null&&li.includes("rate limit")||(Yo=De.message)!=null&&Yo.includes("too many requests")||(da=De.message)!=null&&da.includes("muitas requisições")||(Ga=(vt=(ct=De.context)==null?void 0:ct.error)==null?void 0:vt.message)!=null&&Ga.includes("rate limit")||(Ko=(Xo=($n=De.context)==null?void 0:$n.error)==null?void 0:Xo.message)!=null&&Ko.includes("too many requests")?wt="Serviço de análise com muitas requisições . Tente novamente em alguns instantes":(ci=De.message)!=null&&ci.includes("Failed to send a request to the Edge Function")||De.name==="FunctionsFetchError"||De.name==="FunctionsHttpError"||(ys=De.message)!=null&&ys.includes("Edge Function returned a non-2xx status code")?wt="Serviço de análise temporariamente indisponível. Tente novamente em alguns instantes ou verifique se há uma chave de API configurada.":(qn=De.message)!=null&&qn.includes("network")||(Fa=De.message)!=null&&Fa.includes("fetch")?wt="Problemas de conexão. Verifique sua internet e tente novamente.":(Ya=De.message)!=null&&Ya.includes("timeout")?wt="Análise demorou muito para processar. Tente com uma imagem menor ou aguarde alguns minutos.":wt="Análise da foto falhou. Tente novamente ou verifique se a imagem está válida.",he(je,wt,"error"),ua(null),Ia(Xe=>({...Xe,[be]:wt})),await de.storage.from("inspection_photos").remove([lt]);return}const{data:an,error:sn}=await de.from("inspection_photos").insert({inspection_id:d,photo_url:bt.publicUrl,room:be,ai_analysis_result:ps}).select().single();if(sn){console.error("Error inserting photo data:",sn),he(je,`Falha ao salvar dados: ${sn.message}`,"error"),ua(null),Ia(De=>({...De,[be]:`Falha ao salvar: ${sn.message}`}));return}const Fo={id:an.id,url:an.photo_url,room:an.room,analysisResult:an.ai_analysis_result,uploadedAt:new Date(an.created_at)};x(De=>[...De,Fo]),he(je,"Análise concluída com sucesso!","success"),ua(null)},qo=async(ie,be)=>{const{error:je}=await de.from("inspection_photos").update({ai_analysis_result:be}).eq("id",ie);je?(console.error("Error updating analysis:",je),le("Falha ao salvar alterações.","error")):(x(Ze=>Ze.map(He=>He.id===ie?{...He,analysisResult:be}:He)),le("Análise atualizada!","success"))},zn=w.useCallback(async()=>{if(!d){console.log("handleSaveObservations: No inspectionId");return}console.log("handleSaveObservations: Saving observations...",{inspectionId:d,observationsLength:(P==null?void 0:P.length)||0}),F(!0),J(!1);const{error:ie}=await de.from("inspections").update({general_observations:P}).eq("id",d);ie?(console.error("handleSaveObservations: Error saving observations",ie),le("Falha ao salvar observações.","error")):(console.log("handleSaveObservations: Observations saved successfully"),J(!0),setTimeout(()=>J(!1),2e3)),F(!1)},[d,P,le]),Js=()=>{const ie=S.trim();ie&&!v.includes(ie)&&(j([...v,ie]),xe(ie),E(""))},Jc=ie=>{v.includes(ie)||j([...v,ie]),xe(ie)},Io=ie=>{Z(ie),re(!0)},eu=async()=>{if(!H||!d)return;const ie=y.filter(je=>je.room===H),be=ie.map(je=>je.id);if(be.length>0){const{error:je}=await de.from("inspection_photos").delete().in("id",be);if(je){console.error("Error deleting photos from DB:",je),re(!1);return}const Ze=ie.map(He=>He.url.split("/inspection_photos/").pop()||"");if(Ze.length>0){const{error:He}=await de.storage.from("inspection_photos").remove(Ze);He&&console.error("Error deleting photos from storage:",He)}}x(y.filter(je=>je.room!==H)),j(v.filter(je=>je!==H)),Be===H&&xe(null),re(!1),Z(null)},tu=ie=>{ne(ie),G(!0)},en=async()=>{if(!ue)return;const{error:ie}=await de.from("inspection_photos").delete().eq("id",ue.id);if(ie){console.error("Error deleting photo from DB:",ie),G(!1);return}const be=ue.url.split("/inspection_photos/").pop();if(be){const{error:He}=await de.storage.from("inspection_photos").remove([be]);He&&console.error("Error deleting photo from storage:",He)}const je=y.filter(He=>He.id!==ue.id);x(je),je.filter(He=>He.room===ue.room).length===0&&(j(v.filter(He=>He!==ue.room)),xe(null)),G(!1),ne(null)},Rt=w.useCallback(async()=>{console.log("🔙 handleBackNavigation called:",{inspectionId:d,photosLength:y.length,inspectionType:o,hasObservations:(P==null?void 0:P.length)>0});try{if(d)if(console.log("💾 Saving observations before navigation..."),await zn(),y.length>0){console.log("🔍 Checking current inspection status before saving...");const{data:ie,error:be}=await de.from("inspections").select("status").eq("id",d).single();if(be)console.error("❌ Error fetching current status:",be);else if(console.log("📊 Current inspection status in DB:",ie.status),ie.status!=="completed"){console.log("📝 Updating inspection status to in-progress...");const{error:je}=await de.from("inspections").update({status:"in-progress"}).eq("id",d);je?(console.error("❌ Error updating inspection status:",je),le("Erro ao salvar vistoria","error")):(console.log("✅ Inspection status updated successfully"),le("Vistoria salva automaticamente","success"))}else console.log("✅ Inspection already completed, preserving status"),le("Vistoria concluída mantida","success")}else console.log("⚠️ No photos to save, skipping status update");else console.warn("⚠️ No inspectionId found, skipping save")}catch(ie){console.error("💥 Error in handleBackNavigation:",ie),le("Erro ao salvar. Tente novamente.","error")}console.log("🚀 Navigating to property page..."),t(`/property/${r.id}`,{replace:!0,state:{forceRefresh:!0,timestamp:Date.now()}})},[d,y.length,r.id,t,o,P,le]),ka=async()=>{if(!d)return;if(y.length===0){le("Adicione pelo menos uma foto para gerar o relatório","error");return}await zn();const{error:ie}=await de.from("inspections").update({status:"completed"}).eq("id",d);if(ie){le(`Falha ao finalizar a vistoria: ${ie.message}`,"error");return}g("completed"),le("Relatório gerado com sucesso!","success"),t(`/reports/${d}`)};if(T)return l.jsxs("div",{className:"flex flex-col justify-center items-center py-16 text-center",children:[l.jsx(la,{className:"w-12 h-12 text-blue-500 animate-spin"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mt-4",children:C}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto preparamos tudo para você."})]});const Nt=m==="completed",au=Be?[Be]:v;return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Nf,{isOpen:Y,onClose:()=>re(!1),onConfirm:eu,title:"Confirmar Exclusão de Ambiente",message:`Atenção! Você está prestes a excluir o ambiente "${H}". Todas as fotos e análises contidas nele serão removidas permanentemente. Deseja continuar?`,confirmText:"Excluir Ambiente",cancelText:"Cancelar"}),l.jsx(Nf,{isOpen:U,onClose:()=>G(!1),onConfirm:en,title:"Confirmar Exclusão de Foto",message:"Tem certeza que deseja excluir esta foto e sua análise? Esta ação não pode ser desfeita.",confirmText:"Excluir Foto",cancelText:"Cancelar"}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:Rt,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700",title:"Voltar (salvando automaticamente)",children:l.jsx(ei,{className:"w-6 h-6"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["Vistoria de ",o==="entry"?"Entrada":"Saída"]}),l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 mt-1",children:[l.jsx(Pn,{className:"w-4 h-4 mr-1"}),l.jsxs("span",{children:[r.name," - ",r.address]})]})]})]}),y.length>0&&l.jsxs("button",{onClick:ka,className:`inline-flex items-center justify-center px-6 py-3 text-white rounded-lg transition-colors font-medium ${Nt?"bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-500/20":"bg-green-600 hover:bg-green-700 shadow-lg shadow-green-500/20"}`,children:[l.jsx(qa,{className:"w-5 h-5 mr-2"}),Nt?"Atualizar Relatório":"Gerar Relatório Completo"]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Gerenciar e Filtrar Ambientes"}),se&&l.jsx("div",{className:"mb-4 bg-red-100 border-l-4 border-red-500 text-red-800 dark:bg-red-900/30 dark:border-red-400 dark:text-red-200 p-4 rounded-md",role:"alert",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"py-1",children:l.jsx(Fs,{className:"h-5 w-5 text-red-500 dark:text-red-400 mr-3"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:"Permissão Necessária"}),l.jsx("p",{className:"text-sm",children:se})]})]})}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filtre por ambiente:"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:()=>xe(null),className:`flex items-center px-3 py-1.5 text-sm rounded-full transition-colors ${Be?"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600":"bg-blue-600 text-white"}`,children:[l.jsx(M_,{className:"w-4 h-4 mr-1.5"}),"Todos os Ambientes"]}),p6.map(ie=>l.jsxs("button",{onClick:()=>Jc(ie),className:`flex items-center px-3 py-1.5 text-sm rounded-full transition-colors ${Be===ie?"bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"}`,children:[v.includes(ie)?l.jsx(Ma,{className:"w-4 h-4 mr-1.5"}):l.jsx(Gs,{className:"w-4 h-4 mr-1.5"}),ie]},ie))]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ou adicione um ambiente personalizado:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("input",{type:"text",value:S,onChange:ie=>E(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&Js(),placeholder:"Ex: Escritório, Varanda Gourmet...",className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),X&&l.jsx("button",{type:"button",onClick:K?O:()=>{te(),_()},className:`absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-full transition-colors ${K?"bg-red-500 text-white animate-pulse":"bg-gray-200 dark:bg-slate-600 text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-slate-500"}`,children:l.jsx(Fh,{className:"w-4 h-4"})})]}),l.jsxs("button",{onClick:Js,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Adicionar"]})]})]})]}),l.jsx("div",{className:"space-y-6",children:au.map((ie,be)=>l.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:be*.05},children:l.jsx(g6,{roomName:ie,photos:y.filter(je=>je.room===ie),onPhotoAnalyzed:Zc,onUpdateAnalysis:qo,onDeleteRoom:()=>Io(ie),onDeletePhoto:tu,isAnalyzing:We===ie,uploadError:Un[ie],clearError:()=>Ia(je=>({...je,[ie]:null}))})},ie))}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6 mt-6",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[l.jsx(C_,{className:"w-5 h-5 mr-2 text-blue-500"}),"Observações Gerais da Vistoria"]}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{value:P,onChange:ie=>D(ie.target.value),onBlur:zn,placeholder:"Adicione aqui qualquer observação geral sobre a vistoria...",className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white resize-y min-h-[100px]",rows:4}),X&&l.jsx("button",{type:"button",onClick:K?O:()=>{te(),_()},className:`absolute right-2 top-3 p-1.5 rounded-full transition-colors ${K?"bg-red-500 text-white animate-pulse":"bg-gray-200 dark:bg-slate-600 text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-slate-500"}`,children:l.jsx(Fh,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"h-5 mt-2 text-xs text-gray-500 dark:text-gray-400 flex items-center",children:z?l.jsxs(l.Fragment,{children:[l.jsx(la,{className:"w-3 h-3 mr-1.5 animate-spin"})," Salvando..."]}):W?l.jsxs(l.Fragment,{children:[l.jsx(Ma,{className:"w-3 h-3 mr-1.5 text-green-500"})," Salvo"]}):l.jsx("span",{children:"As alterações serão salvas automaticamente."})})]})]})},Z1=()=>{const{addToast:a}=gs();return{handlePrint:()=>{window.print()},handleShare:async()=>{const r=window.location.href,o=document.title,u=async()=>{try{await navigator.clipboard.writeText(r),a("Link do relatório copiado para a área de transferência!","success")}catch(d){console.error("Error copying to clipboard:",d),a("Não foi possível copiar o link.","error")}};if(navigator.share)try{await navigator.share({title:o,text:`Confira o relatório de vistoria: ${o}`,url:r})}catch(d){d instanceof DOMException&&d.name==="AbortError"?console.log("Share action was cancelled by the user."):(console.error("Error sharing:",d),u())}else u()}}},b6=a=>({apartment:"Apartamento",house:"Casa",commercial_room:"Sala Comercial",office:"Escritório",store:"Loja",warehouse:"Galpão",land:"Terreno"})[a]||a,v6=a=>{var r,o;let t="";((r=a.analysisResult.objectsDetected)==null?void 0:r.length)>0&&(t=`
            <div class="space-y-2">
                <h4 class="font-medium text-gray-900 flex items-center">Objetos Identificados</h4>
                ${a.analysisResult.objectsDetected.map(d=>`
            <div class="flex items-center justify-between text-sm p-2 bg-gray-50 rounded-md">
                <span>${Co(d)}</span>
                <span class="capitalize px-2 py-1 rounded-full text-xs font-medium ${Vc(d.condition)}">${Ao(d.condition)}</span>
            </div>
        `).join("")}
            </div>
        `);let n="";return((o=a.analysisResult.issues)==null?void 0:o.length)>0&&(n=`
            <div class="space-y-2">
                <h4 class="font-medium text-gray-900 flex items-center">Problemas Identificados</h4>
                ${a.analysisResult.issues.map(d=>`
            <div class="p-3 border border-red-200 bg-red-50 rounded-md">
                <div class="flex items-center justify-between">
                    <span class="font-medium text-sm text-gray-800">${d.type}</span>
                    <span class="px-2 py-1 rounded-full text-xs font-medium ${Vc(d.severity)}">${jm(d.severity)}</span>
                </div>
                <p class="text-sm text-gray-600 mt-1">${d.description}</p>
                <p class="text-xs text-gray-500 mt-1">Local: ${d.location}</p>
            </div>
        `).join("")}
            </div>
        `),`
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <div class="h-80 rounded-lg overflow-hidden border bg-gray-100">
                <img src="${a.url}" alt="Foto do ambiente ${a.room}" class="w-full h-full object-contain">
            </div>
            <div class="space-y-4 text-sm">
                <div>
                    <h4 class="font-medium text-gray-900 mb-2">Descrição do Ambiente</h4>
                    <p class="text-gray-700">${a.analysisResult.description}</p>
                </div>
                ${t}
                ${n}
            </div>
        </div>
    `},w6=(a,t)=>{const n=[...new Set(a.photos.map(u=>u.room))],r=a.inspection_type==="entry"?"Entrada":"Saída",o=n.map(u=>{const f=a.photos.filter(m=>m.room===u).map(v6).join('<div class="my-6 border-t border-dashed"></div>');return`
      <div class="report-page max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-lg">
          <h2 class="text-2xl font-bold text-gray-800 border-b pb-4 mb-6">Análise do Ambiente: ${u}</h2>
          <div class="space-y-6">${f}</div>
      </div>
    `}).join("");return`
    <!DOCTYPE html>
    <html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Relatório de Vistoria - ${r}</title>
        <script src="https://cdn.tailwindcss.com"><\/script>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
        <style>
            body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
            @media print {
                @page { size: A4; margin: 0; }
                body { background-color: #fff; margin: 1cm; }
                .report-page { page-break-inside: avoid; page-break-after: always; box-shadow: none; margin: 0 0 1cm 0; border: none; width: 100%; }
                *, *::before, *::after { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
            }
            .report-page:last-child { page-break-after: auto; }
        </style>
    </head>
    <body class="p-4 md:p-8">
        <div class="report-page max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-lg">
            <header class="text-center border-b pb-6 mb-6">
                ${t.companyLogoUrl?`<img src="${t.companyLogoUrl}" alt="Logo da Empresa" class="h-16 w-auto mb-4 mx-auto">`:""}
                <h1 class="text-3xl font-bold text-gray-800">Relatório de Vistoria - ${r}</h1>
                <p class="text-xl text-gray-600 mt-2">${a.property.name}</p>
            </header>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-sm">
                <div><p><strong>Empresa:</strong> ${t.companyName||"Não informado"}</p></div>
                <div><p><strong>Vistoriador:</strong> ${t.inspectorName||"Não informado"}</p></div>
                <div><p><strong>Tipo do Imóvel:</strong> ${b6(a.property.type)}</p></div>
                <div><p><strong>Endereço:</strong> ${a.property.address}</p></div>
                <div><p><strong>Data da Vistoria:</strong> ${Ba(a.generatedAt,"dd/MM/yyyy",{locale:$a})}</p></div>
            </div>
            ${a.general_observations?`
            <div class="mt-6 border-t pt-6">
                <h3 class="font-semibold text-lg text-gray-800 mb-2">Observações Gerais</h3>
                <p class="text-sm text-gray-700 whitespace-pre-wrap">${a.general_observations}</p>
            </div>
            `:""}
            <div class="mt-6 border-t pt-6">
                <h3 class="font-semibold text-lg text-gray-800 mb-2">Apontamentos da Vistoria</h3>
                <p class="text-xs text-gray-600 leading-relaxed">
                    O presente relatório tem como objetivo registrar o estado de conservação e funcionamento do imóvel na data da vistoria, em conformidade com a Lei nº 8.245/91 (Lei do Inquilinato).
                    <br>A vistoria foi realizada por observação visual, avaliando aspectos estéticos, acabamentos e funcionamento aparente do imóvel.
                    <br>Não são contemplados neste relatório: análises estruturais, fundações, solidez da construção ou eventuais vícios ocultos que não sejam perceptíveis no momento da vistoria.
                </p>
            </div>
        </div>
        ${o}
        <script>
            window.onload = function() {
                setTimeout(function() {
                    window.print();
                }, 500);
            };
        <\/script>
    </body>
    </html>
  `},j6=()=>{const a=$t(),{user:t,profile:n}=Pt(),{addToast:r,updateToast:o}=gs(),{inspectionId:u}=$c(),[d,f]=w.useState(null),[m,g]=w.useState(!0),[y,x]=w.useState(null),{handlePrint:v,handleShare:j}=Z1(),S=()=>{if(!d){r("Dados do relatório não estão prontos.","error");return}const F=r("Gerando relatório...","loading"),W={inspectorName:(n==null?void 0:n.full_name)||(t==null?void 0:t.email)||null,companyName:d.property.companyName||(n==null?void 0:n.company_name)||null,companyLogoUrl:d.property.companyLogoUrl||(n==null?void 0:n.company_logo_url)||null},J=window.open("","_blank");J?(J.document.write("<html><head><title>Gerando Relatório...</title></head><body><h1>Aguarde, preparando seu relatório...</h1></body></html>"),setTimeout(()=>{try{const H=w6(d,W),Z=new Blob([H],{type:"text/html"}),Y=URL.createObjectURL(Z);J.location.href=Y,setTimeout(()=>URL.revokeObjectURL(Y),1e4),o(F,"Relatório pronto para impressão.","success")}catch(H){console.error("Error generating PDF content:",H),J.close(),o(F,`Falha ao gerar o conteúdo do PDF: ${H.message}`,"error")}},50)):o(F,"Não foi possível abrir a janela de impressão. Verifique se seu navegador está bloqueando pop-ups.","error")},E=w.useCallback(async(F=!0)=>{if(!u||!t){F&&g(!1);return}F&&g(!0);const{data:W,error:J}=await de.from("inspections").select("*, properties!inner(*)").eq("id",u).single();if(J||!W){console.error("Error fetching inspection:",J),F&&g(!1);return}const{data:H,error:Z}=await de.from("inspection_photos").select("*").eq("inspection_id",u).order("created_at",{ascending:!0});if(Z){console.error("Error fetching photos:",Z),F&&g(!1);return}const Y=Bo(W.properties);if(!Y){console.error("Failed to map property data"),F&&g(!1);return}const re=H.map(ue=>({id:ue.id,url:ue.photo_url,room:ue.room,analysisResult:ue.ai_analysis_result,uploadedAt:new Date(ue.created_at)}));f({property:Y,photos:re,generatedAt:new Date(W.created_at),inspection_type:W.inspection_type,general_observations:W.general_observations}),F&&g(!1)},[u,t]);w.useEffect(()=>{E()},[E]),w.useEffect(()=>{const F=()=>E(!1),W=()=>{document.hidden||E(!1)};return window.addEventListener("focus",F),document.addEventListener("visibilitychange",W),()=>{window.removeEventListener("focus",F),document.removeEventListener("visibilitychange",W)}},[E]);const T=()=>{d&&a("/inspection",{state:{property:d.property,inspectionType:d.inspection_type,inspectionId:u}})};if(m)return l.jsxs("div",{className:"flex flex-col justify-center items-center py-16 text-center",children:[l.jsx(la,{className:"w-12 h-12 text-blue-500 animate-spin"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mt-4",children:"Gerando relatório..."}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto buscamos os dados da vistoria."})]});if(!d)return l.jsxs("div",{className:"text-center py-12",children:[l.jsx(qa,{className:"w-16 h-16 text-gray-400 dark:text-slate-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Nenhum relatório disponível"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete uma vistoria para gerar relatórios ou verifique se o ID da vistoria é válido."}),l.jsx("button",{onClick:()=>a("/dashboard"),className:"text-blue-600 hover:underline mt-4 inline-block",children:"Voltar para o Dashboard"})]});const A=F=>({apartment:"Apartamento",house:"Casa",commercial_room:"Sala Comercial",office:"Escritório",store:"Loja",warehouse:"Galpão",land:"Terreno"})[F]||F,C=d.photos.reduce((F,W)=>{var J;return F+(((J=W.analysisResult.issues)==null?void 0:J.length)||0)},0),N=d.photos.reduce((F,W)=>{var J;return F+(((J=W.analysisResult.objectsDetected)==null?void 0:J.filter(H=>H.condition==="not_found").length)||0)},0),P=[...new Set(d.photos.map(F=>F.room))],D=d.inspection_type==="entry"?"Entrada":"Saída",z=d.inspection_type==="entry"?B_:Bb;return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"no-print",children:l.jsxs("button",{onClick:()=>a(-1),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[l.jsx(ei,{className:"w-5 h-5 mr-2"}),"Voltar"]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between no-print",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:["Relatório de Vistoria - ",D,l.jsx(z,{className:"w-6 h-6 text-blue-500"})]}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Gerado em ",Ba(d.generatedAt,"dd/MM/yyyy 'às' HH:mm",{locale:$a})]})]}),l.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-2",children:[l.jsxs("button",{onClick:T,title:"Editar Vistoria",className:"inline-flex items-center justify-center sm:px-3 sm:py-2 px-2 py-2 border border-gray-300 dark:border-slate-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600",children:[l.jsx(Lf,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Editar"})]}),l.jsxs("button",{onClick:j,title:"Compartilhar",className:"inline-flex items-center justify-center sm:px-3 sm:py-2 px-2 py-2 border border-gray-300 dark:border-slate-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600",children:[l.jsx(Ib,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),l.jsxs("button",{onClick:v,title:"Imprimir",className:"inline-flex items-center justify-center sm:px-3 sm:py-2 px-2 py-2 border border-gray-300 dark:border-slate-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600",children:[l.jsx($b,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),l.jsxs("button",{onClick:S,title:"Download PDF",className:"inline-flex items-center justify-center sm:px-3 sm:py-2 px-2 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:[l.jsx(Ub,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Download PDF"})]})]})]}),l.jsxs("div",{className:"space-y-6 bg-white dark:bg-slate-900 p-4 sm:p-8 rounded-lg",id:"report-content",children:[l.jsxs("header",{className:"text-center border-b border-gray-200 dark:border-slate-700 pb-6 mb-6",children:[d.property.companyLogoUrl&&l.jsx("img",{src:d.property.companyLogoUrl,alt:"Logo da Empresa",className:"h-16 w-auto mb-4 mx-auto"}),l.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:["Relatório de Vistoria - ",D]}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mt-2",children:d.property.name})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-sm mb-6",children:[l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Empresa:"}),d.property.companyName||"Não informado"]}),l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Vistoriador:"}),(n==null?void 0:n.full_name)||(t==null?void 0:t.email)]}),l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Tipo do Imóvel:"}),A(d.property.type)]}),l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Endereço:"}),d.property.address]}),l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Data da Vistoria:"}),Ba(d.generatedAt,"dd/MM/yyyy",{locale:$a})]})]}),l.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-slate-700 pt-6",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-800 dark:text-gray-200 mb-2",children:"Apontamentos da Vistoria"}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:["O presente relatório tem como objetivo registrar o estado de conservação e funcionamento do imóvel na data da vistoria, em conformidade com a Lei nº 8.245/91 (Lei do Inquilinato).",l.jsx("br",{}),"A vistoria foi realizada por observação visual, avaliando aspectos estéticos, acabamentos e funcionamento aparente do imóvel.",l.jsx("br",{}),"Não são contemplados neste relatório: análises estruturais, fundações, solidez da construção ou eventuais vícios ocultos que não sejam perceptíveis no momento da vistoria."]})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-4 rounded-lg",children:[l.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:P.length}),l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Ambientes"})]}),l.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-4 rounded-lg",children:[l.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:d.photos.length}),l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Fotos"})]}),l.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-4 rounded-lg",children:[l.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:C}),l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Problemas"})]}),l.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-4 rounded-lg",children:[l.jsx("p",{className:"text-3xl font-bold text-orange-500 dark:text-orange-400",children:N}),l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Itens Faltando"})]})]}),P.map(F=>{const W=d.photos.filter(J=>J.room===F);return l.jsxs("div",{className:"pt-8 mt-8 border-t border-gray-200 dark:border-slate-700",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-6",children:F}),l.jsx("div",{className:"space-y-8",children:W.map(J=>{var H,Z;return l.jsx("div",{className:"p-4 border border-gray-200 dark:border-slate-700 rounded-lg bg-gray-50 dark:bg-slate-800/50",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"relative w-full h-80 rounded-lg overflow-hidden group bg-slate-100 dark:bg-slate-900/50 cursor-pointer",onClick:()=>x(J.url),children:[l.jsx("img",{src:J.url,alt:`Foto do ambiente ${J.room}`,className:"w-full h-full object-contain"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:l.jsx(Ic,{className:"w-8 h-8 text-white"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Descrição do Ambiente"}),l.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:J.analysisResult.description})]}),((H=J.analysisResult.objectsDetected)==null?void 0:H.length)>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 flex items-center",children:[l.jsx(Vb,{className:"w-4 h-4 mr-2 text-gray-500"}),"Objetos Identificados"]}),l.jsx("div",{className:"space-y-2",children:J.analysisResult.objectsDetected.map(Y=>l.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-white dark:bg-slate-700 rounded-md",children:[l.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:Co(Y)}),l.jsx("span",{className:`capitalize px-2 py-1 rounded-full text-xs font-medium ${Dn(Y.condition)}`,children:Ao(Y.condition)})]},Y.id))})]}),((Z=J.analysisResult.issues)==null?void 0:Z.length)>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 flex items-center",children:[l.jsx(Fs,{className:"w-4 h-4 mr-2 text-gray-500"}),"Problemas Identificados"]}),l.jsx("div",{className:"space-y-2",children:J.analysisResult.issues.map(Y=>l.jsxs("div",{className:"p-3 border border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20 rounded-md",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium text-sm text-gray-800 dark:text-gray-200",children:Y.type}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Vc(Y.severity)}`,children:jm(Y.severity)})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:Y.description}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Local: ",Y.location]})]},Y.id))})]})]})]})},J.id)})})]},F)}),d.general_observations&&l.jsxs("div",{className:"pt-8 mt-8 border-t border-gray-200 dark:border-slate-700",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Observações Gerais"}),l.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:d.general_observations})]})]}),y&&l.jsx(Qc,{isOpen:!!y,onClose:()=>x(null),imageUrl:y})]})},k6=()=>{const{id:a}=$c(),t=$t(),n=wa(),[r,o]=w.useState(null),[u,d]=w.useState(!0),{profile:f}=Pt(),m=w.useCallback(async(D=!0)=>{if(!a){D&&d(!1);return}D&&d(!0);try{const{data:z,error:F}=await de.rpc("get_property_details_by_id",{p_id:a});if(F)throw F;if(!z||z.length===0)throw new Error("Imóvel não encontrado");const W=Bo(z[0],f==null?void 0:f.full_name);if(!W)throw new Error("Falha ao mapear dados do imóvel");o(W)}catch(z){console.error("Failed to fetch property:",z),o(null)}finally{D&&d(!1)}},[a,f==null?void 0:f.full_name]);w.useEffect(()=>{m()},[m]),w.useEffect(()=>{const D=()=>m(!1),z=()=>{document.hidden||m(!1)};window.addEventListener("focus",D),document.addEventListener("visibilitychange",z);const F=n.state;return F!=null&&F.forceRefresh&&(m(!1),window.history.replaceState({},document.title,window.location.pathname)),()=>{window.removeEventListener("focus",D),document.removeEventListener("visibilitychange",z)}},[m,n.state]);const g=async()=>{await m(!1)};if(u)return l.jsx("div",{className:"flex justify-center items-center py-16",children:l.jsx(la,{className:"w-12 h-12 text-blue-500 animate-spin"})});if(!r)return l.jsxs("div",{className:"text-center py-16",children:[l.jsx("h2",{className:"text-xl font-medium",children:"Imóvel não encontrado."}),l.jsx(Ie,{to:"/dashboard",className:"text-blue-600 hover:underline mt-4 inline-block",children:"Voltar para o Dashboard"})]});const y=r.inspections||[],x=y.find(D=>D.inspection_type==="entry"),v=y.find(D=>D.inspection_type==="exit"),j=(x==null?void 0:x.status)==="completed",S=(x==null?void 0:x.status)==="completed"&&(v==null?void 0:v.status)==="completed",E=D=>{t("/inspection",{state:{property:r,inspectionType:D}})},T=D=>{t("/inspection",{state:{property:r,inspectionType:D.inspection_type,inspectionId:D.id}})},A=D=>{t(`/reports/${D}`)},C=()=>{S&&x&&v&&t(`/compare/${x.id}/${v.id}`)},N=D=>({apartment:"Apartamento",house:"Casa",commercial_room:"Sala Comercial",office:"Escritório",store:"Loja",warehouse:"Galpão",land:"Terreno"})[D]||D,P=({title:D,inspection:z,onStart:F,onContinue:W,onReport:J,disabled:H=!1,disabledMessage:Z=""})=>{const Y=(z==null?void 0:z.status)==="completed",re=(z==null?void 0:z.status)==="in-progress";return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md flex flex-col",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:D}),z?l.jsxs("div",{className:"space-y-3 flex-grow flex flex-col",children:[l.jsxs("div",{className:"flex items-center",children:[Y?l.jsx(Mn,{className:"w-5 h-5 text-green-500 mr-2"}):l.jsx(Ec,{className:"w-5 h-5 text-yellow-500 mr-2"}),l.jsxs("span",{className:`font-medium ${Y?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:["Status: ",Y?"Concluída":"Em Andamento"]})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[l.jsx(xt,{className:"w-4 h-4 mr-2"}),l.jsxs("span",{children:["Fotos: ",l.jsx("strong",{children:z.photoCount||0})]})]}),z.created_at&&l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Iniciada em: ",Ba(new Date(z.created_at),"dd/MM/yyyy",{locale:$a})]}),l.jsx("div",{className:"flex-grow"}),l.jsxs("div",{className:"mt-4",children:[Y&&l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsxs("button",{onClick:()=>W(z),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600",children:[l.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Editar Vistoria"]}),l.jsxs("button",{onClick:()=>J(z.id),className:"w-full inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[l.jsx(qa,{className:"w-4 h-4 mr-2"}),"Ver Relatório"]})]}),re&&l.jsxs("button",{onClick:()=>W(z),className:"w-full mt-2 inline-flex items-center justify-center px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors",children:[l.jsx(xt,{className:"w-4 h-4 mr-2"}),"Continuar Vistoria"]})]})]}):l.jsxs("div",{className:"space-y-3 flex-grow flex flex-col",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Pb,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 mr-2"}),l.jsx("span",{className:"font-medium text-gray-500 dark:text-gray-400",children:"Ainda não realizada"})]}),l.jsx("div",{className:"flex-grow"}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("button",{onClick:F,disabled:H,className:"w-full mt-2 inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-600 disabled:cursor-not-allowed",children:[l.jsx(xt,{className:"w-4 h-4 mr-2"}),"Iniciar Vistoria"]}),H&&l.jsx("p",{className:"text-xs text-center text-red-500 dark:text-red-400 mt-2",children:Z})]})]})]})};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[l.jsx(ei,{className:"w-5 h-5 mr-2"}),"Voltar para o Dashboard"]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsx("img",{src:r.facadePhoto||`https://source.unsplash.com/random/800x600?building&sig=${r.id}`,alt:`Fachada de ${r.name}`,className:"w-full md:w-1/3 h-64 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:r.name}),l.jsxs("button",{onClick:g,className:"flex items-center px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-700 rounded-md transition-colors",title:"Atualizar dados",children:[l.jsx(aS,{className:"w-4 h-4 mr-1"}),"Atualizar"]})]}),l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[l.jsx(qr,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:N(r.type)})]}),l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[l.jsx(Pn,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:r.address})]}),l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[l.jsx(Ob,{className:"w-4 h-4 mr-2"}),l.jsxs("span",{children:["Cadastrado em: ",Ba(new Date(r.createdAt),"dd/MM/yyyy",{locale:$a})]})]}),r.description&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-slate-700",children:r.description})]})]})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Gerenciamento de Vistorias"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(P,{title:"Vistoria de Entrada",inspection:x,onStart:()=>E("entry"),onContinue:T,onReport:A}),l.jsx(P,{title:"Vistoria de Saída",inspection:v,onStart:()=>E("exit"),onContinue:T,onReport:A,disabled:!j,disabledMessage:"Conclua a vistoria de entrada primeiro."})]})]}),S&&l.jsx("div",{className:"text-center pt-4",children:l.jsxs("button",{onClick:C,className:"inline-flex items-center justify-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm font-medium",children:[l.jsx(Yr,{className:"w-5 h-5 mr-2"}),"Comparar Vistorias"]})})]})},Or=({label:a,imageUrl:t})=>{const[n,r]=w.useState(!1);return t?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:a}),l.jsxs("div",{className:"w-full h-24 bg-gray-100 dark:bg-slate-700 rounded-md relative cursor-pointer group overflow-hidden report-image-container",onClick:()=>r(!0),children:[l.jsx("img",{src:t,alt:a,className:"w-full h-full object-contain report-image"}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:l.jsx(Ic,{className:"w-6 h-6 text-white"})})]})]}),l.jsx(Qc,{isOpen:n,onClose:()=>r(!1),imageUrl:t})]}):l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:a}),l.jsx("div",{className:"w-full h-24 bg-gray-100 dark:bg-slate-700 rounded-md flex items-center justify-center text-xs text-gray-400 report-image-container",children:"Sem foto"})]})},yc=({item:a,type:t})=>{var u,d,f,m;const n=g=>l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Dn(g.condition)}`,children:Ao(g.condition)}),r=()=>{switch(t){case"changed":return!a.entry||!a.exit?null:a.exit.condition==="not_found"?l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Dn("not_found")}`,children:"Não encontrada na Saída"}):l.jsxs("div",{className:"flex items-center gap-2",children:[n(a.entry),l.jsx(Hh,{className:"w-4 h-4 text-gray-400"}),n(a.exit)]});case"unchanged":return a.entry?n(a.entry):null;case"new":return a.exit?n(a.exit):null;case"missing":return a.entry?l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Dn("not_found")}`,children:"Faltando na Saída"}):null;default:return null}},o=a.entry?Co(a.entry):Co(a.exit);return l.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-md report-section",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:o}),r()]}),l.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3 pt-3 border-t border-gray-200 dark:border-slate-600 report-photo-analysis",children:t==="missing"?l.jsxs(l.Fragment,{children:[l.jsx(Or,{label:"Entrada",imageUrl:(u=a.entry)==null?void 0:u.photoUrl}),l.jsx(Or,{label:"Saída",imageUrl:a.exitPhotoUrl})]}):t==="new"?l.jsxs(l.Fragment,{children:[l.jsx(Or,{label:"Entrada",imageUrl:a.entryPhotoUrl}),l.jsx(Or,{label:"Saída",imageUrl:(d=a.exit)==null?void 0:d.photoUrl})]}):l.jsxs(l.Fragment,{children:[l.jsx(Or,{label:"Entrada",imageUrl:(f=a.entry)==null?void 0:f.photoUrl}),l.jsx(Or,{label:"Saída",imageUrl:(m=a.exit)==null?void 0:m.photoUrl})]})})]})},gb=(a,t,n)=>{var S,E;const r=t.photos.filter(T=>T.room===a).flatMap(T=>(T.analysisResult.objectsDetected||[]).map(A=>({...A,photoUrl:T.url}))),o=n.photos.filter(T=>T.room===a).flatMap(T=>(T.analysisResult.objectsDetected||[]).map(A=>({...A,photoUrl:T.url}))),u=(S=n.photos.find(T=>T.room===a))==null?void 0:S.url,d=(E=t.photos.find(T=>T.room===a))==null?void 0:E.url,f=[],m=[],g=[...r];o.forEach(T=>{if(T.condition==="not_found")return;const A=g.findIndex(C=>C.item.toLowerCase().trim()===T.item.toLowerCase().trim());if(A>-1){const C=g.splice(A,1)[0];f.push({entry:C,exit:T})}else m.push(T)});const y=f.filter(T=>T.entry.condition!==T.exit.condition),x=f.filter(T=>T.entry.condition===T.exit.condition),v=g.map(T=>({entry:T,exitPhotoUrl:u})),j=m.map(T=>({exit:T,entryPhotoUrl:d}));return{changedItems:y,unchangedItems:x,newItems:j,missingItems:v}},_6=(a,t,n,r)=>{const o=[...new Set([...a.photos.map(f=>f.room),...t.photos.map(f=>f.room)])],u=o.reduce((f,m)=>{const g=gb(m,a,t);return f.changed+=g.changedItems.length,f.new+=g.newItems.length,f.missing+=g.missingItems.length,f},{changed:0,new:0,missing:0});let d="";return o.forEach(f=>{var T,A;const{changedItems:m,unchangedItems:g,newItems:y,missingItems:x}=gb(f,a,t),v=n.rooms[f],j=((T=a.photos.find(C=>C.room===f))==null?void 0:T.url)||"https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://placehold.co/600x400/e2e8f0/4a5568?text=Sem+Foto",S=((A=t.photos.find(C=>C.room===f))==null?void 0:A.url)||"https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://placehold.co/600x400/e2e8f0/4a5568?text=Sem+Foto";let E="";if(v!=null&&v.missingItems&&x.length>0){const C=x.map(N=>`<li>${N.entry.item} (${N.entry.material}, ${N.entry.color})</li>`).join("");E+=`
            <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg">
                <h4 class="font-bold text-red-700">Itens Faltando na Saída</h4>
                <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1">${C}</ul>
            </div>`}if(v!=null&&v.newItems&&y.length>0){const C=y.map(N=>`<li>${N.exit.item} (${N.exit.material}, ${N.exit.color})</li>`).join("");E+=`
            <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
                <h4 class="font-bold text-green-700">Itens Novos na Saída</h4>
                <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1">${C}</ul>
            </div>`}if(v!=null&&v.changedItems&&m.length>0){const C=m.map(N=>{const P=`${N.entry.item} (${N.entry.material}, ${N.entry.color})`,D=`${N.entry.condition} ➔ ${N.exit.condition}`;return`<li>${P}: <span class="font-medium">${D}</span></li>`}).join("");E+=`
            <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                <h4 class="font-bold text-yellow-700">Itens com Condição Alterada</h4>
                <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1">${C}</ul>
            </div>`}v!=null&&v.unchangedItems&&g.length>0&&(E+=`
            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
                <h4 class="font-bold text-blue-700">Itens Sem Alterações (${g.length})</h4>
                <p class="text-gray-600 mt-1 text-sm">Nenhum problema encontrado nestes itens.</p>
            </div>`),E&&(d+=`
        <div class="report-page max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-2xl font-bold text-gray-800 border-b pb-4 mb-6">Comparativo: ${f}</h2>
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div>
                    <h3 class="font-semibold text-lg text-center mb-2">Entrada</h3>
                    <div class="h-80 rounded-lg overflow-hidden border bg-gray-100">
                        <img src="${j}" alt="${f} na entrada" class="w-full h-full object-contain">
                    </div>
                </div>
                <div>
                    <h3 class="font-semibold text-lg text-center mb-2">Saída</h3>
                    <div class="h-80 rounded-lg overflow-hidden border bg-gray-100">
                        <img src="${S}" alt="${f} na saída" class="w-full h-full object-contain">
                    </div>
                </div>
            </div>
            <div class="space-y-4">${E}</div>
        </div>
      `)}),`
    <!DOCTYPE html>
    <html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Relatório Comparativo de Vistorias</title>
        <script src="https://cdn.tailwindcss.com"><\/script>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
        <style>
            body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
            @media print {
                @page { size: A4; margin: 0; }
                body { background-color: #fff; margin: 1cm; }
                .report-page { page-break-inside: avoid; page-break-after: always; box-shadow: none; margin: 0 0 1cm 0; border: none; width: 100%; }
                *, *::before, *::after { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
            }
            .report-page:last-child { page-break-after: auto; }
        </style>
    </head>
    <body class="p-4 md:p-8">
        <div class="report-page max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-lg">
            <header class="text-center border-b pb-6 mb-6">
                ${r.companyLogoUrl?`<img src="${r.companyLogoUrl}" alt="Logo da Empresa" class="h-16 w-auto mb-4 mx-auto rounded-full">`:""}
                <h1 class="text-3xl font-bold text-gray-800">Relatório Comparativo de Vistorias</h1>
                <p class="text-xl text-gray-600 mt-2">${a.property.name}</p>
            </header>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-sm">
                <div><p><strong>Empresa:</strong> ${r.companyName||"Não informado"}</p></div>
                <div><p><strong>Vistoriador:</strong> ${r.inspectorName||"Não informado"}</p></div>
                <div><p><strong>Endereço:</strong> ${a.property.address}</p></div>
                <div><p><strong>Data da Entrada:</strong> ${Ba(a.inspectionDate,"dd/MM/yyyy",{locale:$a})}</p></div>
                <div><p><strong>Data da Saída:</strong> ${Ba(t.inspectionDate,"dd/MM/yyyy",{locale:$a})}</p></div>
            </div>
            <div class="mt-6 border-t pt-6">
                <h3 class="font-semibold text-lg text-gray-800 mb-2">Apontamentos da Vistoria</h3>
                <p class="text-xs text-gray-600 leading-relaxed">
                    O presente relatório tem como objetivo registrar o estado de conservação e funcionamento do imóvel na data da vistoria, em conformidade com a Lei nº 8.245/91 (Lei do Inquilinato).
                    <br>A vistoria foi realizada por observação visual, avaliando aspectos estéticos, acabamentos e funcionamento aparente do imóvel.
                    <br>Não são contemplados neste relatório: análises estruturais, fundações, solidez da construção ou eventuais vícios ocultos que não sejam perceptíveis no momento da vistoria.
                </p>
            </div>
        </div>
        ${n.summary?`
        <div class="report-page max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-lg">
            <div class="p-6 bg-gray-50 rounded-lg">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4 text-center">Resumo das Diferenças</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                    <div class="bg-yellow-100 p-4 rounded-lg">
                        <p class="text-4xl font-bold text-yellow-600">${u.changed}</p>
                        <p class="text-sm font-medium text-yellow-800">Itens com Condição Alterada</p>
                    </div>
                    <div class="bg-green-100 p-4 rounded-lg">
                        <p class="text-4xl font-bold text-green-600">${u.new}</p>
                        <p class="text-sm font-medium text-green-800">Itens Novos na Saída</p>
                    </div>
                    <div class="bg-red-100 p-4 rounded-lg">
                        <p class="text-4xl font-bold text-red-600">${u.missing}</p>
                        <p class="text-sm font-medium text-red-800">Itens Faltando na Saída</p>
                    </div>
                </div>
            </div>
        </div>
        `:""}
        ${d}
        <script>
            window.onload = function() {
                setTimeout(function() {
                    window.print();
                }, 500);
            };
        <\/script>
    </body>
    </html>
  `},S6=()=>{const{entryInspectionId:a,exitInspectionId:t}=$c(),n=$t(),{user:r,profile:o}=Pt(),{addToast:u,updateToast:d}=gs(),[f,m]=w.useState(null),[g,y]=w.useState(null),[x,v]=w.useState(!0),[j,S]=w.useState(!1),[E,T]=w.useState({summary:!0,rooms:{}}),{handlePrint:A,handleShare:C}=Z1(),N=()=>{if(!f||!g){u("Dados do relatório não estão prontos.","error");return}const H=u("Gerando relatório...","loading"),Z={inspectorName:(o==null?void 0:o.full_name)||(r==null?void 0:r.email)||null,companyName:f.property.companyName||(o==null?void 0:o.company_name)||null,companyLogoUrl:f.property.companyLogoUrl||(o==null?void 0:o.company_logo_url)||null},Y=window.open("","_blank");Y?(Y.document.write("<html><head><title>Gerando Relatório...</title></head><body><h1>Aguarde, preparando seu relatório...</h1></body></html>"),setTimeout(()=>{try{const re=_6(f,g,E,Z),ue=new Blob([re],{type:"text/html"}),ne=URL.createObjectURL(ue);Y.location.href=ne,setTimeout(()=>URL.revokeObjectURL(ne),1e4),d(H,"Relatório pronto para impressão.","success")}catch(re){console.error("Error generating PDF content:",re),Y.close(),d(H,`Falha ao gerar o conteúdo do PDF: ${re.message}`,"error")}},50)):d(H,"Não foi possível abrir a janela de impressão. Verifique se seu navegador está bloqueando pop-ups.","error")},P=w.useCallback(async H=>{if(!r)return null;const{data:Z,error:Y}=await de.from("inspections").select("*, properties!inner(*)").eq("id",H).single();if(Y||!Z)return console.error(`Error fetching inspection ${H}:`,Y),null;const{data:re,error:ue}=await de.from("inspection_photos").select("*").eq("inspection_id",H).order("created_at",{ascending:!0});if(ue)return console.error(`Error fetching photos for inspection ${H}:`,ue),null;const{data:ne,error:U}=await de.rpc("get_property_details_by_id",{p_id:Z.property_id});return U||!ne||ne.length===0?(console.error("Error fetching property details via RPC:",U),null):{property:Bo(ne[0]),photos:re.map(G=>({id:G.id,url:G.photo_url,room:G.room,analysisResult:G.ai_analysis_result,uploadedAt:new Date(G.created_at)})),inspectionDate:new Date(Z.created_at)}},[r]),D=w.useCallback(H=>{const Z={};H.forEach(Y=>{Z[Y]={changedItems:!0,newItems:!0,missingItems:!0,unchangedItems:!0}}),T({summary:!0,rooms:Z})},[]),z=w.useCallback(async(H=!0)=>{if(!a||!t){H&&v(!1);return}H&&v(!0);const[Z,Y]=await Promise.all([P(a),P(t)]);if(m(Z),y(Y),Z&&Y){const re=[...new Set([...Z.photos.map(ue=>ue.room),...Y.photos.map(ue=>ue.room)])];D(re)}H&&v(!1)},[a,t,P,D]);if(w.useEffect(()=>{z()},[z]),w.useEffect(()=>{const H=()=>z(!1),Z=()=>{document.hidden||z(!1)};return window.addEventListener("focus",H),document.addEventListener("visibilitychange",Z),()=>{window.removeEventListener("focus",H),document.removeEventListener("visibilitychange",Z)}},[z]),x)return l.jsxs("div",{className:"flex flex-col justify-center items-center py-16 text-center",children:[l.jsx(la,{className:"w-12 h-12 text-blue-500 animate-spin"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mt-4",children:"Gerando relatório comparativo..."}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto buscamos os dados das vistorias."})]});if(!f||!g)return l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Yr,{className:"w-16 h-16 text-gray-400 dark:text-slate-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Erro ao carregar dados"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Não foi possível carregar os dados para uma ou ambas as vistorias. Verifique se os IDs são válidos."}),l.jsx("button",{onClick:()=>n("/dashboard"),className:"text-blue-600 hover:underline mt-4 inline-block",children:"Voltar para o Dashboard"})]});const F=[...new Set([...f.photos.map(H=>H.room),...g.photos.map(H=>H.room)])],W=H=>{var X,se;const Z=f.photos.filter(te=>te.room===H).flatMap(te=>(te.analysisResult.objectsDetected||[]).map(le=>({...le,photoUrl:te.url}))),Y=g.photos.filter(te=>te.room===H).flatMap(te=>(te.analysisResult.objectsDetected||[]).map(le=>({...le,photoUrl:te.url}))),re=(X=g.photos.find(te=>te.room===H))==null?void 0:X.url,ue=(se=f.photos.find(te=>te.room===H))==null?void 0:se.url,ne=[],U=[],G=[...Z];Y.forEach(te=>{if(te.condition==="not_found")return;const le=G.findIndex(he=>he.item.toLowerCase().trim()===te.item.toLowerCase().trim());if(le>-1){const he=G.splice(le,1)[0];ne.push({entry:he,exit:te})}else U.push(te)});const I=ne.filter(te=>te.entry.condition!==te.exit.condition),K=ne.filter(te=>te.entry.condition===te.exit.condition),_=G.map(te=>({entry:te,exitPhotoUrl:re})),O=U.map(te=>({exit:te,entryPhotoUrl:ue}));return{changedItems:I,unchangedItems:K,newItems:O,missingItems:_}},J=F.reduce((H,Z)=>{const Y=W(Z);return H.changed+=Y.changedItems.length,H.new+=Y.newItems.length,H.missing+=Y.missingItems.length,H},{changed:0,new:0,missing:0});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 no-print",children:[l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>n(-1),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-2",children:[l.jsx(ei,{className:"w-5 h-5 mr-2"}),"Voltar"]}),l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:["Relatório Comparativo",l.jsx(Yr,{className:"w-6 h-6 text-blue-500"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>S(!0),title:"Configurar Relatório",className:"inline-flex items-center justify-center sm:px-3 sm:py-2 px-2 py-2 border border-gray-300 dark:border-slate-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600",children:[l.jsx(qb,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Configurar"})]}),l.jsxs("button",{onClick:C,title:"Compartilhar",className:"inline-flex items-center justify-center sm:px-3 sm:py-2 px-2 py-2 border border-gray-300 dark:border-slate-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600",children:[l.jsx(Ib,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),l.jsxs("button",{onClick:A,title:"Imprimir",className:"inline-flex items-center justify-center sm:px-3 sm:py-2 px-2 py-2 border border-gray-300 dark:border-slate-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600",children:[l.jsx($b,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),l.jsxs("button",{onClick:N,title:"Download PDF",className:"inline-flex items-center justify-center sm:px-3 sm:py-2 px-2 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:[l.jsx(Ub,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Download PDF"})]})]})]}),l.jsxs("div",{id:"report-content",className:"space-y-8",children:[l.jsxs("header",{className:"text-center border-b border-gray-200 dark:border-slate-700 pb-6 mb-6 print:block hidden",children:[f.property.companyLogoUrl&&l.jsx("img",{src:f.property.companyLogoUrl,alt:"Logo",className:"h-16 w-auto mb-4 mx-auto rounded-full"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Relatório Comparativo de Vistorias"}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mt-2",children:f.property.name})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-slate-700 report-section",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Detalhes da Vistoria"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-sm",children:[l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Empresa:"}),f.property.companyName||"Não informado"]}),l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Vistoriador:"}),(o==null?void 0:o.full_name)||(r==null?void 0:r.email)]}),l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Imóvel:"}),f.property.name]}),l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Endereço:"}),f.property.address]}),l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Data da Entrada:"}),Ba(f.inspectionDate,"dd/MM/yyyy",{locale:$a})]}),l.jsxs("div",{className:"text-gray-800 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400 mr-2",children:"Data da Saída:"}),Ba(g.inspectionDate,"dd/MM/yyyy",{locale:$a})]})]}),l.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-slate-700 pt-6",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-800 dark:text-gray-200 mb-2",children:"Apontamentos da Vistoria"}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:["O presente relatório tem como objetivo registrar o estado de conservação e funcionamento do imóvel na data da vistoria, em conformidade com a Lei nº 8.245/91 (Lei do Inquilinato).",l.jsx("br",{}),"A vistoria foi realizada por observação visual, avaliando aspectos estéticos, acabamentos e funcionamento aparente do imóvel.",l.jsx("br",{}),"Não são contemplados neste relatório: análises estruturais, fundações, solidez da construção ou eventuais vícios ocultos que não sejam perceptíveis no momento da vistoria."]})]})]}),E.summary&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-slate-700 report-section",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Resumo das Diferenças"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 p-4 rounded-lg",children:[l.jsx("p",{className:"text-4xl font-bold text-yellow-600 dark:text-yellow-400",children:J.changed}),l.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Itens com Condição Alterada"})]}),l.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-4 rounded-lg",children:[l.jsx("p",{className:"text-4xl font-bold text-green-600 dark:text-green-400",children:J.new}),l.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Itens Novos na Saída"})]}),l.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-4 rounded-lg",children:[l.jsx("p",{className:"text-4xl font-bold text-red-600 dark:text-red-400",children:J.missing}),l.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Itens Faltando na Saída"})]})]})]}),F.map(H=>{const{changedItems:Z,unchangedItems:Y,newItems:re,missingItems:ue}=W(H),ne=E.rooms[H];return!ne||!(ne.changedItems&&Z.length>0||ne.newItems&&re.length>0||ne.missingItems&&ue.length>0||ne.unchangedItems&&Y.length>0)?null:l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-slate-700 report-room-container",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 border-b border-gray-200 dark:border-slate-700 pb-3 mb-4",children:H}),l.jsxs("div",{className:"space-y-4",children:[ne.changedItems&&Z.length>0&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-lg text-yellow-600 dark:text-yellow-400 mb-2 flex items-center",children:[l.jsx(Fs,{className:"w-5 h-5 mr-2"}),"Itens com Condição Alterada"]}),l.jsx("div",{className:"space-y-2",children:Z.map(G=>l.jsx(yc,{item:G,type:"changed"},G.entry.id))})]}),ne.newItems&&re.length>0&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-lg text-green-600 dark:text-green-400 mb-2 flex items-center",children:[l.jsx(f_,{className:"w-5 h-5 mr-2"}),"Itens Novos na Saída"]}),l.jsx("div",{className:"space-y-2",children:re.map(G=>l.jsx(yc,{item:G,type:"new"},G.exit.id))})]}),ne.missingItems&&ue.length>0&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-lg text-red-600 dark:text-red-400 mb-2 flex items-center",children:[l.jsx(d_,{className:"w-5 h-5 mr-2"}),"Itens Faltando na Saída"]}),l.jsx("div",{className:"space-y-2",children:ue.map(G=>l.jsx(yc,{item:G,type:"missing"},G.entry.id))})]}),ne.unchangedItems&&Y.length>0&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-lg text-blue-600 dark:text-blue-400 mb-2 flex items-center",children:[l.jsx(Mn,{className:"w-5 h-5 mr-2"}),"Itens Sem Alteração (",Y.length,")"]}),l.jsx("div",{className:"space-y-2",children:Y.map(G=>l.jsx(yc,{item:G,type:"unchanged"},G.entry.id))})]})]})]},H)})]}),l.jsx(ni,{children:j&&l.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:()=>S(!1),children:l.jsxs(Re.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",onClick:H=>H.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-slate-700",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Configurar Relatório"}),l.jsx("button",{onClick:()=>S(!1),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700",children:l.jsx(ba,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[l.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700/50 rounded-md",children:[l.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Mostrar Resumo"}),l.jsx("input",{type:"checkbox",checked:E.summary,onChange:H=>T(Z=>({...Z,summary:H.target.checked})),className:"h-5 w-5 rounded text-blue-600 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Mostrar seções por ambiente:"}),l.jsx("div",{className:"space-y-2",children:F.map(H=>{var Z,Y,re,ue;return l.jsxs("div",{className:"p-3 border border-gray-200 dark:border-slate-700 rounded-md",children:[l.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:H}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:(Z=E.rooms[H])==null?void 0:Z.changedItems,onChange:ne=>T(U=>({...U,rooms:{...U.rooms,[H]:{...U.rooms[H],changedItems:ne.target.checked}}})),className:"h-4 w-4 rounded text-yellow-500 focus:ring-yellow-400"})," Itens Alterados"]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:(Y=E.rooms[H])==null?void 0:Y.newItems,onChange:ne=>T(U=>({...U,rooms:{...U.rooms,[H]:{...U.rooms[H],newItems:ne.target.checked}}})),className:"h-4 w-4 rounded text-green-500 focus:ring-green-400"})," Itens Novos"]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:(re=E.rooms[H])==null?void 0:re.missingItems,onChange:ne=>T(U=>({...U,rooms:{...U.rooms,[H]:{...U.rooms[H],missingItems:ne.target.checked}}})),className:"h-4 w-4 rounded text-red-500 focus:ring-red-400"})," Itens Faltando"]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:(ue=E.rooms[H])==null?void 0:ue.unchangedItems,onChange:ne=>T(U=>({...U,rooms:{...U.rooms,[H]:{...U.rooms[H],unchangedItems:ne.target.checked}}})),className:"h-4 w-4 rounded text-blue-500 focus:ring-blue-400"})," Itens Iguais"]})]})]},H)})})]})]}),l.jsx("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-t border-gray-200 dark:border-slate-700 flex justify-end",children:l.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Fechar"})})]})})})]})},N6=({settingKey:a,label:t,currentImageUrl:n,onUpdate:r})=>{const{user:o}=Pt(),{addToast:u,updateToast:d}=gs(),[f,m]=w.useState(!1),[g,y]=w.useState(n),x=w.useRef(null),v=async j=>{var C;const S=(C=j.target.files)==null?void 0:C[0];if(!S||!o)return;if(!S.type.startsWith("image/")){u("Por favor, selecione um arquivo de imagem.","error");return}if(S.size>5*1024*1024){u("A imagem não pode ter mais de 5MB.","error");return}m(!0);const E=u("Enviando imagem...","loading"),T=new FileReader;T.onloadend=()=>{y(T.result)},T.readAsDataURL(S);const A=`public/${o.id}/${a}-${Date.now()}`;try{const{error:N}=await de.storage.from("public_assets").upload(A,S,{cacheControl:"3600",upsert:!0});if(N)throw N;const{data:{publicUrl:P}}=de.storage.from("public_assets").getPublicUrl(A),{error:D}=await de.from("landing_page_settings").upsert({key:a,value:P,description:t});if(D)throw D;r(a,P),d(E,"Imagem atualizada com sucesso!","success")}catch(N){console.error("Error uploading image setting:",N),d(E,`Falha ao atualizar imagem: ${N.message}`,"error"),y(n)}finally{m(!1)}};return l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg flex items-center gap-4",children:[l.jsx("div",{className:"w-24 h-16 bg-gray-200 dark:bg-slate-600 rounded-md overflow-hidden flex-shrink-0",children:g?l.jsx("img",{src:g,alt:t,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:l.jsx(zb,{className:"w-6 h-6"})})}),l.jsx("div",{className:"flex-grow",children:l.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:t})}),l.jsxs("div",{children:[l.jsx("input",{type:"file",ref:x,onChange:v,accept:"image/*",className:"hidden"}),l.jsxs("button",{onClick:()=>{var j;return(j=x.current)==null?void 0:j.click()},disabled:f,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-slate-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-wait",children:[f?l.jsx(la,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx(Hb,{className:"w-4 h-4 mr-2"}),f?"Enviando...":"Alterar"]})]})]})},pb=()=>{const a=$t(),{section:t}=$c(),{user:n,profile:r,refetchProfile:o}=Pt(),{addToast:u,updateToast:d}=gs(),[f,m]=w.useState(t||"personal"),[g,y]=w.useState({fullName:"",email:"",companyName:"",avatarUrl:"",avatarFile:null}),[x,v]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,S]=w.useState({}),[E,T]=w.useState(!0),[A,C]=w.useState([]),[N,P]=w.useState(!1),[D,z]=w.useState(!1),[F,W]=w.useState({current:!1,new:!1,confirm:!1}),[J,H]=w.useState(""),Z=(n==null?void 0:n.email)==="klaus@bleinat.com.br";w.useEffect(()=>{const _=t||"personal";(_==="appearance"||_==="users")&&!Z?a("/profile/personal",{replace:!0}):m(_)},[t,Z,a]),w.useEffect(()=>{n&&r&&(y({fullName:r.full_name||"",email:n.email||"",companyName:r.company_name||"",avatarUrl:r.company_logo_url||"",avatarFile:null}),H(r.company_logo_url||"")),n&&f==="appearance"&&Z&&Y(),n&&f==="users"&&Z&&re()},[n,r,f,Z]);const Y=async()=>{T(!0);const{data:_,error:O}=await de.from("landing_page_settings").select("*");if(O)console.error("Error fetching landing page settings:",O);else{const X=_.reduce((se,te)=>(se[te.key]={value:te.value,description:te.description},se),{});S(X)}T(!1)},re=async()=>{P(!0);try{const{data:_,error:O}=await de.rpc("get_all_users_with_details");if(O)console.error("Error fetching users via RPC:",O),u(`Erro ao carregar usuários: ${O.message}`,"error"),C([]);else if(_){const X=_.map(se=>({id:se.id,full_name:se.full_name||"Nome não informado",email:se.email||"Email não disponível",company_name:se.company_name||"Não informado",company_logo_url:se.company_logo_url||"",plan_tier:se.id==="3189b78e-bbed-427a-b0fa-b184a394ffba"?"Premium":"Gratuito",is_active:!0}));C(X)}}catch(_){console.error("Error fetching users:",_),u(`Erro ao carregar usuários: ${_.message}`,"error"),C([])}finally{P(!1)}},ue=async _=>{if(_.preventDefault(),!n)return;z(!0);const O=u("Salvando perfil...","loading");try{let X=g.avatarUrl;if(g.avatarFile){const le=g.avatarFile,he=`${n.id}/${Date.now()}_${le.name}`,{error:Be}=await de.storage.from("avatars").upload(he,le);if(Be)throw Be;const{data:xe}=de.storage.from("avatars").getPublicUrl(he);if(X=xe.publicUrl,r!=null&&r.company_logo_url){const We=r.company_logo_url.split("/avatars/").pop();We&&await de.storage.from("avatars").remove([We])}}else if(!J&&(r!=null&&r.company_logo_url)){const le=r.company_logo_url.split("/avatars/").pop();le&&await de.storage.from("avatars").remove([le]),X=""}const se={full_name:g.fullName,company_name:g.companyName,company_logo_url:X},{error:te}=await de.from("profiles").update(se).eq("id",n.id);if(te)throw te;d(O,"Perfil atualizado com sucesso!","success"),await o()}catch(X){d(O,`Erro ao atualizar perfil: ${X.message}`,"error")}finally{z(!1),y(X=>({...X,avatarFile:null}))}},ne=async _=>{_.preventDefault(),z(!0);const O=u("Alterando senha...","loading");if(x.newPassword!==x.confirmPassword){d(O,"As senhas não coincidem","error"),z(!1);return}if(x.newPassword.length<6){d(O,"A nova senha deve ter pelo menos 6 caracteres","error"),z(!1);return}try{const{error:X}=await de.auth.updateUser({password:x.newPassword});if(X)throw X;d(O,"Senha alterada com sucesso!","success"),v({currentPassword:"",newPassword:"",confirmPassword:""})}catch(X){d(O,`Erro ao alterar senha: ${X.message}`,"error")}finally{z(!1)}},U=(_,O)=>{S(X=>({...X,[_]:{...X[_],value:O}}))},G=_=>W(O=>({...O,[_]:!O[_]})),I=_=>{var X;const O=(X=_.target.files)==null?void 0:X[0];if(O){if(!O.type.startsWith("image/")){u("Por favor, selecione apenas arquivos de imagem","error");return}if(O.size>5*1024*1024){u("A imagem deve ter no máximo 5MB","error");return}y(te=>({...te,avatarFile:O}));const se=new FileReader;se.onload=te=>{var le;return H((le=te.target)==null?void 0:le.result)},se.readAsDataURL(O)}},K=()=>{H(""),y(_=>({..._,avatarUrl:"",avatarFile:null}))};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>a("/dashboard"),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:l.jsx(ei,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Configurações"}),l.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Gerencie suas informações e preferências"})]})]}),l.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsxs("button",{onClick:()=>a("/profile/personal"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${f==="personal"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[l.jsx(Ir,{className:"w-4 h-4 inline mr-2"}),"Informações Pessoais"]}),l.jsxs("button",{onClick:()=>a("/profile/password"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${f==="password"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[l.jsx(wc,{className:"w-4 h-4 inline mr-2"}),"Senha"]}),Z&&l.jsxs("button",{onClick:()=>a("/profile/users"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${f==="users"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[l.jsx(Gb,{className:"w-4 h-4 inline mr-2"}),"Usuários"]}),Z&&l.jsxs("button",{onClick:()=>a("/profile/appearance"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${f==="appearance"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[l.jsx(zb,{className:"w-4 h-4 inline mr-2"}),"Aparência"]})]})}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-gray-200 dark:border-slate-700",children:[f==="personal"&&l.jsxs("form",{onSubmit:ue,className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[l.jsxs("div",{className:"relative",children:[J?l.jsx("img",{src:J,alt:"Logo da Empresa",className:"w-24 h-24 rounded-full object-cover border-4 border-white dark:border-slate-700 shadow-lg"}):l.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-slate-700 flex items-center justify-center border-4 border-white dark:border-slate-700 shadow-lg",children:l.jsx(qr,{className:"w-12 h-12 text-gray-400"})}),J&&l.jsx("button",{type:"button",onClick:K,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white hover:bg-red-600 transition-colors",children:l.jsx(ba,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsxs("label",{className:"cursor-pointer inline-flex items-center px-4 py-2 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:[l.jsx(xt,{className:"w-4 h-4 mr-2"}),"Logo da Empresa",l.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG ou GIF. Máximo 5MB."})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome Completo (Vistoriador)"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:g.fullName,onChange:_=>y(O=>({...O,fullName:_.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Seu nome completo"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome da Empresa"}),l.jsxs("div",{className:"relative",children:[l.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:g.companyName,onChange:_=>y(O=>({...O,companyName:_.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome da sua empresa"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"email",value:g.email,readOnly:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-gray-100 cursor-not-allowed"})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"O email não pode ser alterado"})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:D,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(Cc,{className:"w-5 h-5 mr-2"}),D?"Salvando...":"Salvar Alterações"]})})]}),f==="password"&&l.jsxs("form",{onSubmit:ne,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova Senha"}),l.jsxs("div",{className:"relative",children:[l.jsx(wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:F.new?"text":"password",value:x.newPassword,onChange:_=>v(O=>({...O,newPassword:_.target.value})),className:"w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mínimo 6 caracteres"}),l.jsx("button",{type:"button",onClick:()=>G("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:F.new?l.jsx(wy,{className:"w-5 h-5"}):l.jsx(jy,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Nova Senha"}),l.jsxs("div",{className:"relative",children:[l.jsx(wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:F.confirm?"text":"password",value:x.confirmPassword,onChange:_=>v(O=>({...O,confirmPassword:_.target.value})),className:"w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Repita a nova senha"}),l.jsx("button",{type:"button",onClick:()=>G("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:F.confirm?l.jsx(wy,{className:"w-5 h-5"}):l.jsx(jy,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:D,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(Cc,{className:"w-5 h-5 mr-2"}),D?"Alterando...":"Alterar Senha"]})})]}),f==="users"&&Z&&l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Gerenciar Usuários"}),N?l.jsx("div",{className:"flex justify-center items-center py-10",children:l.jsx(la,{className:"w-8 h-8 animate-spin text-blue-500"})}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Usuário"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Empresa"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Plano"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:A.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"Nenhum usuário encontrado"})}):A.map(_=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:_.company_logo_url?l.jsx("img",{className:"h-10 w-10 rounded-full",src:_.company_logo_url,alt:""}):l.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-slate-600 flex items-center justify-center",children:l.jsx(Ir,{className:"h-5 w-5 text-gray-400"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:_.full_name||"Nome não informado"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:_.email||"Email não disponível"})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:_.company_name||"Não informado"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-200",children:_.plan_tier||"Gratuito"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.is_active?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-200"}`,children:_.is_active?"Ativo":"Inativo"})})]},_.id))})]}),A.length>0&&l.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 text-center",children:["Total de usuários cadastrados: ",A.length]})]})]}),f==="appearance"&&Z&&l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Gerenciar Imagens da Landing Page"}),E?l.jsx("div",{className:"flex justify-center items-center py-10",children:l.jsx(la,{className:"w-8 h-8 animate-spin text-blue-500"})}):l.jsx("div",{className:"space-y-4",children:Object.entries(j).map(([_,O])=>l.jsx(N6,{settingKey:_,label:O.description||_.replace(/_/g," "),currentImageUrl:O.value,onUpdate:U},_))})]})]})]})},T6=()=>{const{user:a}=Pt(),[t,n]=w.useState(!1),[r,o]=w.useState(null);return{createSubscription:async(g,y)=>{var x,v;if(!a||!a.email||g.price===0)return{success:!1,message:"Dados de usuário ou plano inválidos para criar uma assinatura paga."};n(!0),o(g.id);try{const{data:j,error:S}=await de.functions.invoke("create-subscription",{body:{planId:g.id,paymentMethod:y}});if(S){console.error("Edge function invocation error:",S);const E=((v=(x=S.context)==null?void 0:x.error)==null?void 0:v.message)||S.message||"Falha ao criar a assinatura. Tente novamente.";throw new Error(E)}return j}catch(j){return console.error("Error creating subscription:",j),{success:!1,message:j instanceof Error?j.message:"Ocorreu um erro inesperado ao se comunicar com o serviço de pagamento."}}finally{n(!1),o(null)}},simulateUpgrade:async g=>{if(!a)return{success:!1,message:"Usuário não encontrado"};if(g.price===0){const y={user_id:a.id,plan_name:g.name,price:g.price,upgraded_at:new Date().toISOString(),status:"active"};return localStorage.setItem("vistoria_subscription",JSON.stringify(y)),window.dispatchEvent(new CustomEvent("subscriptionUpdated",{detail:y})),{success:!0,message:`Plano ${g.name} ativado com sucesso!`}}return{success:!1,message:"Para planos pagos, use o sistema de checkout completo"}},getCurrentPlan:()=>{const g=localStorage.getItem("vistoria_subscription");if(g)try{return JSON.parse(g).plan_name}catch{return"Gratuito"}return"Gratuito"},getPlanLimits:g=>{switch(g){case"Básico":return{plan_name:"Básico",properties_limit:2,environments_limit:null,photos_per_environment_limit:5,properties_used:0,environments_used:0,photos_uploaded:0,ai_analyses_used:0};case"Premium":return{plan_name:"Premium",properties_limit:null,environments_limit:null,photos_per_environment_limit:5,properties_used:0,environments_used:0,photos_uploaded:0,ai_analyses_used:0};default:return{plan_name:"Gratuito",properties_limit:1,environments_limit:3,photos_per_environment_limit:5,properties_used:0,environments_used:0,photos_uploaded:0,ai_analyses_used:0}}},loading:t,selectedPlan:r}},E6=({isOpen:a,onClose:t,plan:n,onConfirm:r,loading:o})=>{const[u,d]=w.useState("PIX");if(!n)return null;const f=()=>{switch(n.name){case"Básico":return l.jsx(Hr,{className:"w-8 h-8 text-blue-500"});case"Premium":return l.jsx(Gh,{className:"w-8 h-8 text-purple-500"});default:return l.jsx(On,{className:"w-8 h-8 text-gray-500"})}},m=x=>{switch(x){case"PIX":return"🏦";case"BOLETO":return"🧾";case"CREDIT_CARD":return"💳";default:return"💳"}},g=x=>{switch(x){case"PIX":return"PIX (Instantâneo)";case"BOLETO":return"Boleto Bancário";case"CREDIT_CARD":return"Cartão de Crédito";default:return"PIX"}},y=x=>{switch(x){case"PIX":return"Pagamento instantâneo via PIX. Aprovação imediata.";case"BOLETO":return"Boleto com vencimento em 3 dias úteis.";case"CREDIT_CARD":return"Cobrança recorrente mensal no cartão.";default:return""}};return l.jsx(ni,{children:a&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),l.jsxs(Re.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[f(),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:["Plano ",n.name]}),l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["R$ ",n.price.toFixed(0),"/mês"]})]})]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(ba,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Escolha a forma de pagamento"}),l.jsx("div",{className:"space-y-3",children:["PIX","BOLETO","CREDIT_CARD"].map(x=>l.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${u===x?"border-blue-500 bg-blue-50 dark:bg-blue-950/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[l.jsx("input",{type:"radio",name:"paymentMethod",value:x,checked:u===x,onChange:v=>d(v.target.value),className:"mt-1"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xl",children:m(x)}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:g(x)})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y(x)})]})]},x))})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[l.jsxs("span",{children:["Plano ",n.name]}),l.jsxs("span",{children:["R$ ",n.price.toFixed(2)]})]}),l.jsxs("div",{className:"flex items-center justify-between font-semibold text-gray-900 dark:text-gray-100",children:[l.jsx("span",{children:"Total mensal"}),l.jsxs("span",{children:["R$ ",n.price.toFixed(2)]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Incluído no plano:"}),l.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[l.jsxs("li",{children:["• ",n.properties_limit?`${n.properties_limit} propriedades`:"Propriedades ilimitadas"]}),l.jsxs("li",{children:["• ",n.environments_limit?`${n.environments_limit} ambientes`:"Ambientes ilimitados"]}),l.jsxs("li",{children:["• ",n.photos_per_environment_limit," fotos por ambiente"]}),l.jsx("li",{children:"• Análise com IA"}),l.jsx("li",{children:"• Relatórios comparativos"}),l.jsx("li",{children:"• Exportação em PDF"}),n.name==="Premium"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{children:"• Suporte prioritário"}),l.jsx("li",{children:"• API para integrações"})]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:t,disabled:o,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancelar"}),l.jsx("button",{onClick:()=>r(u),disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:o?"Processando...":"Confirmar Pagamento"})]})]})]})]})})},A6=({isOpen:a,onClose:t,subscriptionId:n,paymentMethod:r,planName:o,pixCode:u,qrCodeUrl:d,boletoUrl:f,invoiceUrl:m,dueDate:g})=>{const y=j=>{navigator.clipboard.writeText(j)},v=(()=>{switch(r){case"PIX":return{title:"PIX Gerado com Sucesso!",message:"Use o código PIX abaixo para finalizar seu pagamento. Após a confirmação, seu plano será ativado automaticamente.",action:"Copiar Código PIX"};case"BOLETO":return{title:"Boleto Gerado com Sucesso!",message:"Seu boleto foi enviado para o seu email. Você também pode imprimi-lo usando o link abaixo.",action:"Imprimir Boleto"};case"CREDIT_CARD":return{title:"Cobrança Recorrente Ativada!",message:"Sua cobrança mensal foi configurada com sucesso. O plano será ativado após a aprovação do pagamento.",action:"Ver Detalhes"};default:return{title:"Pagamento Processado!",message:"Seu pagamento está sendo processado.",action:"Continuar"}}})();return l.jsx(ni,{children:a&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),l.jsxs(Re.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Mn,{className:"w-8 h-8 text-green-500"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:v.title}),l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Plano ",o]})]})]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(ba,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:v.message}),r==="PIX"&&u&&l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 mb-4",children:[d&&l.jsx("div",{className:"text-center mb-4",children:l.jsx("img",{src:`data:image/png;base64,${d}`,alt:"QR Code PIX",className:"mx-auto w-32 h-32"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-mono text-xs bg-gray-100 dark:bg-slate-600 px-2 py-1 rounded break-all",children:u}),l.jsx("button",{onClick:()=>y(u),className:"p-2 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors flex-shrink-0 ml-2",children:l.jsx(y_,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]})]}),r==="BOLETO"&&f&&l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 mb-4",children:[l.jsx(On,{className:"w-12 h-12 text-blue-500 mx-auto mb-2"}),l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Vencimento: ",g?new Date(g).toLocaleDateString("pt-BR"):"A definir"]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 py-2 px-4 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors text-sm",children:"Ver Boleto"}),m&&l.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-gray-100 dark:bg-slate-600 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-500 transition-colors text-sm",children:"Ver Fatura"})]})]}),r==="CREDIT_CARD"&&l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 mb-4",children:[l.jsx(Mn,{className:"w-12 h-12 text-green-500 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"Cobrança recorrente ativa"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>{r==="PIX"&&u?y(u):r==="BOLETO"&&f&&window.open(f,"_blank")},className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:v.action}),l.jsx("button",{onClick:t,className:"w-full px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Fechar"})]}),l.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:l.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 text-center",children:"Após a confirmação do pagamento, seu plano será ativado automaticamente. Você receberá um email de confirmação quando isso acontecer."})})]})]})]})})},C6=()=>{const a=$t(),{user:t}=Pt(),{plans:n,userLimits:r,loading:o,getRemainingUsage:u}=Wc(),{createSubscription:d,simulateUpgrade:f,loading:m}=T6(),{addToast:g}=gs(),[y,x]=w.useState(null),[v,j]=w.useState(!1),[S,E]=w.useState(null),[T,A]=w.useState(!1),[C,N]=w.useState(null),P=async Z=>{if(!t)return;const Y=n.find(re=>re.id===Z);if(Y){if(Y.price===0){x(Z);const re=await f(Y);re.success?(g(re.message,"success"),window.location.reload()):g(re.message,"error"),x(null);return}E(Y),j(!0)}},D=async Z=>{if(!S)return;const Y=await d(S,Z);Y.success?(j(!1),E(null),N({subscriptionId:Y.subscriptionId||"",paymentMethod:Z,planName:S.name,pixCode:Y.pixCode,qrCodeUrl:Y.qrCodeUrl,boletoUrl:Y.boletoUrl,invoiceUrl:Y.invoiceUrl,dueDate:Y.dueDate}),A(!0)):g(Y.message,"error")},z=()=>{j(!1),E(null)},F=Z=>{switch(Z){case"Gratuito":return l.jsx(mS,{className:"w-6 h-6"});case"Básico":return l.jsx(Hr,{className:"w-6 h-6"});case"Premium":return l.jsx(Gh,{className:"w-6 h-6"});default:return l.jsx(On,{className:"w-6 h-6"})}},W=Z=>{switch(Z){case"Gratuito":return"from-gray-500 to-gray-600";case"Básico":return"from-blue-500 to-blue-600";case"Premium":return"from-purple-500 to-purple-600";default:return"from-gray-500 to-gray-600"}};if(o)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-white",children:"Carregando planos..."})})});const J=u("properties"),H=u("environments");return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20"}),l.jsxs("div",{className:"relative px-4 py-8",children:[l.jsxs("button",{onClick:()=>a(-1),className:"flex items-center gap-2 text-white/80 hover:text-white mb-6 transition-colors",children:[l.jsx(ei,{className:"w-5 h-5"}),"Voltar"]}),l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Escolha seu Plano"}),l.jsx("p",{className:"text-xl text-white/80 mb-8",children:"Gerencie mais propriedades e tenha acesso a recursos exclusivos"})]})]})]}),r&&l.jsx("div",{className:"max-w-4xl mx-auto px-4 mb-8",children:l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[l.jsx("h2",{className:"text-white text-lg font-semibold mb-4",children:"Seu Uso Atual"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(qa,{className:"w-5 h-5 text-blue-400"}),l.jsx("span",{className:"text-white font-medium",children:"Propriedades"})]}),l.jsxs("div",{className:"text-2xl font-bold text-white",children:[J.used," / ",J.unlimited?"∞":J.used+J.remaining]}),l.jsxs("p",{className:"text-white/60 text-sm",children:["Plano: ",r.plan_name]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Hr,{className:"w-5 h-5 text-green-400"}),l.jsx("span",{className:"text-white font-medium",children:"Ambientes"})]}),l.jsxs("div",{className:"text-2xl font-bold text-white",children:[H.used," / ",H.unlimited?"∞":H.used+H.remaining]}),l.jsx("p",{className:"text-white/60 text-sm",children:"Por propriedade"})]})]})]})}),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 pb-16",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(Z=>{const Y=(r==null?void 0:r.plan_name)===Z.name,re=Z.name==="Básico";return l.jsxs("div",{className:`relative bg-white/10 backdrop-blur-sm rounded-xl border-2 transition-all duration-300 hover:transform hover:scale-105 ${Y?"border-green-400 shadow-2xl shadow-green-400/20":re?"border-blue-400 shadow-2xl shadow-blue-400/20":"border-white/20 hover:border-white/40"}`,children:[re&&l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:l.jsx("div",{className:"bg-blue-500 text-white text-sm font-bold px-4 py-1 rounded-full",children:"MAIS POPULAR"})}),Y&&l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:l.jsx("div",{className:"bg-green-500 text-white text-sm font-bold px-4 py-1 rounded-full",children:"PLANO ATUAL"})}),l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-r ${W(Z.name)} flex items-center justify-center mx-auto mb-4 text-white`,children:F(Z.name)}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:Z.name}),l.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:Z.price===0?"Grátis":`R$ ${Z.price.toFixed(0)}`}),Z.price>0&&l.jsx("p",{className:"text-white/60",children:"por mês"})]}),l.jsxs("div",{className:"space-y-4 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ma,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:Z.properties_limit?`${Z.properties_limit} propriedades`:"Propriedades ilimitadas"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ma,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:Z.environments_limit?`${Z.environments_limit} ambientes por propriedade`:"Ambientes ilimitados"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ma,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),l.jsxs("span",{className:"text-white",children:[Z.photos_per_environment_limit," fotos por ambiente"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ma,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"Análise com IA"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ma,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"Relatórios comparativos"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ma,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"Exportação em PDF"})]}),Z.name==="Premium"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ma,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"Suporte prioritário"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ma,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"API para integrações"})]})]})]}),l.jsx("div",{className:"text-center",children:Y?l.jsx("button",{disabled:!0,className:"w-full bg-green-500/20 text-green-400 border border-green-400 py-3 px-6 rounded-lg font-semibold cursor-not-allowed",children:"Plano Atual"}):l.jsx("button",{onClick:()=>P(Z.id),disabled:m&&y===Z.id,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${Z.name==="Gratuito"?"bg-white/10 text-white border border-white/20 hover:bg-white/20":`bg-gradient-to-r ${W(Z.name)} text-white hover:shadow-lg hover:shadow-blue-500/25`} ${m&&y===Z.id?"opacity-50 cursor-not-allowed":""}`,children:m&&y===Z.id?"Processando...":Z.name==="Gratuito"?"Fazer Downgrade":"Escolher Plano"})})]})]},Z.id)})}),l.jsxs("div",{className:"mt-16 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Por que escolher um plano pago?"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"bg-white/5 rounded-lg p-6",children:[l.jsx(On,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-white font-semibold mb-2",children:"Sem Limites"}),l.jsx("p",{className:"text-white/60 text-sm",children:"Gerencie quantas propriedades precisar sem restrições"})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-6",children:[l.jsx(Hr,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-white font-semibold mb-2",children:"Mais Eficiência"}),l.jsx("p",{className:"text-white/60 text-sm",children:"Análises completas com IA e relatórios profissionais"})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-6",children:[l.jsx(Gh,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-white font-semibold mb-2",children:"Suporte Premium"}),l.jsx("p",{className:"text-white/60 text-sm",children:"Atendimento prioritário e recursos exclusivos"})]})]})]})]}),l.jsx(E6,{isOpen:v,onClose:z,plan:S,onConfirm:D,loading:m}),C&&l.jsx(A6,{isOpen:T,onClose:()=>{A(!1),N(null),setTimeout(()=>window.location.reload(),1e3)},subscriptionId:C.subscriptionId,paymentMethod:C.paymentMethod,planName:C.planName,pixCode:C.pixCode,qrCodeUrl:C.qrCodeUrl,boletoUrl:C.boletoUrl,invoiceUrl:C.invoiceUrl,dueDate:C.dueDate})]})},R6=()=>l.jsx("header",{className:"absolute top-0 left-0 right-0 z-50 py-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[l.jsxs(Ie,{to:"/",className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center shadow-lg",children:l.jsx(xt,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"VistorIA"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(S1,{}),l.jsx(Ie,{to:"/login",className:"hidden sm:inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 dark:bg-blue-500/20 dark:text-blue-300 dark:hover:bg-blue-500/30",children:"Login"}),l.jsx(Ie,{to:"/signup",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium shadow-md",children:"Começar Agora"})]})]})}),D6=()=>l.jsx("footer",{className:"bg-white dark:bg-slate-900 border-t border-gray-200 dark:border-slate-800",children:l.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," VistorIA. Todos os direitos reservados."]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("a",{href:"#features",className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white",children:"Funcionalidades"}),l.jsx("a",{href:"#how-it-works",className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white",children:"Como Funciona"})]})]})})}),xc=({className:a,children:t})=>l.jsx(Re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5},className:`bg-white/50 dark:bg-slate-800/50 p-6 rounded-2xl shadow-lg border border-gray-200 dark:border-slate-700 backdrop-blur-sm flex flex-col ${a}`,children:t}),M6=()=>{const[a,t]=w.useState({}),[n,r]=w.useState(!0);w.useEffect(()=>{(async()=>{const{data:m,error:g}=await de.from("landing_page_settings").select("key, value");if(g)console.error("Error fetching landing page images:",g);else{const y=m.reduce((x,{key:v,value:j})=>(j&&(x[v]=j),x),{});t(y)}r(!1)})()},[]);const o=[{name:"João Silva",role:"Corretor de Imóveis",text:"O VistorIA transformou minhas vistorias. O que levava horas agora leva minutos, e os relatórios são incrivelmente profissionais.",avatar:"https://i.pravatar.cc/150?u=a042581f4e29026704d"},{name:"Maria Oliveira",role:"Gerente de Locação",text:"A comparação de entrada e saída é fantástica. Nunca mais perdemos um detalhe e as disputas com inquilinos praticamente acabaram.",avatar:"https://i.pravatar.cc/150?u=a042581f4e29026705d"},{name:"Carlos Pereira",role:"Vistoriador Autônomo",text:"A análise por IA é um divisor de águas. A precisão na identificação de itens e problemas me economiza um tempo enorme em campo.",avatar:"https://i.pravatar.cc/150?u=a042581f4e29026706d"}],u=[{icon:vy,text:"Relatórios automáticos com fotos e IA",color:"blue"},{icon:Hr,text:"Vistorias até 10x mais rápidas",color:"green"},{icon:Yr,text:"Comparação inteligente entre vistorias de entrada e saída",color:"purple"},{icon:Gb,text:"Ideal para proprietários, inquilinos e corretores",color:"orange"},{icon:Jk,text:"Perfeito para imobiliárias, construtoras e administradoras",color:"red"},{icon:ky,text:"Registro confiável e seguro, sem papelada",color:"teal"}],d=(f,m)=>n?m:a[f]||m;return l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 min-h-screen flex flex-col",children:[l.jsx(R6,{}),l.jsxs("main",{className:"flex-grow",children:[l.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-28 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 -z-10",children:[l.jsx("div",{className:"absolute inset-0 bg-gray-50 dark:bg-slate-900"}),l.jsx("div",{className:"absolute inset-x-0 top-0 h-[800px] bg-gradient-to-b from-blue-100/50 dark:from-blue-900/20 to-transparent"})]}),l.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx(Re.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"inline-block bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300 font-medium px-4 py-1.5 rounded-full mb-4 text-sm",children:"A Revolução das Vistorias de Imóveis"}),l.jsxs(Re.h1,{className:"text-4xl lg:text-6xl font-extrabold text-gray-900 dark:text-white tracking-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Vistorias ",l.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"10x mais rápidas"})," com Inteligência Artificial"]}),l.jsx(Re.p,{className:"mt-6 max-w-2xl mx-auto text-lg text-gray-600 dark:text-gray-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:"Fotografe, analise e compare. Nossa IA gera relatórios detalhados, identifica problemas e economiza seu tempo."}),l.jsx(Re.div,{className:"mt-10 flex flex-col sm:flex-row items-center justify-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:l.jsxs(Ie,{to:"/signup",className:"inline-flex items-center justify-center w-full sm:w-auto px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-transform hover:scale-105 text-lg font-semibold shadow-lg",children:["Crie sua conta grátis",l.jsx(Hh,{className:"w-5 h-5 ml-2"})]})}),l.jsxs(Re.div,{className:"relative mt-12 lg:mt-20 max-w-5xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6},children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-t-lg p-2 shadow-2xl shadow-slate-900/10 dark:shadow-blue-500/10",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),l.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]})}),l.jsx("img",{src:d("hero_image","https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://placehold.co/1200x750/f3f4f6/4a5568?text=Dashboard+Principal+do+VistorIA"),alt:"Dashboard do VistorIA",className:"w-full h-auto object-cover rounded-b-lg shadow-2xl shadow-slate-900/20 dark:shadow-blue-500/10"})]})]})]}),l.jsx("section",{className:"py-20 lg:py-28 bg-white dark:bg-slate-800/30",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white",children:"Por que usar nosso app?"}),l.jsx("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-400",children:"Simplifique suas vistorias e ganhe tempo, segurança e precisão."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map((f,m)=>{const g=f.icon,y={blue:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",green:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",purple:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",orange:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",red:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",teal:"bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400"},x=y[f.color]||y.blue;return l.jsxs(Re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:m*.1},className:"bg-gray-50 dark:bg-slate-800 p-6 rounded-xl text-center border border-gray-200 dark:border-slate-700",children:[l.jsx("div",{className:`flex items-center justify-center w-16 h-16 ${x.split(" ")[0]} ${x.split(" ")[1]} rounded-full mx-auto mb-4`,children:l.jsx(g,{className:`w-8 h-8 ${x.split(" ")[2]} ${x.split(" ")[3]}`})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:f.text})]},m)})})]})}),l.jsx("section",{id:"features",className:"py-20 lg:py-28",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white",children:"Uma plataforma, todas as soluções"}),l.jsx("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-400",children:"Do clique ao relatório final, tudo em um só lugar."})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(xc,{className:"lg:col-span-2",children:[l.jsx(vy,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Análise Inteligente com IA"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nossa IA identifica objetos, materiais, cores e condições a partir de uma única foto, criando um inventário detalhado automaticamente."}),l.jsx("div",{className:"mt-4 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-900/50 flex-grow",children:l.jsx("img",{src:d("feature_analysis_image","https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://placehold.co/800x450/e2e8f0/4a5568?text=Análise+de+Foto+com+IA"),alt:"Análise de Foto com IA",className:"w-full h-full object-cover"})})]}),l.jsxs(xc,{children:[l.jsx(Yr,{className:"w-8 h-8 text-green-600 dark:text-green-400 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Relatórios Comparativos"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Compare vistorias de entrada e saída e veja o que mudou, o que está faltando e o que é novo."}),l.jsx("div",{className:"mt-4 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-900/50 flex-grow",children:l.jsx("img",{src:d("feature_comparison_image","https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://placehold.co/600x400/e2e8f0/4a5568?text=Comparativo+Lado+a+Lado"),alt:"Relatório Comparativo",className:"w-full h-full object-cover"})})]}),l.jsxs(xc,{children:[l.jsx(qa,{className:"w-8 h-8 text-purple-600 dark:text-purple-400 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"PDFs Profissionais"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Exporte relatórios completos e comparativos em PDF com um clique, prontos para enviar ao cliente."}),l.jsx("div",{className:"mt-4 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-900/50 flex-grow",children:l.jsx("img",{src:d("feature_pdf_image","https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://placehold.co/400x500/e2e8f0/4a5568?text=Relatório+PDF"),alt:"Exemplo de PDF",className:"w-full h-full object-cover"})})]}),l.jsxs(xc,{className:"lg:col-span-2",children:[l.jsx(ky,{className:"w-8 h-8 text-red-600 dark:text-red-400 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Itens Faltando, Problemas e Segurança"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nossa IA vai além de um simples inventário. Ela identifica com precisão o que está faltando em comparação com a vistoria de entrada, aponta problemas como rachaduras e mofo, e verifica itens de segurança cruciais."}),l.jsx("div",{className:"mt-4 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-900/50 flex-grow",children:l.jsx("img",{src:d("feature_issues_image","https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://placehold.co/800x450/e2e8f0/4a5568?text=Detecção+de+Problemas"),alt:"Detecção de Problemas",className:"w-full h-full object-cover"})})]})]})]})}),l.jsx("section",{id:"how-it-works",className:"py-20 lg:py-28 bg-white dark:bg-slate-800/30",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white",children:"Simples como 1, 2, 3"}),l.jsx("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-400",children:"Comece a usar em minutos."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[l.jsxs(Re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:.1},children:[l.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full mx-auto mb-4 text-2xl font-bold text-blue-600 dark:text-blue-400",children:"1"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Fotografe os Ambientes"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tire fotos dos ambientes do imóvel. Nossa IA cuida do resto."}),l.jsx("div",{className:"mt-4 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-700/50 shadow-inner",children:l.jsx("img",{src:d("how_it_works_step1_image","https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://placehold.co/400x300/e2e8f0/4a5568?text=Upload+de+Foto"),alt:"Upload de Foto",className:"w-full h-full object-cover"})})]}),l.jsxs(Re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:.2},children:[l.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full mx-auto mb-4 text-2xl font-bold text-blue-600 dark:text-blue-400",children:"2"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Valide a Análise da IA"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Revise e ajuste as informações geradas pela IA com poucos cliques."}),l.jsx("div",{className:"mt-4 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-700/50 shadow-inner",children:l.jsx("img",{src:d("how_it_works_step2_image","https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://placehold.co/400x300/e2e8f0/4a5568?text=Validação+da+Análise"),alt:"Validação da Análise",className:"w-full h-full object-cover"})})]}),l.jsxs(Re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:.3},children:[l.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full mx-auto mb-4 text-2xl font-bold text-blue-600 dark:text-blue-400",children:"3"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Gere e Compare"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Crie relatórios individuais ou comparativos de entrada e saída em PDF."}),l.jsx("div",{className:"mt-4 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-700/50 shadow-inner",children:l.jsx("img",{src:d("how_it_works_step3_image","https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://img-wrapper.vercel.app/image?url=https://placehold.co/400x300/e2e8f0/4a5568?text=Geração+de+Relatório"),alt:"Geração de Relatório",className:"w-full h-full object-cover"})})]})]})]})}),l.jsx("section",{className:"py-20 lg:py-28",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white",children:"Aprovado por profissionais do mercado"}),l.jsx("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-400",children:"Veja o que nossos usuários estão dizendo."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((f,m)=>l.jsxs(Re.div,{className:"bg-white dark:bg-slate-800/50 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-slate-700",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:m*.1},children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("img",{src:f.avatar,alt:f.name,className:"w-12 h-12 rounded-full mr-4"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:f.name}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.role})]})]}),l.jsx("div",{className:"flex mb-2",children:[...Array(5)].map((g,y)=>l.jsx(pS,{className:"w-5 h-5 text-yellow-400 fill-current"},y))}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:['"',f.text,'"']})]},m))})]})}),l.jsx("section",{className:"py-20 lg:py-28",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 md:p-12 text-center text-white overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsxs("div",{className:"relative",children:[l.jsx("h2",{className:"text-3xl lg:text-4xl font-extrabold mb-4",children:"Pronto para transformar suas vistorias?"}),l.jsx("p",{className:"text-lg text-blue-100 mb-8 max-w-2xl mx-auto",children:"Junte-se a centenas de profissionais que já estão economizando tempo e dinheiro com o VistorIA."}),l.jsxs(Ie,{to:"/signup",className:"inline-flex items-center justify-center px-8 py-4 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-transform hover:scale-105 text-lg font-semibold shadow-2xl",children:["Começar gratuitamente",l.jsx(Hh,{className:"w-5 h-5 ml-2"})]})]})]})})})]}),l.jsx(D6,{})]})},O6=()=>{const a=$t(),{user:t,loading:n}=Pt(),[r,o]=w.useState(""),[u,d]=w.useState(""),[f,m]=w.useState(null);w.useEffect(()=>{o(""),d(""),m(null)},[]);const[g,y]=w.useState(!1),[x,v]=w.useState(!1),[j,S]=w.useState(""),[E,T]=w.useState(!1),[A,C]=w.useState(null);w.useEffect(()=>{t&&!n&&a("/dashboard",{replace:!0})},[t,n,a]);const N=async D=>{D.preventDefault(),y(!0),m(null);try{const{error:z}=await de.auth.signInWithPassword({email:r,password:u});z&&(z.message.includes("Invalid login credentials")||z.code==="invalid_credentials"?m("Email ou senha incorretos. Se você acabou de se cadastrar, verifique seu email para confirmar a conta."):m(z.message)),y(!1)}catch(z){console.error("Unexpected login error:",z),m("Erro inesperado durante o login. Tente novamente."),y(!1)}},P=async D=>{D.preventDefault(),T(!0),C(null);try{const{error:z}=await de.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`});z?(console.error("Password reset error:",z),C(`Erro: ${z.message}`)):(C("Email de recuperação enviado! Verifique sua caixa de entrada."),S(""),setTimeout(()=>{v(!1),C(null)},3e3))}catch(z){console.error("Unexpected password reset error:",z),C("Erro inesperado. Tente novamente.")}finally{T(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"flex justify-center",children:l.jsxs(Ie,{to:"/",className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(xt,{className:"w-7 h-7 text-white"})}),l.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"VistorIA"})]})}),l.jsx("h2",{className:"mt-6 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900 dark:text-white",children:"Acesse sua conta"})]}),l.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 px-6 py-12 shadow sm:rounded-lg sm:px-12",children:[l.jsxs("form",{className:"space-y-6",onSubmit:N,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300",children:"Email"}),l.jsxs("div",{className:"mt-2 relative",children:[l.jsx(Ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",required:!0,value:r,onChange:D=>o(D.target.value),placeholder:"Digite seu email",className:"block w-full rounded-md border-0 py-2.5 pl-10 text-gray-900 dark:text-white dark:bg-slate-700 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-slate-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300",children:"Senha"}),l.jsxs("div",{className:"mt-2 relative",children:[l.jsx(vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",required:!0,value:u,onChange:D=>d(D.target.value),placeholder:"Digite sua senha",className:"block w-full rounded-md border-0 py-2.5 pl-10 text-gray-900 dark:text-white dark:bg-slate-700 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-slate-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),f&&l.jsx("p",{className:"text-sm text-red-500",children:f}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:g,className:"flex w-full justify-center rounded-md bg-blue-600 px-3 py-2.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50",children:g?"Entrando...":"Entrar"})}),l.jsx("div",{className:"text-center",children:l.jsx("button",{type:"button",onClick:()=>v(!x),className:"text-sm text-blue-600 hover:text-blue-500",children:"Esqueci minha senha"})})]}),x&&l.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Recuperar senha"}),l.jsxs("form",{onSubmit:P,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300",children:"Email para recuperação"}),l.jsxs("div",{className:"mt-2 relative",children:[l.jsx(Ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"reset-email",name:"reset-email",type:"email",required:!0,value:j,onChange:D=>S(D.target.value),className:"block w-full rounded-md border-0 py-2.5 pl-10 text-gray-900 dark:text-white dark:bg-slate-700 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-slate-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",placeholder:"Digite seu email"})]})]}),A&&l.jsx("p",{className:`text-sm ${A.includes("Erro")?"text-red-500":"text-green-500"}`,children:A}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{type:"submit",disabled:E,className:"flex-1 justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 disabled:opacity-50",children:E?"Enviando...":"Enviar email"}),l.jsx("button",{type:"button",onClick:()=>{v(!1),C(null),S("")},className:"flex-1 justify-center rounded-md bg-gray-600 px-3 py-2 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-gray-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-600",children:"Cancelar"})]})]})]})]}),l.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500 dark:text-gray-400",children:["Não tem uma conta?"," ",l.jsx(Ie,{to:"/signup",className:"font-semibold leading-6 text-blue-600 hover:text-blue-500",children:"Cadastre-se"})]})]})]})},P6=()=>{$t();const[a,t]=w.useState(""),[n,r]=w.useState(""),[o,u]=w.useState(""),[d,f]=w.useState(null),[m,g]=w.useState(!1),[y,x]=w.useState(!1),v=async j=>{j.preventDefault(),g(!0),f(null);try{console.log("Attempting signup with:",{email:n,fullName:a});const{data:S,error:E}=await de.auth.signUp({email:n,password:o,options:{data:{full_name:a}}});console.log("Signup result:",{data:S,error:E}),E?(console.error("Signup error:",E),f(E.message)):(console.log("Signup successful"),S.user&&!S.session?f("Conta criada! Verifique seu email para confirmar antes de fazer login."):x(!0))}catch(S){console.error("Unexpected signup error:",S),f("Erro inesperado durante o cadastro. Tente novamente.")}finally{g(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"flex justify-center",children:l.jsxs(Ie,{to:"/",className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(xt,{className:"w-7 h-7 text-white"})}),l.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"VistorIA"})]})}),l.jsx("h2",{className:"mt-6 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900 dark:text-white",children:"Crie sua conta"})]}),l.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 px-6 py-12 shadow sm:rounded-lg sm:px-12",children:y?l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-medium text-green-600 dark:text-green-400",children:"Cadastro realizado!"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Enviamos um link de confirmação para o seu e-mail. Por favor, verifique sua caixa de entrada para ativar sua conta."}),l.jsx(Ie,{to:"/login",className:"mt-4 inline-block font-semibold text-blue-600 hover:text-blue-500",children:"Voltar para o Login"})]}):l.jsxs("form",{className:"space-y-6",onSubmit:v,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300",children:"Nome Completo"}),l.jsxs("div",{className:"mt-2 relative",children:[l.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:a,onChange:j=>t(j.target.value),className:"block w-full rounded-md border-0 py-2.5 pl-10 text-gray-900 dark:text-white dark:bg-slate-700 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-slate-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300",children:"Email"}),l.jsxs("div",{className:"mt-2 relative",children:[l.jsx(Ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:j=>r(j.target.value),className:"block w-full rounded-md border-0 py-2.5 pl-10 text-gray-900 dark:text-white dark:bg-slate-700 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-slate-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300",children:"Senha"}),l.jsxs("div",{className:"mt-2 relative",children:[l.jsx(vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,minLength:6,value:o,onChange:j=>u(j.target.value),className:"block w-full rounded-md border-0 py-2.5 pl-10 text-gray-900 dark:text-white dark:bg-slate-700 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-slate-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),d&&l.jsx("p",{className:"text-sm text-red-500",children:d}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:m,className:"flex w-full justify-center rounded-md bg-blue-600 px-3 py-2.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50",children:m?"Criando conta...":"Criar Conta"})})]})}),l.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500 dark:text-gray-400",children:["Já tem uma conta?"," ",l.jsx(Ie,{to:"/login",className:"font-semibold leading-6 text-blue-600 hover:text-blue-500",children:"Faça o login"})]})]})]})},L6=()=>{const a=$t(),[t,n]=w.useState(""),[r,o]=w.useState(""),[u,d]=w.useState(null),[f,m]=w.useState(!1),[g,y]=w.useState(!1);w.useEffect(()=>{(async()=>{const{data:{session:j}}=await de.auth.getSession();j||a("/login")})()},[a]);const x=async v=>{if(v.preventDefault(),m(!0),d(null),t!==r){d("As senhas não coincidem."),m(!1);return}if(t.length<6){d("A senha deve ter pelo menos 6 caracteres."),m(!1);return}try{const{error:j}=await de.auth.updateUser({password:t});j?(console.error("Password update error:",j),d(j.message)):(y(!0),setTimeout(()=>{a("/login")},3e3))}catch(j){console.error("Unexpected password update error:",j),d("Erro inesperado. Tente novamente.")}finally{m(!1)}};return g?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"flex justify-center",children:l.jsxs(Ie,{to:"/",className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(xt,{className:"w-7 h-7 text-white"})}),l.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"VistorIA"})]})}),l.jsx("div",{className:"mt-10 bg-white dark:bg-slate-800 px-6 py-12 shadow sm:rounded-lg sm:px-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-medium text-green-600 dark:text-green-400",children:"Senha atualizada!"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Sua senha foi alterada com sucesso. Você será redirecionado para a tela de login."}),l.jsx(Ie,{to:"/login",className:"mt-4 inline-block font-semibold text-blue-600 hover:text-blue-500",children:"Ir para o Login"})]})})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"flex justify-center",children:l.jsxs(Ie,{to:"/",className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(xt,{className:"w-7 h-7 text-white"})}),l.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"VistorIA"})]})}),l.jsx("h2",{className:"mt-6 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900 dark:text-white",children:"Redefinir senha"})]}),l.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 px-6 py-12 shadow sm:rounded-lg sm:px-12",children:l.jsxs("form",{className:"space-y-6",onSubmit:x,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300",children:"Nova senha"}),l.jsxs("div",{className:"mt-2 relative",children:[l.jsx(vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"password",name:"password",type:"password",required:!0,minLength:6,value:t,onChange:v=>n(v.target.value),className:"block w-full rounded-md border-0 py-2.5 pl-10 text-gray-900 dark:text-white dark:bg-slate-700 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-slate-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",placeholder:"Digite sua nova senha"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300",children:"Confirmar nova senha"}),l.jsxs("div",{className:"mt-2 relative",children:[l.jsx(vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,minLength:6,value:r,onChange:v=>o(v.target.value),className:"block w-full rounded-md border-0 py-2.5 pl-10 text-gray-900 dark:text-white dark:bg-slate-700 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-slate-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",placeholder:"Confirme sua nova senha"})]})]}),u&&l.jsx("p",{className:"text-sm text-red-500",children:u}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md bg-blue-600 px-3 py-2.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50",children:f?"Atualizando...":"Atualizar senha"})})]})}),l.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500 dark:text-gray-400",children:["Lembrou da sua senha?"," ",l.jsx(Ie,{to:"/login",className:"font-semibold leading-6 text-blue-600 hover:text-blue-500",children:"Voltar ao Login"})]})]})]})},U6=()=>{const{user:a,loading:t}=Pt();return t?l.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50 dark:bg-slate-900",children:l.jsxs("div",{className:"text-center",children:[l.jsx(la,{className:"w-12 h-12 animate-spin text-blue-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Entrando..."})]})}):a?l.jsx(Tb,{}):l.jsx(lk,{to:"/login",replace:!0})},z6={success:{icon:Mn,color:"bg-green-500 border-green-600",iconColor:"text-white"},error:{icon:Lb,color:"bg-red-500 border-red-600",iconColor:"text-white"},loading:{icon:la,color:"bg-blue-500 border-blue-600",iconColor:"text-white"}},V6=({id:a,message:t,type:n,onClose:r})=>{const o=z6[n],u=o.icon;return w.useEffect(()=>{if(n!=="loading"){const d=setTimeout(()=>{r()},5e3);return()=>clearTimeout(d)}},[n,r]),l.jsxs(Re.div,{layout:!0,initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.8},transition:{type:"spring",stiffness:300,damping:25},className:`flex items-center w-full max-w-sm p-4 text-white ${o.color} rounded-lg shadow-lg border-b-4`,role:"alert",children:[l.jsx("div",{className:`inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg ${o.iconColor}`,children:l.jsx(u,{className:`w-6 h-6 ${n==="loading"?"animate-spin":""}`})}),l.jsx("div",{className:"ml-3 text-sm font-normal flex-1",children:t}),n!=="loading"&&l.jsx("button",{type:"button",className:"ml-auto -mx-1.5 -my-1.5 bg-white/10 text-white hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100/50 inline-flex items-center justify-center h-8 w-8",onClick:r,"aria-label":"Close",children:l.jsx(ba,{className:"w-5 h-5"})})]})},B6=()=>{const{toasts:a,removeToast:t}=gs();return l.jsx("div",{className:"fixed top-4 right-4 z-[100] space-y-2",children:l.jsx(ni,{children:(a||[]).map(n=>l.jsx(V6,{id:n.id,message:n.message,type:n.type,onClose:()=>t(n.id)},n.id))})})},$6=()=>l.jsx(yC,{});function q6(){return l.jsxs(l.Fragment,{children:[l.jsx(Mk,{children:l.jsxs(uk,{children:[l.jsx(At,{path:"/",element:l.jsx(M6,{})}),l.jsx(At,{path:"/login",element:l.jsx(O6,{})}),l.jsx(At,{path:"/signup",element:l.jsx(P6,{})}),l.jsx(At,{path:"/reset-password",element:l.jsx(L6,{})}),l.jsx(At,{element:l.jsx(U6,{}),children:l.jsxs(At,{element:l.jsx($6,{}),children:[l.jsx(At,{path:"/dashboard",element:l.jsx(kC,{})}),l.jsx(At,{path:"/properties",element:l.jsx(u6,{})}),l.jsx(At,{path:"/property/:id",element:l.jsx(k6,{})}),l.jsx(At,{path:"/inspection",element:l.jsx(x6,{})}),l.jsx(At,{path:"/reports/:inspectionId",element:l.jsx(j6,{})}),l.jsx(At,{path:"/profile",element:l.jsx(pb,{})}),l.jsx(At,{path:"/profile/:section",element:l.jsx(pb,{})}),l.jsx(At,{path:"/subscription",element:l.jsx(C6,{})}),l.jsx(At,{path:"/compare/:entryInspectionId/:exitInspectionId",element:l.jsx(S6,{})})]})})]})}),l.jsx(B6,{})]})}yj.createRoot(document.getElementById("root")).render(l.jsx(w.StrictMode,{children:l.jsx(RS,{children:l.jsx(wC,{children:l.jsx(gC,{children:l.jsx(q6,{})})})})}));
